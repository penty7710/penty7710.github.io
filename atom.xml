<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Myblog</title>
  
  <subtitle>å°‘å¹´ï¼Œä½ æ¸´æœ›åŠ›é‡å—</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-07-22T04:04:22.113Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>pty</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>fastapiå¤šæ–‡ä»¶</title>
    <link href="http://example.com/2021/07/22/fastapi%E5%A4%9A%E6%96%87%E4%BB%B6/"/>
    <id>http://example.com/2021/07/22/fastapi%E5%A4%9A%E6%96%87%E4%BB%B6/</id>
    <published>2021-07-22T04:04:43.122Z</published>
    <updated>2021-07-22T04:04:22.113Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ–‡ä»¶ç»“æ„"><a href="#æ–‡ä»¶ç»“æ„" class="headerlink" title="æ–‡ä»¶ç»“æ„"></a>æ–‡ä»¶ç»“æ„</h2><a id="more"></a><pre class="line-numbers language-none"><code class="language-none">â”œâ”€â”€ appâ”‚   â”œâ”€â”€ __init__.pyâ”‚   â”œâ”€â”€ main.pyâ”‚   â”œâ”€â”€ dependencies.pyâ”‚   â””â”€â”€ routersâ”‚   â”‚   â”œâ”€â”€ __init__.pyâ”‚   â”‚   â”œâ”€â”€ items.pyâ”‚   â”‚   â””â”€â”€ users.pyâ”‚   â””â”€â”€ internalâ”‚       â”œâ”€â”€ __init__.pyâ”‚       â””â”€â”€ admin.py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>app</code> ç›®å½•åŒ…å«äº†æ‰€æœ‰å†…å®¹ã€‚å¹¶ä¸”å®ƒæœ‰ä¸€ä¸ªç©ºæ–‡ä»¶ <code>app/__init__.py</code>ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªã€ŒPython åŒ…ã€ï¼ˆã€ŒPython æ¨¡å—ã€çš„é›†åˆï¼‰ï¼š<code>app</code>ã€‚</li><li>å®ƒåŒ…å«ä¸€ä¸ª <code>app/main.py</code> æ–‡ä»¶ã€‚ç”±äºå®ƒä½äºä¸€ä¸ª Python åŒ…ï¼ˆä¸€ä¸ªåŒ…å« <code>__init__.py</code> æ–‡ä»¶çš„ç›®å½•ï¼‰ä¸­ï¼Œå› æ­¤å®ƒæ˜¯è¯¥åŒ…çš„ä¸€ä¸ªã€Œæ¨¡å—ã€ï¼š<code>app.main</code>ã€‚</li><li>è¿˜æœ‰ä¸€ä¸ª <code>app/dependencies.py</code> æ–‡ä»¶ï¼Œå°±åƒ <code>app/main.py</code> ä¸€æ ·ï¼Œå®ƒæ˜¯ä¸€ä¸ªã€Œæ¨¡å—ã€ï¼š<code>app.dependencies</code>ã€‚</li><li>æœ‰ä¸€ä¸ªå­ç›®å½• <code>app/routers/</code> åŒ…å«å¦ä¸€ä¸ª <code>__init__.py</code> æ–‡ä»¶ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªã€ŒPython å­åŒ…ã€ï¼š<code>app.routers</code>ã€‚</li><li>æ–‡ä»¶ <code>app/routers/items.py</code> ä½äº <code>app/routers/</code> åŒ…ä¸­ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªå­æ¨¡å—ï¼š<code>app.routers.items</code>ã€‚</li><li>åŒæ ·é€‚ç”¨äº <code>app/routers/users.py</code>ï¼Œå®ƒæ˜¯å¦ä¸€ä¸ªå­æ¨¡å—ï¼š<code>app.routers.users</code>ã€‚</li><li>è¿˜æœ‰ä¸€ä¸ªå­ç›®å½• <code>app/internal/</code> åŒ…å«å¦ä¸€ä¸ª <code>__init__.py</code> æ–‡ä»¶ï¼Œå› æ­¤å®ƒæ˜¯åˆä¸€ä¸ªã€ŒPython å­åŒ…ã€ï¼š<code>app.internal</code>ã€‚</li><li><code>app/internal/admin.py</code> æ˜¯å¦ä¸€ä¸ªå­æ¨¡å—ï¼š<code>app.internal.admin</code>ã€‚</li></ul><h2 id="APIRouter"><a href="#APIRouter" class="headerlink" title="APIRouter"></a>APIRouter</h2><p>å¯ä»¥ä½¿ç”¨<code>APIRouter</code>ä¸ºæ¨¡å—åˆ›å»ºè·¯å¾„æ“ä½œï¼Œå¯ä»¥ä¸<code>FastAPI</code>ç±»ç›¸åŒçš„æ–¹å¼åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#å¯¼å…¥APIRouter</span><span class="token keyword">from</span> fastapi <span class="token keyword">import</span> APIRouter<span class="token comment">#åˆ›å»ºä¸€ä¸ªå®ä¾‹</span>router <span class="token operator">=</span> APIRouter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#åƒFastAPIä¸€æ ·åˆ›å»ºè·¯å¾„æ“ä½œï¼Œç›¸å½“äºä¸€ä¸ªè¿·ä½ çš„FastAPIç±»</span><span class="token decorator annotation punctuation">@router<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/users/"</span><span class="token punctuation">,</span> tags<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"users"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">read_users</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"Rick"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"Morty"</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token decorator annotation punctuation">@router<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/users/me"</span><span class="token punctuation">,</span> tags<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"users"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">read_user_me</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"fakecurrentuser"</span><span class="token punctuation">&#125;</span><span class="token decorator annotation punctuation">@router<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/users/&#123;username&#125;"</span><span class="token punctuation">,</span> tags<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"users"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">read_user</span><span class="token punctuation">(</span>username<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token string">"username"</span><span class="token punctuation">:</span> username<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¾èµ–é¡¹"><a href="#ä¾èµ–é¡¹" class="headerlink" title="ä¾èµ–é¡¹"></a>ä¾èµ–é¡¹</h2><p><code>dependencies</code> æ¨¡å—ï¼ˆ<code>app/dependencies.py</code>ï¼‰</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> fastapi <span class="token keyword">import</span> Header<span class="token punctuation">,</span> HTTPException<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_token_header</span><span class="token punctuation">(</span>x_token<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token operator">=</span> Header<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> x_token <span class="token operator">!=</span> <span class="token string">"fake-super-secret-token"</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span> detail<span class="token operator">=</span><span class="token string">"X-Token header invalid"</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_query_token</span><span class="token punctuation">(</span>token<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> token <span class="token operator">!=</span> <span class="token string">"jessica"</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span> detail<span class="token operator">=</span><span class="token string">"No Jessica token provided"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å…¶ä»–ä½¿ç”¨APIRouterçš„æ¨¡å—"><a href="#å…¶ä»–ä½¿ç”¨APIRouterçš„æ¨¡å—" class="headerlink" title="å…¶ä»–ä½¿ç”¨APIRouterçš„æ¨¡å—"></a>å…¶ä»–ä½¿ç”¨APIRouterçš„æ¨¡å—</h2><p><code>app/routers/items.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> fastapi <span class="token keyword">import</span> APIRouter<span class="token punctuation">,</span> Depends<span class="token punctuation">,</span> HTTPException<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>dependencies <span class="token keyword">import</span> get_token_header<span class="token comment">#ç»™è¯¥æ¨¡å—ä¸‹çš„æ‰€æœ‰è·¯å¾„æ“ä½œè¿›è¡Œç»Ÿä¸€çš„è®¾ç½®</span>router <span class="token operator">=</span> APIRouter<span class="token punctuation">(</span>    prefix<span class="token operator">=</span><span class="token string">"/items"</span><span class="token punctuation">,</span>  <span class="token comment">#è®¾ç½®äº†è·¯å¾„ï¼Œ åœ°å€éƒ½å˜æˆäº† /items/xxxx</span>    tags<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"items"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token comment">#è®¾ç½®äº†æ ‡ç­¾</span>    dependencies<span class="token operator">=</span><span class="token punctuation">[</span>Depends<span class="token punctuation">(</span>get_token_header<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">#è®¾ç½®äº†ä¾èµ–</span>    responses<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">400</span><span class="token punctuation">:</span><span class="token punctuation">&#123;</span><span class="token string">"description"</span><span class="token punctuation">:</span><span class="token string">"NOT found"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>  <span class="token comment">#è®¾ç½®äº†response</span><span class="token punctuation">)</span>fake_items_db <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"plumbus"</span><span class="token punctuation">:</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"pty"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">"gun"</span><span class="token punctuation">:</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"gun"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token decorator annotation punctuation">@router<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">read_items</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> fake_items_db<span class="token decorator annotation punctuation">@router<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/&#123;item_id"</span><span class="token punctuation">)</span>  <span class="token comment">#è·¯å¾„å˜ä¸ºï¼š/items/&#123;item_id&#125;</span><span class="token keyword">def</span> <span class="token function">read_item</span><span class="token punctuation">(</span>item_id<span class="token punctuation">:</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> item_id <span class="token keyword">not</span> <span class="token keyword">in</span> fake_items_db<span class="token punctuation">:</span>        <span class="token keyword">raise</span>  HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span>detail<span class="token operator">=</span><span class="token string">"not found"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span>fake_items_db<span class="token punctuation">[</span>item_id<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"item_id"</span><span class="token punctuation">:</span>item_id<span class="token punctuation">&#125;</span><span class="token comment">#è¿˜å¯ä»¥å†ä¸ºæŸä¸ªè·¯å¾„æ“ä½œå•ç‹¬è®¾ç½®ï¼Œè¿™æ ·ä¼šå’Œä¹‹å‰ç»Ÿä¸€è®¾ç½®çš„è¿›è¡Œå åŠ </span><span class="token decorator annotation punctuation">@router<span class="token punctuation">.</span>put</span><span class="token punctuation">(</span>    <span class="token string">"/&#123;item_id&#125;"</span><span class="token punctuation">,</span>    tags<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"custom"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">#æœ‰ä¸¤ä¸ªtagsï¼Œitemså’Œcustom</span>    responses<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">403</span><span class="token punctuation">:</span><span class="token punctuation">&#123;</span><span class="token string">"description"</span><span class="token punctuation">:</span><span class="token string">"operation"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token comment">#æœ‰ä¸¤ä¸ªresponseï¼š404å’Œ403</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">update_item</span><span class="token punctuation">(</span>item_id<span class="token punctuation">:</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> item_id<span class="token operator">!=</span><span class="token string">"plumbus"</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">403</span><span class="token punctuation">,</span>detail<span class="token operator">=</span><span class="token string">"you can only update plumbus"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token string">"item_id"</span><span class="token punctuation">:</span>item_id<span class="token punctuation">,</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"the great"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>éœ€è¦è®¾ç½®<code>dependencies</code>çš„æ—¶å€™çš„æ ¼å¼ï¼Œ<code>dependencies=[Depends(get_token_header)]</code>      <code>Depends</code>è¦ç”¨[]æ‹¬èµ·æ¥äº†ï¼Œæˆ‘ä¹‹å‰æ²¡æ‹¬èµ·æ¥ï¼ŒæŠ¥é”™</strong></p><h2 id="FastAPIä¸»ä½“"><a href="#FastAPIä¸»ä½“" class="headerlink" title="FastAPIä¸»ä½“"></a>FastAPIä¸»ä½“</h2><p>ä½äº <code>app/main.py</code> çš„æ¨¡å—ï¼Œåœ¨è¿™é‡Œå¯¼å…¥å¹¶ä½¿ç”¨<code>FastAPI</code>ç±»ï¼Œè¿™å°†æ˜¯ä½ çš„åº”ç”¨ç¨‹åºä¸­å°†æ‰€æœ‰å†…å®¹è”ç»“åœ¨ä¸€èµ·çš„ä¸»æ–‡ä»¶ã€‚</p><p>ç”±äºå¤§éƒ¨åˆ†é€»è¾‘éƒ½å­˜åœ¨äºè‡ªå·±çš„ç‰¹å®šæ¨¡å—ä¸­ï¼Œæ‰€ä»¥ä¸»æ–‡ä»¶çš„å†…å®¹å°†éå¸¸ç®€å•ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> fastapi <span class="token keyword">import</span> FastAPI<span class="token punctuation">,</span> Depends<span class="token keyword">from</span> <span class="token punctuation">.</span>dependencies <span class="token keyword">import</span> get_token_header<span class="token punctuation">,</span> get_query_token<span class="token keyword">from</span> <span class="token punctuation">.</span>internal <span class="token keyword">import</span> admin<span class="token keyword">from</span> <span class="token punctuation">.</span>routers <span class="token keyword">import</span> items<span class="token punctuation">,</span> users<span class="token comment">#éœ€è¦æ³¨æ„è¿™é‡Œçš„æ ¼å¼ï¼ŒDependsç”¨[]æ‹¬èµ·æ¥äº†ï¼Œæˆ‘ä¹‹å‰æ²¡æ‹¬èµ·æ¥ï¼ŒæŠ¥é”™</span>app<span class="token operator">=</span>FastAPI<span class="token punctuation">(</span>dependencies<span class="token operator">=</span><span class="token punctuation">[</span>Depends<span class="token punctuation">(</span>get_query_token<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#</span>app<span class="token punctuation">.</span>include_router<span class="token punctuation">(</span>items<span class="token punctuation">.</span>router<span class="token punctuation">)</span>app<span class="token punctuation">.</span>include_router<span class="token punctuation">(</span>users<span class="token punctuation">.</span>router<span class="token punctuation">)</span><span class="token comment">#å¯ä»¥åœ¨ä¸»æ–‡ä»¶ä¸­å¯¹å…¶ä»–æ–‡ä»¶çš„routerè¿›è¡Œè®¾ç½®</span><span class="token comment">#å¯¹interal/admin.pyè¿›è¡Œrouterè®¾ç½®</span>app<span class="token punctuation">.</span>include_router<span class="token punctuation">(</span>    admin<span class="token punctuation">.</span>router<span class="token punctuation">,</span>    prefix<span class="token operator">=</span><span class="token string">"/admin"</span><span class="token punctuation">,</span>    tags<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"admin"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    dependencies<span class="token operator">=</span><span class="token punctuation">[</span>Depends<span class="token punctuation">(</span>get_token_header<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    responses<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">418</span><span class="token punctuation">:</span><span class="token punctuation">&#123;</span><span class="token string">"description"</span><span class="token punctuation">:</span><span class="token string">"i'm a teapot"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">root</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token string">"message"</span><span class="token punctuation">:</span><span class="token string">"hello"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é¿å…åç§°å†²çª"><a href="#é¿å…åç§°å†²çª" class="headerlink" title="é¿å…åç§°å†²çª"></a>é¿å…åç§°å†²çª</h3><p>æˆ‘ä»¬å°†ç›´æ¥å¯¼å…¥ <code>items</code> å­æ¨¡å—ï¼Œè€Œä¸æ˜¯ä»…å¯¼å…¥å…¶ <code>router</code> å˜é‡ã€‚</p><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ <code>users</code> å­æ¨¡å—ä¸­ä¹Ÿæœ‰å¦ä¸€ä¸ªåä¸º <code>router</code> çš„å˜é‡ã€‚</p><p>å¦‚æœæˆ‘ä»¬ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å¯¼å…¥ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none">from .routers.items import routerfrom .routers.users import router<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¥è‡ª <code>users</code> çš„ <code>router</code> å°†è¦†ç›–æ¥è‡ª <code>items</code> ä¸­çš„ <code>router</code>ï¼Œæˆ‘ä»¬å°†æ— æ³•åŒæ—¶ä½¿ç”¨å®ƒä»¬ã€‚</p><h2 id="ç›¸å¯¹å¯¼å…¥"><a href="#ç›¸å¯¹å¯¼å…¥" class="headerlink" title="ç›¸å¯¹å¯¼å…¥"></a>ç›¸å¯¹å¯¼å…¥</h2><p>åœ¨ä¸Šé¢æˆ‘ä»¬ä¼šçœ‹åˆ°è¿™æ ·çš„ä»£ç ï¼Œè¿™äº›æ˜¯ä»æˆ‘ä»¬çš„æ–‡ä»¶ä¸­å¯¼å…¥çš„æ¨¡å—ï¼Œä»–ä»¬æ˜¯æ€ä¹ˆå·¥ä½œçš„å‘¢ï¼Ÿ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token punctuation">.</span>dependencies <span class="token keyword">import</span> get_token_header<span class="token punctuation">,</span> get_query_token<span class="token keyword">from</span> <span class="token punctuation">.</span>internal <span class="token keyword">import</span> admin<span class="token keyword">from</span> <span class="token punctuation">.</span>routers <span class="token keyword">import</span> items<span class="token punctuation">,</span> users<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸€ä¸ªå•ç‚¹ <code>.</code>ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none">from .dependencies import get_token_header<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¡¨ç¤ºï¼š</p><ul><li>ä»è¯¥æ¨¡å—ï¼ˆ<code>app/routers/items.py</code> æ–‡ä»¶ï¼‰æ‰€åœ¨çš„åŒä¸€ä¸ªåŒ…ï¼ˆ<code>app/routers/</code> ç›®å½•ï¼‰å¼€å§‹â€¦</li><li>æ‰¾åˆ° <code>dependencies</code> æ¨¡å—ï¼ˆä¸€ä¸ªä½äº <code>app/routers/dependencies.py</code> çš„è™šæ„æ–‡ä»¶ï¼‰â€¦</li><li>ç„¶åä»ä¸­å¯¼å…¥å‡½æ•° <code>get_token_header</code>ã€‚</li></ul><p>ä¸¤ä¸ªç‚¹ <code>..</code>ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none">from ..dependencies import get_token_header<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¡¨ç¤ºï¼š</p><ul><li>ä»è¯¥æ¨¡å—ï¼ˆ<code>app/routers/items.py</code> æ–‡ä»¶ï¼‰æ‰€åœ¨çš„åŒä¸€ä¸ªåŒ…ï¼ˆ<code>app/routers/</code> ç›®å½•ï¼‰å¼€å§‹â€¦</li><li>è·³è½¬åˆ°å…¶çˆ¶åŒ…ï¼ˆ<code>app/</code> ç›®å½•ï¼‰â€¦</li><li>åœ¨è¯¥çˆ¶åŒ…ä¸­ï¼Œæ‰¾åˆ° <code>dependencies</code> æ¨¡å—ï¼ˆä½äº <code>app/dependencies.py</code> çš„æ–‡ä»¶ï¼‰â€¦</li><li>ç„¶åä»ä¸­å¯¼å…¥å‡½æ•° <code>get_token_header</code>ã€‚</li></ul><p>åŒæ ·ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†ä¸‰ä¸ªç‚¹ <code>...</code>ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none">from ...dependencies import get_token_header<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é‚£å°†æ„å‘³ç€ï¼š</p><ul><li>ä»è¯¥æ¨¡å—ï¼ˆ<code>app/routers/items.py</code> æ–‡ä»¶ï¼‰æ‰€åœ¨çš„åŒä¸€ä¸ªåŒ…ï¼ˆ<code>app/routers/</code> ç›®å½•ï¼‰å¼€å§‹â€¦</li><li>è·³è½¬åˆ°å…¶çˆ¶åŒ…ï¼ˆ<code>app/</code> ç›®å½•ï¼‰â€¦</li><li>ç„¶åè·³è½¬åˆ°è¯¥åŒ…çš„çˆ¶åŒ…ï¼ˆè¯¥çˆ¶åŒ…å¹¶ä¸å­˜åœ¨ï¼Œ<code>app</code> å·²ç»æ˜¯æœ€é¡¶å±‚çš„åŒ… ğŸ˜±ï¼‰â€¦</li><li>åœ¨è¯¥çˆ¶åŒ…ä¸­ï¼Œæ‰¾åˆ° <code>dependencies</code> æ¨¡å—ï¼ˆä½äº <code>app/</code> æ›´ä¸Šä¸€çº§ç›®å½•ä¸­çš„ <code>dependencies.py</code> æ–‡ä»¶ï¼‰â€¦</li><li>ç„¶åä»ä¸­å¯¼å…¥å‡½æ•° <code>get_token_header</code>ã€‚</li></ul><p><code>from .routers import items, users</code></p><p>è¡¨ç¤ºï¼š</p><ul><li>ä»è¯¥æ¨¡å—ï¼ˆ<code>app/main.py</code> æ–‡ä»¶ï¼‰æ‰€åœ¨çš„åŒä¸€ä¸ªåŒ…ï¼ˆ<code>app/</code> ç›®å½•ï¼‰å¼€å§‹â€¦</li><li>å¯»æ‰¾ <code>routers</code> å­åŒ…ï¼ˆä½äº <code>app/routers/</code> çš„ç›®å½•ï¼‰â€¦</li><li>ä»è¯¥åŒ…ä¸­ï¼Œå¯¼å…¥å­æ¨¡å— <code>items</code> (ä½äº <code>app/routers/items.py</code> çš„æ–‡ä»¶) ä»¥åŠ <code>users</code> (ä½äº <code>app/routers/users.py</code> çš„æ–‡ä»¶)â€¦</li></ul><p><code>items</code> æ¨¡å—å°†å…·æœ‰ä¸€ä¸ª <code>router</code> å˜é‡ï¼ˆ<code>items.router</code>ï¼‰ã€‚è¿™ä¸æˆ‘ä»¬åœ¨ <code>app/routers/items.py</code> æ–‡ä»¶ä¸­åˆ›å»ºçš„å˜é‡ç›¸åŒï¼Œå®ƒæ˜¯ä¸€ä¸ª <code>APIRouter</code> å¯¹è±¡ã€‚</p><p>ç„¶åæˆ‘ä»¬å¯¹ <code>users</code> æ¨¡å—è¿›è¡Œç›¸åŒçš„æ“ä½œã€‚</p><h3 id="ç»å¯¹å¼•å…¥"><a href="#ç»å¯¹å¼•å…¥" class="headerlink" title="ç»å¯¹å¼•å…¥"></a>ç»å¯¹å¼•å…¥</h3><p><code>from app.routers import items, users</code>    å¦‚æœæ˜¯è¿™ç§æ ·å­çš„è¯ï¼Œå°±æ˜¯ç»å¯¹å¼•å…¥</p><h2 id="APIæ–‡æ¡£"><a href="#APIæ–‡æ¡£" class="headerlink" title="APIæ–‡æ¡£"></a>APIæ–‡æ¡£</h2><p><img src="/.com//Users\å½­å¤©æ€¡\AppData\Roaming\Typora\typora-user-images\image-20210721180819459.png" alt="image-20210721180819459"></p><p><strong>APIæ–‡æ¡£ç•Œé¢å¦‚ä¸Šï¼Œå¯ä»¥çœ‹åˆ°å› ä¸ºç»™æ¯ä¸ªæ¨¡å—è®¾ç½®äº†tagsï¼Œæ‰€ä»¥åˆ†æˆäº†ä¸åŒçš„ç±»ï¼Œè€Œ<code>/items/&#123;item_id&#125;</code>å› ä¸ºè®¾ç½®äº†ä¸¤ä¸ªtags(ç»Ÿä¸€è®¾ç½®äº†ä¸€ä¸ªitemsï¼Œè‡ªå·±å•ç‹¬è®¾ç½®äº†custom)ï¼Œæ‰€ä»¥æ˜¾ç¤ºå‡ºäº†ä¸¤ä¸ªã€‚</strong></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æ–‡ä»¶ç»“æ„&quot;&gt;&lt;a href=&quot;#æ–‡ä»¶ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ä»¶ç»“æ„&quot;&gt;&lt;/a&gt;æ–‡ä»¶ç»“æ„&lt;/h2&gt;</summary>
    
    
    
    
    <category term="python" scheme="http://example.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>pythonè¿æ¥mysql</title>
    <link href="http://example.com/2021/07/22/python%20%E8%BF%9E%E6%8E%A5mysql/"/>
    <id>http://example.com/2021/07/22/python%20%E8%BF%9E%E6%8E%A5mysql/</id>
    <published>2021-07-22T04:04:40.972Z</published>
    <updated>2021-07-22T06:36:30.951Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨çœ‹fastapiçš„å®˜æ–¹æ–‡æ¡£ï¼Œç„¶åæ„Ÿè§‰sqléƒ¨åˆ†æŒºéš¾çš„ï¼Œäºæ˜¯å†™ä¸‹ä¸€ç¯‡åšå®¢æ¥è®°å½•ä¸‹ã€‚</p><h2 id="å®‰è£…å·¥å…·"><a href="#å®‰è£…å·¥å…·" class="headerlink" title="å®‰è£…å·¥å…·"></a>å®‰è£…å·¥å…·</h2><p>é¦–å…ˆè¦å®‰è£…ä¸¤ä¸ªä¸œè¥¿</p><p><code>pip install sqlalchemy</code></p><p><code>pip install pymysql</code></p><p>å‰è€…æ˜¯ä¸€ä¸ªORMæ¡†æ¶ï¼Œåœ¨ORMä¸­ï¼Œä½ åˆ›å»ºä¸€ä¸ªç±»å°±ä¼šé€šè¿‡SQLAlchemyå°†å…¶è‡ªåŠ¨è½¬æˆä¸€å¼ è¡¨ï¼Œåœ¨ç±»ä¸­çš„æ¯ä¸€ä¸ªå±æ€§å°±ä¼šè½¬æˆè¡¨ä¸­çš„å­—æ®µã€‚</p><p>åè€…æ˜¯ç”¨æ¥è¿æ¥æ•°æ®åº“çš„</p><a id="more"></a><h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h2><pre class="line-numbers language-none"><code class="language-none">â””â”€â”€ sql_app    â”œâ”€â”€ __init__.py    â”œâ”€â”€ crud.py    â”œâ”€â”€ database.py    â”œâ”€â”€ main.py    â”œâ”€â”€ models.py    â””â”€â”€ schemas.py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>sql_appæ˜¯åŒ…åï¼Œæ³¨æ„æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªç›®å½•</li><li><code>_init_.py</code>æ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œåˆ›å»ºsql_appä¼šè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªæ–‡ä»¶</li><li><code>crud.py</code>æ˜¯ç”¨æ¥è¿›è¡Œcrudæ“ä½œçš„æ–‡ä»¶</li><li><code>database.py</code>æ˜¯ç”¨æ¥è¿æ¥æ•°æ®åº“çš„</li><li><code>main.py</code>æ˜¯ç”¨æ¥æ¥å—å‰ç«¯è¯·æ±‚ï¼Œç±»ä¼¼äºcontrollerå±‚</li><li><code>models.py</code>æ˜¯ç”¨æ¥åˆ›å»ºSQLAlchemyæ¨¡å‹çš„ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºè¡¨</li><li><code>schemas.py</code>æ˜¯ç”¨æ¥åˆ›å»ºPydenticæ¨¡å‹çš„</li></ul><h2 id="database-py"><a href="#database-py" class="headerlink" title="database.py"></a>database.py</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> create_engine<span class="token keyword">from</span> sqlalchemy<span class="token punctuation">.</span>orm <span class="token keyword">import</span> sessionmaker<span class="token punctuation">,</span> declarative_base<span class="token comment">#è¿æ¥æ•°æ®åº“çš„url</span>SQLALCHEMY_DATABASES_URL <span class="token operator">=</span><span class="token string">"mysql+pymysql://root:123456@localhost:3306/python"</span><span class="token comment">#echo=Trueè¡¨ç¤ºå¼•æ“å°†ç”¨repr()å‡½æ•°è®°å½•æ‰€æœ‰è¯­å¥åŠå…¶å‚æ•°åˆ—è¡¨åˆ°æ—¥å¿—</span>engine <span class="token operator">=</span> create_engine<span class="token punctuation">(</span>SQLALCHEMY_DATABASES_URL<span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf8"</span><span class="token punctuation">,</span>echo<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment">#SQLAlchemyä¸­ï¼ŒCRUDæ˜¯é€šä¼šè¯è¿›è¡Œç®¡ç†çš„ï¼Œæ‰€ä»¥éœ€è¦å…ˆåˆ›å»ºä¼šè¯</span><span class="token comment">#æ¯ä¸€ä¸ªSessionLocalå®ä¾‹å°±æ˜¯ä¸€ä¸ªæ•°æ®åº“ä¼šè¯</span><span class="token comment">#commitæ˜¯æŒ‡æäº¤äº‹åŠ¡ï¼Œå°†å˜æ›´ä¿å­˜åˆ°æ•°æ®åº“</span><span class="token comment">#flushæ˜¯æŒ‡å‘é€åˆ°æ•°æ®åº“è¯­å¥åˆ°æ•°æ®åº“ï¼Œä½†æ•°æ®åº“ä¸ä¸€å®šæ‰§è¡Œå†™å…¥ç£ç›˜</span><span class="token comment">#autocommitå’Œautoflushæ˜¯å¯ä»¥ä¸å†™çš„</span>SessionLocal <span class="token operator">=</span> sessionmaker<span class="token punctuation">(</span>autocommit<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>autoflush<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>bind<span class="token operator">=</span>engine<span class="token punctuation">)</span><span class="token comment">#åˆ›å»ºåŸºæœ¬æ˜ å°„ç±»</span>Base <span class="token operator">=</span> declarative_base<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åœ¨æ•°æ®åº“ç›¸å…³çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªSQLAlchemyçš„â€engineâ€ï¼Œç„¶ååˆ›å»ºSessionLocalå®ä¾‹è¿›è¡Œä¼šè¯ï¼Œæœ€ååˆ›å»ºæ¨¡å‹ç±»çš„åŸºç±»ã€‚</strong></p><h2 id="models-py"><a href="#models-py" class="headerlink" title="models.py"></a>models.py</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> Column<span class="token punctuation">,</span> Integer<span class="token punctuation">,</span> String<span class="token punctuation">,</span> Boolean<span class="token punctuation">,</span> ForeignKey<span class="token keyword">from</span> sqlalchemy<span class="token punctuation">.</span>orm <span class="token keyword">import</span> relationship<span class="token keyword">from</span> <span class="token punctuation">.</span>database <span class="token keyword">import</span> Base<span class="token comment">#ä½¿ç”¨database.pyåˆ›å»ºçš„Baseç±»åˆ›å»ºSQLAlchemyæ¨¡å‹</span><span class="token comment">#å¯ä»¥ç†è§£ä¸ºè¿™ä¸ªæ˜¯ä¸çœŸæ­£çš„æ•°æ®åº“ç›¸å…³è”çš„ç±»</span><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#å¯¹åº”çš„æ˜¯æ•°æ®åº“ä¸­çš„è¡¨å</span>    __tablename__ <span class="token operator">=</span> <span class="token string">"users"</span>    <span class="token comment">#è®¾ç½®è¡¨çš„å±æ€§åï¼Œä½¿ç”¨Columnè®¾ç½®ï¼Œå®šä¹‰äº†å±æ€§çš„ç±»å‹</span>    <span class="token builtin">id</span> <span class="token operator">=</span> Column<span class="token punctuation">(</span>Integer<span class="token punctuation">,</span>primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    email <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    hashed_password <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    is_active <span class="token operator">=</span> Column<span class="token punctuation">(</span>Boolean<span class="token punctuation">,</span>default<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    <span class="token comment">#è®¾ç½®å…³ç³»ï¼Œé€šè¿‡relationshipè®¾ç½®ï¼Œè¿™ä¸ªä¸æ˜¯å±æ€§ï¼Œåœ¨æ•°æ®åº“ä¸­ä¸éœ€è¦æœ‰è¿™ä¸€ä¸ªå­—æ®µ</span>    <span class="token comment">#å½“è®¿é—®users.itemsæ—¶ï¼Œä¼šç›´æ¥å…³è”åˆ°Itemè¡¨ï¼Œå¯ä»¥ç›´æ¥è·å–åˆ°Itemçš„å­—æ®µæ•°æ®</span>    <span class="token comment">#åé¢çš„back_populatesæ˜¯åå‘æŸ¥è¯¢ï¼Œæœ‰è¿™ä¸ªItemè¡¨å¯ä»¥é€šè¿‡items.ownerè®¿é—®åˆ°Userè¡¨çš„å­—æ®µæ•°æ®</span>    <span class="token comment">#ä½¿ç”¨äº†back_populates,é‚£ä¹ˆè¢«å…³è”çš„æ•°æ®åº“ä¹Ÿè¦æ˜¾ç¤ºçš„ä½¿ç”¨relationship</span>    <span class="token comment">#è¿™ä¸ªå…¶å®æˆ‘ä¹Ÿè¿˜ä¸æ˜¯å¤ªæ‡‚</span>    items <span class="token operator">=</span> relationship<span class="token punctuation">(</span><span class="token string">"Item"</span><span class="token punctuation">,</span>back_populates<span class="token operator">=</span><span class="token string">"owner"</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Item</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span><span class="token punctuation">:</span>    __tablename__ <span class="token operator">=</span> <span class="token string">"items"</span>    <span class="token builtin">id</span><span class="token operator">=</span>Column<span class="token punctuation">(</span>Integer<span class="token punctuation">,</span>primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    title <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    description <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    <span class="token comment">#è®¾ç½®äº†å¤–é”®ï¼Œä½¿ç”¨ForeignKeyå‚æ•°è®¾ç½®ï¼Œé‡Œé¢å¡«å†™å…³è”çš„è¡¨å’Œå…·ä½“çš„å±æ€§</span>    <span class="token comment">#æ³¨æ„è¿™é‡Œæ˜¯è¡¨åè€Œä¸æ˜¯ä¸Šé¢çš„ç±»å</span>    owner_id  <span class="token operator">=</span> Column<span class="token punctuation">(</span>Integer<span class="token punctuation">,</span>ForeignKey<span class="token punctuation">(</span><span class="token string">"users.id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    owner <span class="token operator">=</span> relationship<span class="token punctuation">(</span><span class="token string">"User"</span><span class="token punctuation">,</span>back_populates<span class="token operator">=</span><span class="token string">"items"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>é€šè¿‡æ•°æ®åº“é…ç½®æ–‡ä»¶ä¸­çš„åŸºç±»æ¥åˆ›å»ºæ¨¡å‹ç±»ã€‚</strong></p><h2 id="schemas-py"><a href="#schemas-py" class="headerlink" title="schemas.py"></a>schemas.py</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> Optional<span class="token punctuation">,</span> List<span class="token keyword">from</span> pydantic <span class="token keyword">import</span> BaseModel<span class="token keyword">class</span> <span class="token class-name">ItemBase</span><span class="token punctuation">(</span>BaseModel<span class="token punctuation">)</span><span class="token punctuation">:</span>    title<span class="token punctuation">:</span><span class="token builtin">str</span>    description<span class="token punctuation">:</span>Optional<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token comment">#è¿™ä¸ªæ˜¯ç”¨æ¥åˆ›å»ºItemçš„ç±»ï¼Œå¯ä»¥ç†è§£ä¸ºå‰ç«¯ä¼ è¿‡æ¥çš„è¦æ–°å¢çš„æ•°æ®</span><span class="token keyword">class</span> <span class="token class-name">ItemCreate</span><span class="token punctuation">(</span>ItemBase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token comment">#ç»§æ‰¿è‡ªItemBase</span><span class="token comment">#Pydanticé£æ ¼æ˜¯å£°æ˜ç±»å‹ï¼Œæ‰€ä»¥ç”¨çš„æ˜¯:</span><span class="token comment">#SQLAlchemyé£æ ¼æ˜¯å®šä¹‰å±æ€§ï¼Œæ‰€ä»¥ç”¨çš„æ˜¯=</span><span class="token keyword">class</span> <span class="token class-name">Item</span><span class="token punctuation">(</span>ItemBase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token builtin">id</span><span class="token punctuation">:</span> <span class="token builtin">int</span>    owner_id<span class="token punctuation">:</span> <span class="token builtin">int</span>    <span class="token keyword">class</span> <span class="token class-name">Config</span><span class="token punctuation">:</span>        orm_mode<span class="token operator">=</span><span class="token boolean">True</span><span class="token keyword">class</span> <span class="token class-name">UserBase</span><span class="token punctuation">(</span>BaseModel<span class="token punctuation">)</span><span class="token punctuation">:</span>    email<span class="token punctuation">:</span><span class="token builtin">str</span><span class="token keyword">class</span> <span class="token class-name">UserCreate</span><span class="token punctuation">(</span>UserBase<span class="token punctuation">)</span><span class="token punctuation">:</span>    password<span class="token punctuation">:</span><span class="token builtin">str</span><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span>UserBase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token builtin">id</span><span class="token punctuation">:</span> <span class="token builtin">int</span>    is_active<span class="token punctuation">:</span> <span class="token builtin">bool</span>    items<span class="token punctuation">:</span> List<span class="token punctuation">[</span>Item<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment">#Configç±»ç”¨æ¥ç»™Pydanticæä¾›é…ç½®ä¿¡æ¯</span>    <span class="token keyword">class</span> <span class="token class-name">Config</span><span class="token punctuation">:</span>        <span class="token comment">#orm_modeå‡ºäº†å¯ä»¥è®©Pydanticè¯»å–å­—å…¸ç±»å‹çš„æ•°æ®ï¼Œè¿˜æ”¯æŒPydanticè¯»å–å±æ€§æ•°æ®ï¼Œæ¯”å¦‚SQLAlchemyæ¨¡å‹çš„æ•°æ®</span>        <span class="token comment">#è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨è·¯å¾„æ“ä½œå‡½æ•°ä¸­ç›´æ¥è¿”å›SQLAlchemyæ•°æ®æ¨¡å‹ï¼Œæ²¡æœ‰è¿™ä¸ªé…ç½®é¡¹æ˜¯ä¸æ”¯æŒçš„</span>        orm_mode <span class="token operator">=</span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å®šä¹‰è¯·æ±‚å‚æ•°æ¨¡å‹éªŒè¯ä¸å“åº”æ¨¡å‹éªŒè¯çš„Pydanticæ¨¡å‹ï¼Œå…¶ä¸­å“åº”æ¨¡å‹ä¸­è®¾ç½®orm_mode=Trueå‚æ•°ï¼Œè¡¨ç¤ºä¸ORMæ¨¡å‹å…¼å®¹ï¼Œå› ä¸ºåç»­ä¸­è¿”å›çš„æ•°æ®åº“æŸ¥è¯¢æ˜¯ormæ¨¡å‹ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªå‚æ•°å¯ä»¥å°†ormæ¨¡å‹é€šè¿‡pydanticæ¨¡å‹è¿›è¡ŒéªŒè¯ã€‚</strong></p><h2 id="crud-py"><a href="#crud-py" class="headerlink" title="crud.py"></a>crud.py</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> sqlalchemy<span class="token punctuation">.</span>orm <span class="token keyword">import</span> Session<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> models<span class="token punctuation">,</span> schemas<span class="token comment">#é€šè¿‡idæŸ¥è¯¢ç”¨æˆ·</span><span class="token keyword">def</span> <span class="token function">get_user</span><span class="token punctuation">(</span>db<span class="token punctuation">:</span>Session<span class="token punctuation">,</span>user_id<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#è¿”å›çš„æ˜¯models.User(å…¶å®å°±æ˜¯usersè¡¨)ä¸­çš„å…¨éƒ¨å±æ€§ï¼Œå¹¶ä¸”æ¡ä»¶æ˜¯user_id = usersä¸­çš„id</span>    <span class="token keyword">return</span> db<span class="token punctuation">.</span>query<span class="token punctuation">(</span>models<span class="token punctuation">.</span>User<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token operator">==</span>user_id<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#é€šè¿‡emailæŸ¥è¯¢ç”¨æˆ·</span><span class="token keyword">def</span> <span class="token function">get_user_by_email</span><span class="token punctuation">(</span>db<span class="token punctuation">:</span>Session<span class="token punctuation">,</span>email<span class="token punctuation">:</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#æ¡ä»¶æ˜¯é‚®ç®±ç›¸ç­‰</span>    <span class="token keyword">return</span>  db<span class="token punctuation">.</span>query<span class="token punctuation">(</span>models<span class="token punctuation">.</span>User<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>User<span class="token punctuation">.</span>email <span class="token operator">==</span> email<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#æŸ¥è¯¢å¤šä¸ªç”¨æˆ·</span><span class="token keyword">def</span> <span class="token function">get_users</span><span class="token punctuation">(</span>db<span class="token punctuation">:</span>Session<span class="token punctuation">,</span>skip<span class="token punctuation">:</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>limit<span class="token punctuation">:</span><span class="token builtin">int</span> <span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#offsetè¡¨ç¤ºåç§»é‡ï¼Œ0è¡¨ç¤ºä¸åç§»,1è¡¨ç¤ºåç§»1æ¡æ•°æ®ï¼Œå³ä»ç¬¬äºŒæ¡å¼€å§‹</span>    <span class="token comment">#limitè¡¨ç¤ºè¡¨ç¤ºé™å®šæ•°é‡</span>    <span class="token comment">#ä»ç¬¬ä¸€æ¡å¼€å§‹,æŸ¥è¯¢100æ¡æ•°æ®ï¼Œè¿”å›çš„æ˜¯ä¸ªåˆ—è¡¨</span>    <span class="token keyword">return</span> db<span class="token punctuation">.</span>query<span class="token punctuation">(</span>models<span class="token punctuation">.</span>User<span class="token punctuation">)</span><span class="token punctuation">.</span>offset<span class="token punctuation">(</span>skip<span class="token punctuation">)</span><span class="token punctuation">.</span>limit<span class="token punctuation">(</span>limit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#å¢åŠ æ•°æ®</span><span class="token comment">#å°†å‰ç«¯ä¼ è¿‡æ¥çš„æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“</span><span class="token comment">#ä¼ è¿‡æ¥çš„æ•°æ®æ˜¯Pydanticæ¨¡å‹ï¼Œéœ€è¦å…ˆè½¬æ¢ä¸ºSQLAlchemyæ¨¡å‹</span><span class="token keyword">def</span> <span class="token function">create_user</span><span class="token punctuation">(</span>db<span class="token punctuation">:</span>Session<span class="token punctuation">,</span>user<span class="token punctuation">:</span>schemas<span class="token punctuation">.</span>UserCreate<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#å¯†ç å“ˆå¸ŒåŒ–(ä¼ªé€ )</span>    fake_hashed_password <span class="token operator">=</span> user<span class="token punctuation">.</span>password<span class="token operator">+</span><span class="token string">"pty123"</span>    <span class="token comment">#useræ˜¯Pydanticæ¨¡å‹çš„ï¼Œé‡æ–°åˆ›å»ºdb_user,db_useræ˜¯SQLALchemyç±»å‹çš„</span>    db_user <span class="token operator">=</span> models<span class="token punctuation">.</span>User<span class="token punctuation">(</span>email<span class="token operator">=</span>user<span class="token punctuation">.</span>email<span class="token punctuation">,</span>hashed_password<span class="token operator">=</span>fake_hashed_password<span class="token punctuation">)</span>    <span class="token comment">#æ·»åŠ åˆ°æ•°æ®åº“</span>    db<span class="token punctuation">.</span>add<span class="token punctuation">(</span>db_user<span class="token punctuation">)</span>    <span class="token comment">#æäº¤</span>    db<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">#åˆ·æ–°</span>    db<span class="token punctuation">.</span>refresh<span class="token punctuation">(</span>db_user<span class="token punctuation">)</span>    <span class="token keyword">return</span> db_user<span class="token comment">#æŸ¥è¯¢å¤šä¸ªé¡¹ç›®</span><span class="token keyword">def</span> <span class="token function">get_items</span><span class="token punctuation">(</span>db<span class="token punctuation">:</span>Session<span class="token punctuation">,</span>skip<span class="token punctuation">:</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>limit <span class="token punctuation">:</span><span class="token builtin">int</span><span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> db<span class="token punctuation">.</span>query<span class="token punctuation">(</span>models<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">.</span>offset<span class="token punctuation">(</span>skip<span class="token punctuation">)</span><span class="token punctuation">.</span>limit<span class="token punctuation">(</span>limit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#å¢åŠ æ•°æ®</span><span class="token keyword">def</span> <span class="token function">create_user_item</span><span class="token punctuation">(</span>db<span class="token punctuation">:</span>Session<span class="token punctuation">,</span>item<span class="token punctuation">:</span>schemas<span class="token punctuation">.</span>ItemCreate<span class="token punctuation">,</span>user_id<span class="token punctuation">:</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    db_item <span class="token operator">=</span> models<span class="token punctuation">.</span>Item<span class="token punctuation">(</span><span class="token operator">**</span>item<span class="token punctuation">.</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>owner_id <span class="token operator">=</span> user_id<span class="token punctuation">)</span>    db<span class="token punctuation">.</span>add<span class="token punctuation">(</span>db_item<span class="token punctuation">)</span>    db<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>    db<span class="token punctuation">.</span>refresh<span class="token punctuation">(</span>db_item<span class="token punctuation">)</span>    <span class="token keyword">return</span> db_item<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>é€šè¿‡ä¼ å…¥æ•°æ®åº“è¿æ¥ä»¥åŠå‚æ•°ç­‰è¿›è¡Œæ•°æ®åº“æ“ä½œï¼ŒåŒ…æ‹¬åˆ›å»ºç”¨æˆ·ã€æŸ¥è¯¢ç”¨æˆ·ç­‰ï¼Œè¿”å›çš„æ˜¯ormæ¨¡å‹å¯¹è±¡ã€‚</strong></p><h2 id="main-py"><a href="#main-py" class="headerlink" title="main.py"></a>main.py</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token keyword">from</span> fastapi <span class="token keyword">import</span> FastAPI<span class="token punctuation">,</span> Depends<span class="token punctuation">,</span>HTTPException<span class="token keyword">from</span> sqlalchemy<span class="token punctuation">.</span>orm <span class="token keyword">import</span> Session<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> schemas<span class="token punctuation">,</span> crud<span class="token punctuation">,</span> models<span class="token keyword">from</span> <span class="token punctuation">.</span>database <span class="token keyword">import</span> SessionLocal<span class="token punctuation">,</span> engine<span class="token comment">#åˆ›å»ºæ•°æ®åº“ï¼Œå°±ç®—ä½ æ²¡æœ‰è‡ªå·±åˆ›å»ºè¡¨ï¼Œormä¼šæ ¹æ®modelsä¸­çš„ç±»è‡ªåŠ¨åˆ›å»ºè¡¨</span>models<span class="token punctuation">.</span>Base<span class="token punctuation">.</span>metadata<span class="token punctuation">.</span>create_all<span class="token punctuation">(</span>bind<span class="token operator">=</span>engine<span class="token punctuation">)</span>app<span class="token operator">=</span>FastAPI<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#Dependency</span><span class="token comment">#æ¯ä¸€ä¸ªè¯·æ±‚å®Œæ¯•åéƒ½éœ€è¦å…³é—­å½“å‰çš„æ•°æ®åº“ä¼šè¯ï¼Œä¸åŒè¯·æ±‚ä½¿ç”¨ä¸åŒçš„æ•°æ®åº“ä¼šè¯</span><span class="token keyword">def</span> <span class="token function">get_db</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    db<span class="token operator">=</span>SessionLocal<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token keyword">yield</span> db    <span class="token keyword">finally</span><span class="token punctuation">:</span>        db<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>post</span><span class="token punctuation">(</span><span class="token string">"/users/"</span><span class="token punctuation">,</span>response_model<span class="token operator">=</span>schemas<span class="token punctuation">.</span>User<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">create_user</span><span class="token punctuation">(</span>user<span class="token punctuation">:</span>schemas<span class="token punctuation">.</span>UserCreate<span class="token punctuation">,</span>db<span class="token punctuation">:</span>Session<span class="token operator">=</span>Depends<span class="token punctuation">(</span>get_db<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> crud<span class="token punctuation">.</span>create_user<span class="token punctuation">(</span>db<span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/user/&#123;user_id&#125;"</span><span class="token punctuation">,</span>response_model<span class="token operator">=</span>schemas<span class="token punctuation">.</span>User<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">read_user</span><span class="token punctuation">(</span>user_id<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span>db<span class="token punctuation">:</span> Session <span class="token operator">=</span> Depends<span class="token punctuation">(</span>get_db<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    db_user <span class="token operator">=</span>crud<span class="token punctuation">.</span>get_user<span class="token punctuation">(</span>db<span class="token punctuation">,</span>user_id<span class="token punctuation">)</span>    <span class="token keyword">if</span> db_user <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span>  HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">,</span>detail<span class="token operator">=</span><span class="token string">"User not found"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> db_user<span class="token comment">#è¿™é‡Œè¿”å›å¤šä¸ªå¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨Listï¼Œä¸€å¼€å§‹æ²¡ç”¨ï¼ŒæŠ¥é”™äº†</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/users/"</span><span class="token punctuation">,</span>response_model<span class="token operator">=</span>List<span class="token punctuation">[</span>schemas<span class="token punctuation">.</span>User<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">read_usres</span><span class="token punctuation">(</span>skip<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>limit <span class="token punctuation">:</span><span class="token builtin">int</span><span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span>db<span class="token punctuation">:</span>Session <span class="token operator">=</span> Depends<span class="token punctuation">(</span>get_db<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token keyword">return</span>  crud<span class="token punctuation">.</span>get_users<span class="token punctuation">(</span>db<span class="token punctuation">,</span>skip<span class="token punctuation">,</span>limit<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¸»æ–‡ä»¶è¿›è¡Œæ•°æ®åº“åˆå§‹åŒ–ã€FastAPIå®ä¾‹åˆ›å»ºä»¥åŠå¤„ç†å„ç§è¯·æ±‚ã€‚</strong></p><h2 id="SQLAlchemyçš„æŸ¥è¯¢è¯­å¥"><a href="#SQLAlchemyçš„æŸ¥è¯¢è¯­å¥" class="headerlink" title="SQLAlchemyçš„æŸ¥è¯¢è¯­å¥"></a>SQLAlchemyçš„æŸ¥è¯¢è¯­å¥</h2><h3 id="æŸ¥è¯¢æ‰§è¡Œå™¨"><a href="#æŸ¥è¯¢æ‰§è¡Œå™¨" class="headerlink" title="æŸ¥è¯¢æ‰§è¡Œå™¨"></a>æŸ¥è¯¢æ‰§è¡Œå™¨</h3><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">all()</td><td align="center">è¿”å›ä¸€ä¸ªå…ƒç´ ä¸ºæŸ¥è¯¢ç»“æœçš„åˆ—è¡¨</td></tr><tr><td align="center">count()</td><td align="center">è¿”å›æŸ¥è¯¢ç»“æœçš„æ•°é‡</td></tr><tr><td align="center">first()</td><td align="center">è¿”å›ç¬¬ä¸€ä¸ªç»“æœæˆ–None</td></tr><tr><td align="center">first_or_404()</td><td align="center">è¿”å›ç¬¬ä¸€ä¸ªç»“æœæˆ–404</td></tr><tr><td align="center">get(ä¸»é”®)</td><td align="center">è¿”å›ä¸»é”®å¯¹åº”çš„å¯¹è±¡æˆ–None</td></tr><tr><td align="center">get_or_404(ä¸»é”®)</td><td align="center">è¿”å›ä¸»é”®å¯¹åº”çš„å¯¹è±¡æˆ–404</td></tr><tr><td align="center">paginate(é¡µç ï¼Œæ¯é¡µæ¡æ•°)</td><td align="center">è¿”å›ä¸€ä¸ªåˆ†é¡µæŸ¥è¯¢ç»“æœ</td></tr></tbody></table><h3 id="æŸ¥è¯¢è¿‡æ»¤å™¨"><a href="#æŸ¥è¯¢è¿‡æ»¤å™¨" class="headerlink" title="æŸ¥è¯¢è¿‡æ»¤å™¨"></a>æŸ¥è¯¢è¿‡æ»¤å™¨</h3><table><thead><tr><th align="center">è¿‡æ»¤å™¨</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">filter_by(å­—æ®µå=å€¼)</td><td align="center">ç­‰å€¼æŸ¥è¯¢</td></tr><tr><td align="center">filter(å‡½æ•°å¼•ç”¨/æ¯”è¾ƒè¿ç®—)</td><td align="center">å‡½æ•°æˆ–æ¯”è¾ƒæŸ¥è¯¢</td></tr><tr><td align="center">limit(é™å®šæ¡æ•°)</td><td align="center">é™å®šè¿”å›ç»“æœæ•°é‡</td></tr><tr><td align="center">offset(åç§»æ¡æ•°)</td><td align="center">åç§»1å³ä»ç¬¬äºŒæ¡å¼€å§‹æŸ¥è¯¢</td></tr><tr><td align="center">order_by(æ’åºå­—æ®µ)</td><td align="center">å¯¹æŸ¥è¯¢ç»“æœæ ¹æ®å­—æ®µè¿›è¡Œæ’åº</td></tr><tr><td align="center">options()</td><td align="center">é’ˆå¯¹åŸæŸ¥è¯¢é™å®šæŸ¥è¯¢çš„å­—æ®µ</td></tr></tbody></table><h2 id="relationship"><a href="#relationship" class="headerlink" title="relationship"></a>relationship</h2><p>åœ¨æ„å»ºSQLAlchemyæ¨¡å‹çš„æ—¶å€™ï¼Œrelationshipæˆ‘è§‰å¾—æœ‰ç‚¹éš¾ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ç¯‡åšå®¢ï¼Œæ„Ÿè§‰è®²çš„æ¯”è¾ƒè¯¦ç»†ã€‚</p><p><a href="https://www.cnblogs.com/goldsunshine/p/9269880.html">sqlalchemyå¤–é”®å’ŒrelationshipæŸ¥è¯¢</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨çœ‹fastapiçš„å®˜æ–¹æ–‡æ¡£ï¼Œç„¶åæ„Ÿè§‰sqléƒ¨åˆ†æŒºéš¾çš„ï¼Œäºæ˜¯å†™ä¸‹ä¸€ç¯‡åšå®¢æ¥è®°å½•ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®‰è£…å·¥å…·&quot;&gt;&lt;a href=&quot;#å®‰è£…å·¥å…·&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…å·¥å…·&quot;&gt;&lt;/a&gt;å®‰è£…å·¥å…·&lt;/h2&gt;&lt;p&gt;é¦–å…ˆè¦å®‰è£…ä¸¤ä¸ªä¸œè¥¿&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pip install sqlalchemy&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pip install pymysql&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å‰è€…æ˜¯ä¸€ä¸ªORMæ¡†æ¶ï¼Œåœ¨ORMä¸­ï¼Œä½ åˆ›å»ºä¸€ä¸ªç±»å°±ä¼šé€šè¿‡SQLAlchemyå°†å…¶è‡ªåŠ¨è½¬æˆä¸€å¼ è¡¨ï¼Œåœ¨ç±»ä¸­çš„æ¯ä¸€ä¸ªå±æ€§å°±ä¼šè½¬æˆè¡¨ä¸­çš„å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;åè€…æ˜¯ç”¨æ¥è¿æ¥æ•°æ®åº“çš„&lt;/p&gt;</summary>
    
    
    
    
    <category term="mysql" scheme="http://example.com/tags/mysql/"/>
    
    <category term="python" scheme="http://example.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>redis</title>
    <link href="http://example.com/2021/07/22/redis/"/>
    <id>http://example.com/2021/07/22/redis/</id>
    <published>2021-07-22T03:44:40.680Z</published>
    <updated>2021-07-22T03:44:37.371Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Nosqlæ¦‚è¿°"><a href="#Nosqlæ¦‚è¿°" class="headerlink" title="Nosqlæ¦‚è¿°"></a>Nosqlæ¦‚è¿°</h2><h3 id="Nosqlçš„å››å¤§åˆ†ç±»"><a href="#Nosqlçš„å››å¤§åˆ†ç±»" class="headerlink" title="Nosqlçš„å››å¤§åˆ†ç±»"></a>Nosqlçš„å››å¤§åˆ†ç±»</h3><h4 id="KVé”®å€¼å¯¹"><a href="#KVé”®å€¼å¯¹" class="headerlink" title="KVé”®å€¼å¯¹"></a>KVé”®å€¼å¯¹</h4><ul><li>æ–°æµªï¼š<strong>Redis</strong></li><li>ç¾å›¢ï¼šRedis+Tair</li><li>é˜¿é‡Œã€ç™¾åº¦ï¼šRedis+memecache</li></ul><a id="more"></a><h4 id="æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ ¼å¼-å’Œ-jsonä¸€æ ·ï¼‰"><a href="#æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ ¼å¼-å’Œ-jsonä¸€æ ·ï¼‰" class="headerlink" title="æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ ¼å¼ å’Œ jsonä¸€æ ·ï¼‰"></a>æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ ¼å¼ å’Œ jsonä¸€æ ·ï¼‰</h4><ul><li><strong>MongoDB</strong>(ä¸€èˆ¬å¿…é¡»è¦æŒæ¡)<ul><li>MongoDBæ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼Œc++ç¼–å†™ï¼Œä¸»è¦ç”¨æ¥å¤„ç†å¤§é‡çš„æ–‡æ¡£ï¼</li><li>æ˜¯ä¸€ä¸ªä»‹äºå…³ç³»å‹æ•°æ®åº“å’Œè²å…³ç³»å‹æ•°æ®åº“ä¸­é—´çš„äº§å“ï¼</li></ul></li><li>ConthDB</li></ul><h4 id="åˆ—å­˜å‚¨æ•°æ®åº“"><a href="#åˆ—å­˜å‚¨æ•°æ®åº“" class="headerlink" title="åˆ—å­˜å‚¨æ•°æ®åº“"></a>åˆ—å­˜å‚¨æ•°æ®åº“</h4><ul><li><strong>HBase</strong></li><li>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</li></ul><h4 id="å›¾å…³ç³»æ•°æ®åº“"><a href="#å›¾å…³ç³»æ•°æ®åº“" class="headerlink" title="å›¾å…³ç³»æ•°æ®åº“"></a>å›¾å…³ç³»æ•°æ®åº“</h4><ul><li>ä»–ä¸æ˜¯å­˜å›¾å½¢ï¼Œæ”¾çš„æ˜¯å…³ç³»ï¼Œæ¯”å¦‚ï¼šæœ‹å‹åœˆç¤¾äº¤ç½‘ç»œï¼Œå¹¿å‘Šæ¨è</li><li><strong>Neo4j</strong>,InfoGrid</li></ul><p><img src="F:/myblog/themes/next/source/images/blog/image-20201007193243690.png" alt="image-20201007193243690"></p><h2 id="Rediså…¥é—¨"><a href="#Rediså…¥é—¨" class="headerlink" title="Rediså…¥é—¨"></a>Rediså…¥é—¨</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><blockquote><p>Redisï¼ˆ<strong>Re</strong>mote <strong>Di</strong>ctionary <strong>S</strong>erver )ï¼Œå³è¿œç¨‹å­—å…¸æœåŠ¡ï¼Œæ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSI <a href="https://baike.baidu.com/item/C%E8%AF%AD%E8%A8%80">Cè¯­è¨€</a>ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€Key-Value<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93/103728">æ•°æ®åº“</a>ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚</p></blockquote><h3 id="Redisèƒ½å¹²å˜›"><a href="#Redisèƒ½å¹²å˜›" class="headerlink" title="Redisèƒ½å¹²å˜›"></a>Redisèƒ½å¹²å˜›</h3><ol><li>å†…å­˜å­˜å‚¨ã€æŒä¹…åŒ–ã€‚å†…å­˜ä¸­æ˜¯æ–­ç”µå³å¤±ï¼Œæ‰€ä»¥è¯´æŒä¹…åŒ–å¾ˆé‡è¦ï¼ˆrdbã€aofï¼‰</li><li>æ•ˆç‡é«˜ï¼Œå¯ä»¥ç”¨äºé«˜é€Ÿç¼“å­˜</li><li>å‘å¸ƒè®¢é˜…ç³»ç»Ÿ</li><li>åœ°å›¾ä¿¡æ¯åˆ†æ</li><li>è®¡æ—¶å™¨ã€è®¡æ•°å™¨ï¼ˆæµè§ˆé‡!)</li></ol><h3 id="Redisçš„ç‰¹æ€§"><a href="#Redisçš„ç‰¹æ€§" class="headerlink" title="Redisçš„ç‰¹æ€§"></a>Redisçš„ç‰¹æ€§</h3><ol><li>å¤šæ ·çš„æ•°æ®ç±»å‹</li><li>æŒä¹…ä¼˜åŒ–</li><li>é›†ç¾¤</li><li>äº‹åŠ¡</li></ol><h3 id="Linuxå®‰è£…Redis"><a href="#Linuxå®‰è£…Redis" class="headerlink" title="Linuxå®‰è£…Redis"></a>Linuxå®‰è£…Redis</h3><ol><li>ä¸‹è½½å®‰è£…åŒ…</li></ol><p><img src="F:/myblog/themes/next/source/images/blog/image-20201007195230760.png" alt="image-20201007195230760"></p><ol start="2"><li>è§£å‹Redisçš„å®‰è£…åŒ…ï¼Œç¨‹åºä¸€èˆ¬æ”¾åœ¨/optç›®å½•ä¸‹ã€‚</li><li>è¿›å…¥è§£å‹åçš„æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬redisçš„é…ç½®æ–‡ä»¶</li></ol><p><img src="F:/myblog/themes/next/source/images/blog/image-20201014160551048.png" alt="image-20201014160551048"></p><ol start="4"><li>åŸºæœ¬çš„ç¯å¢ƒå®‰è£…å‘½ä»¤</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> gcc-c++<span class="token comment">#å¦‚æœredisçš„ç‰ˆæœ¬æ˜¯6.0ä»¥ä¸Šçš„ï¼Œéœ€è¦å‡çº§gccåˆ°5.3ä»¥ä¸Š</span>yum -y <span class="token function">install</span> centos-release-sclyum -y <span class="token function">install</span> devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutilsscl <span class="token builtin class-name">enable</span> devtoolset-9 <span class="token function">bash</span><span class="token comment">#éœ€è¦æ³¨æ„çš„æ˜¯sclå‘½ä»¤å¯ç”¨åªæ˜¯ä¸´æ—¶çš„ï¼Œé€€å‡ºshellæˆ–é‡å¯å°±ä¼šæ¢å¤åŸç³»ç»Ÿgccç‰ˆæœ¬ã€‚</span><span class="token comment">#å¦‚æœè¦é•¿æœŸä½¿ç”¨gcc 9.3çš„è¯ï¼š</span><span class="token builtin class-name">echo</span> <span class="token string">"source /opt/rh/devtoolset-9/enable"</span> <span class="token operator">>></span>/etc/profile<span class="token comment">#è¿™æ ·é€€å‡ºshellé‡æ–°æ‰“å¼€å°±æ˜¯æ–°ç‰ˆçš„gccäº†</span><span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li><p>redisçš„é»˜è®¤å®‰è£…è·¯å¾„<code>/usr/local/bin</code></p></li><li><p>å°†redisé…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶åˆ°æˆ‘ä»¬å½“å‰ç›®å½•ä¸‹    redis.confæ–‡ä»¶</p></li><li><p>é…ç½®redisä¸ºåå°å¯åŠ¨</p></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#cd åˆ°redis.confæ–‡ä»¶ç›®å½•</span><span class="token function">vim</span> å¤åˆ¶çš„redis.confæ–‡ä»¶çš„è·¯å¾„<span class="token comment">#å‘ä¸‹æ‰¾ï¼Œä¿®æ”¹daemenize no ä¸º daemonize yes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="8"><li>å¯åŠ¨redis</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#åœ¨/usr/local/binç›®å½•ä¸‹</span>redis-server redis.confæ–‡ä»¶çš„åœ°å€redis-serverredis-cli p6379   <span class="token comment">#è¿æ¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="9"><li>æŸ¥çœ‹redisçš„è¿›ç¨‹æ˜¯å¦å¼€å¯</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> redis <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="F:/myblog/themes/next/source/images/blog/image-20201014165115068.png" alt="image-20201014165115068"></p><ol start="10"><li>å…³é—­redisæœåŠ¡</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">shutdown</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="F:/myblog/themes/next/source/images/blog/image-20201014164917598.png" alt="image-20201014164917598"></p><p><a href="https://blog.csdn.net/u011159417/article/details/80085011">Linuxå®‰è£…redis</a></p><h3 id="æµ‹è¯•æ€§èƒ½"><a href="#æµ‹è¯•æ€§èƒ½" class="headerlink" title="æµ‹è¯•æ€§èƒ½"></a>æµ‹è¯•æ€§èƒ½</h3><p>redis-benchmarkæ˜¯ä¸€ä¸ªå‹åŠ›æµ‹è¯•å·¥å…·ï¼</p><p>å®˜æ–¹è‡ªå¸¦çš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼</p><p>redis-benchmarkå‘½ä»¤å‚æ•°</p><table><thead><tr><th align="left">åºå·</th><th align="left">é€‰é¡¹</th><th align="left">æè¿°</th><th align="left">é»˜è®¤å€¼</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>-h</strong></td><td align="left">æŒ‡å®šæœåŠ¡å™¨ä¸»æœºå</td><td align="left">127.0.0.1</td></tr><tr><td align="left">2</td><td align="left"><strong>-p</strong></td><td align="left">æŒ‡å®šæœåŠ¡å™¨ç«¯å£</td><td align="left">6379</td></tr><tr><td align="left">3</td><td align="left"><strong>-s</strong></td><td align="left">æŒ‡å®šæœåŠ¡å™¨ socket</td><td align="left"></td></tr><tr><td align="left">4</td><td align="left"><strong>-c</strong></td><td align="left">æŒ‡å®šå¹¶å‘è¿æ¥æ•°</td><td align="left">50</td></tr><tr><td align="left">5</td><td align="left"><strong>-n</strong></td><td align="left">æŒ‡å®šè¯·æ±‚æ•°</td><td align="left">10000</td></tr><tr><td align="left">6</td><td align="left"><strong>-d</strong></td><td align="left">ä»¥å­—èŠ‚çš„å½¢å¼æŒ‡å®š SET/GET å€¼çš„æ•°æ®å¤§å°</td><td align="left">2</td></tr><tr><td align="left">7</td><td align="left"><strong>-k</strong></td><td align="left">1=keep alive 0=reconnect</td><td align="left">1</td></tr><tr><td align="left">8</td><td align="left"><strong>-r</strong></td><td align="left">SET/GET/INCR ä½¿ç”¨éšæœº key, SADD ä½¿ç”¨éšæœºå€¼</td><td align="left"></td></tr><tr><td align="left">9</td><td align="left"><strong>-P</strong></td><td align="left">é€šè¿‡ç®¡é“ä¼ è¾“ <numreq> è¯·æ±‚</numreq></td><td align="left">1</td></tr><tr><td align="left">10</td><td align="left"><strong>-q</strong></td><td align="left">å¼ºåˆ¶é€€å‡º redisã€‚ä»…æ˜¾ç¤º query/sec å€¼</td><td align="left"></td></tr><tr><td align="left">11</td><td align="left"><strong>â€“csv</strong></td><td align="left">ä»¥ CSV æ ¼å¼è¾“å‡º</td><td align="left"></td></tr><tr><td align="left">12</td><td align="left"><strong>-l</strong></td><td align="left">ç”Ÿæˆå¾ªç¯ï¼Œæ°¸ä¹…æ‰§è¡Œæµ‹è¯•</td><td align="left"></td></tr><tr><td align="left">13</td><td align="left"><strong>-t</strong></td><td align="left">ä»…è¿è¡Œä»¥é€—å·åˆ†éš”çš„æµ‹è¯•å‘½ä»¤åˆ—è¡¨ã€‚</td><td align="left"></td></tr><tr><td align="left">14</td><td align="left"><strong>-I</strong></td><td align="left">Idle æ¨¡å¼ã€‚ä»…æ‰“å¼€ N ä¸ª idle è¿æ¥å¹¶ç­‰å¾…ã€‚</td><td align="left"></td></tr></tbody></table><p>ç®€å•æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#æµ‹è¯•ï¼š100ä¸ªå¹¶å‘è¿æ¥   100000è¯·æ±‚</span>redis-benchmark -h localhost -p <span class="token number">6379</span> -c <span class="token number">100</span> -n <span class="token number">100000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="F:/myblog/themes/next/source/images/blog/image-20201014171727085.png" alt="image-20201014171727085"></p><p><img src="F:/myblog/themes/next/source/images/blog/image-20201014172606359.png" alt="image-20201014172606359"></p><h3 id="åŸºç¡€çš„çŸ¥è¯†"><a href="#åŸºç¡€çš„çŸ¥è¯†" class="headerlink" title="åŸºç¡€çš„çŸ¥è¯†"></a>åŸºç¡€çš„çŸ¥è¯†</h3><p>redisä¸€å…±æœ‰16ä¸ªæ•°æ®åº“ã€‚</p><p><img src="F:/myblog/themes/next/source/images/blog/image-20201014173309203.png" alt="image-20201014173309203"></p><p>é»˜è®¤ä½¿ç”¨çš„æ˜¯ç¬¬0ä¸ª</p><p>å¯ä»¥ä½¿ç”¨selectè¿›è¡Œåˆ‡æ¢æ•°æ®åº“ï¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token keyword">select</span> <span class="token number">3</span>  <span class="token comment">#åˆ‡æ¢æ•°æ®åº“</span>OK<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span> DBSIZE <span class="token comment">#æŸ¥çœ‹æ•°æ®åº“å¤§å°</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token builtin class-name">set</span> name pty  <span class="token comment">#è®¾ç½®name å±æ€§å€¼</span>OK<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span> get name   <span class="token comment">#æ‹¿åˆ°æ•°æ®åº“ä¸­çš„nameå±æ€§å€¼</span><span class="token string">"pty"</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span> keys *    <span class="token comment">#æŸ¥çœ‹æ•°æ®åº“ä¸­çš„å…¨éƒ¨key</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"name"</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span> flushdb   <span class="token comment">#æ¸…é™¤å½“å‰æ•°æ®åº“</span>OK<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span> flushall   <span class="token comment">#æ¸…é™¤å…¨éƒ¨æ•°æ®åº“</span>OK<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>redisæ˜¯å•çº¿ç¨‹çš„</strong></p><p>Rediså¾ˆå¿«ï¼Œæ˜¯åŸºäºå†…å­˜æ“ä½œçš„ï¼ŒCPUä¸æ˜¯Redisæ€§èƒ½ç“¶é¢ˆï¼ŒRedisçš„ç“¶é¢ˆæ˜¯æœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½ã€‚</p><p><strong>redisæ˜¯å•çº¿ç¨‹çš„ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«</strong></p><p>é€Ÿåº¦ï¼šCPU&gt;å†…å­˜&gt;ç¡¬ç›˜</p><p>redisæ˜¯å°†æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œå¤šçº¿ç¨‹cpuä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼Œè¿™æ˜¯ä¸€ä¸ªè€—æ—¶æ“ä½œã€‚å¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œæ‰€ä»¥å•çº¿ç¨‹å»æ“ä½œæ•ˆç‡å°±æ˜¯æœ€é«˜çš„ã€‚</p><h2 id="äº”å¤§æ•°æ®ç±»å‹"><a href="#äº”å¤§æ•°æ®ç±»å‹" class="headerlink" title="äº”å¤§æ•°æ®ç±»å‹"></a>äº”å¤§æ•°æ®ç±»å‹</h2><p>Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œ==æ•°æ®åº“==ã€==ç¼“å­˜==å’Œ==æ¶ˆæ¯ä¸­é—´ä»¶MQ==ã€‚ å®ƒæ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ å­—ç¬¦ä¸²ï¼ˆstringsï¼‰ï¼Œ æ•£åˆ—ï¼ˆhashesï¼‰ï¼Œ åˆ—è¡¨ï¼ˆlistsï¼‰ï¼Œ é›†åˆï¼ˆsetsï¼‰ï¼Œ æœ‰åºé›†åˆï¼ˆsorted setsï¼‰ ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ bitmapsï¼Œ hyperloglogs å’Œ åœ°ç†ç©ºé—´ï¼ˆgeospatialï¼‰ ç´¢å¼•åŠå¾„æŸ¥è¯¢ã€‚ Redis å†…ç½®äº† å¤åˆ¶ï¼ˆreplicationï¼‰ï¼ŒLUAè„šæœ¬ï¼ˆLua scriptingï¼‰ï¼Œ LRUé©±åŠ¨äº‹ä»¶ï¼ˆLRU evictionï¼‰ï¼Œäº‹åŠ¡ï¼ˆtransactionsï¼‰ å’Œä¸åŒçº§åˆ«çš„ ç£ç›˜æŒä¹…åŒ–ï¼ˆpersistenceï¼‰ï¼Œ å¹¶é€šè¿‡ Rediså“¨å…µï¼ˆSentinelï¼‰å’Œè‡ªåŠ¨ åˆ†åŒºï¼ˆClusterï¼‰æä¾›é«˜å¯ç”¨æ€§ï¼ˆhigh availabilityï¼‰</p><h3 id="Redis-Key"><a href="#Redis-Key" class="headerlink" title="Redis-Key"></a>Redis-Key</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> name pty  <span class="token comment">#setä¸€ä¸ªkey</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> exists name   <span class="token comment">#åˆ¤æ–­å½“å‰keyæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™è¿”å›1ï¼Œä¸å­˜åœ¨è¿”å›0</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> exists name1<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> expire name <span class="token number">10</span>  <span class="token comment">#ç»™å½“å‰çš„keyè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå•ä½æ˜¯ç§’</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> ttl name     <span class="token comment">#æŸ¥çœ‹å½“å‰keyçš„å‰©ä½™æ—¶é—´</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> -2<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> move name <span class="token number">2</span>   <span class="token comment">#ç§»åŠ¨å½“å‰çš„å¯ä»¥åˆ°ç¬¬äºŒä¸ªæ•°æ®åº“</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">type</span> name  <span class="token comment">#æŸ¥çœ‹å½“å‰keyçš„ç±»å‹</span>string<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> del name   <span class="token comment">#åˆ é™¤å½“å‰çš„key,å¯ä»¥åŒæ—¶åˆ é™¤å¤šä¸ªkeyï¼Œè¿”å›åˆ é™¤çš„keyçš„æ•°é‡</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ›´å¤šçš„redis-keyçš„å‘½ä»¤å‚è€ƒå®˜ç½‘ï¼š<a href="http://www.redis.cn/commands.html">rediså®˜ç½‘</a></p><h3 id="String-å­—ç¬¦ä¸²"><a href="#String-å­—ç¬¦ä¸²" class="headerlink" title="String(å­—ç¬¦ä¸²)"></a>String(å­—ç¬¦ä¸²)</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#####################################</span><span class="token comment">#append è¿½åŠ å­—ç¬¦ä¸²</span><span class="token comment">#strlen è·å–åˆ—è¡¨çš„é•¿åº¦</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> key1 v1   <span class="token comment">#setä¸€ä¸ªkey</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get key1  <span class="token string">"v1"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> append key1 hah   <span class="token comment">#åœ¨key1åé¢è¿½åŠ å­—ç¬¦ä¸²ï¼Œå¦‚æœkey1ä¸å­˜åœ¨ï¼Œå°±ç›¸å½“äºset key1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get key1<span class="token string">"v1hah"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> strlen key1 <span class="token comment">#è·å–key1çš„é•¿åº¦</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span><span class="token comment">########################################</span><span class="token comment">#incrè‡ªå¢1</span><span class="token comment">#decrè‡ªå‡1</span><span class="token comment">#incrby è‡ªå¢æŒ‡å®šçš„æ•°</span><span class="token comment">#decrby è‡ªå‡æŒ‡å®šçš„æ•°</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> views <span class="token number">0</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get views<span class="token string">"0"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> incr views    <span class="token comment">#è‡ªå¢ +1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get views<span class="token string">"1"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> decr views    <span class="token comment">#è‡ªå‡ -1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get views<span class="token string">"0"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> incrby views <span class="token number">10</span>  <span class="token comment">#è‡ªå¢ +10ï¼Œè‡ªå¢å¤šå°‘å¯ä»¥è‡ªå·±è®¾ç½®</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get views<span class="token string">"10"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> decrby views <span class="token number">20</span> <span class="token comment">#è‡ªå‡ -20  è‡ªå‡å¤šå°‘å¯ä»¥è‡ªå·±è®¾ç½®</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> -10<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get views<span class="token string">"-10"</span><span class="token comment">###############################</span><span class="token comment">#å­—ç¬¦ä¸²èŒƒå›´ range</span><span class="token comment">#æˆªå–å­—ç¬¦ä¸²</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> key1 hello,worldOK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get key1<span class="token string">"hello,world"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> getrange key1 <span class="token number">0</span> <span class="token number">3</span>    <span class="token comment">#æˆªå–å­—ç¬¦ä¸² [0,3]</span><span class="token string">"hell"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> getrange key1 <span class="token number">0</span> -1   <span class="token comment">#æˆªå–å…¨éƒ¨å­—ç¬¦ä¸²ï¼Œå’Œget key1æ•ˆæœä¸€æ ·</span><span class="token string">"hello,world"</span><span class="token comment">#################################</span><span class="token comment">#setrange æ›¿æ¢å­—ç¬¦ä¸²</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> key2 abcdeOK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get key2<span class="token string">"abcde"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setrange key2 <span class="token number">2</span> hahaa  <span class="token comment">#æ›¿æ¢æŒ‡å®šä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸²ï¼Œè¿™é‡Œçš„æŒ‡å®šä½ç½®å’Œæ•°ç»„ä¸€æ ·ï¼Œå³2ç›¸å½“äº3</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get key2 <span class="token string">"abhahaa"</span><span class="token comment">###########################################</span><span class="token comment">#setex(set with expire)  </span><span class="token comment">#è®¾ç½®ä¸€ä¸ªkeyï¼Œå¹¶ä¸ºå…¶è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå’Œexpireå·®ä¸å¤šï¼Œä½†æ˜¯setexæ˜¯åœ¨è®¾ç½®keyçš„æ—¶å€™å°±ä¸ºkeyè®¾ç½®è¿‡æœŸæ—¶é—´,è€Œexpireæ˜¯åœ¨è®¾ç½®å®Œkeyä»¥ååœ¨è®¾ç½®è¿‡æœŸæ—¶é—´</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setex name <span class="token number">20</span> pty  <span class="token comment">#è®¾ç½®ä¸€ä¸ªkey,å¹¶è®¾ç½®20sè¿‡æœŸ</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> ttl name   <span class="token comment">#æŸ¥çœ‹å½“å‰keyçš„å‰©ä½™æ—¶é—´</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">13</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token comment">#setnx(set if not exist) è®¾ç½®ä¸€ä¸ªkey,å¦‚æœkeyä¸å­˜åœ¨åˆ™è®¾ç½®ï¼Œå­˜åœ¨åˆ™åˆ›å»ºå¤±è´¥ã€‚</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setnx key3 hh   <span class="token comment">#è®¾ç½®ä¸€ä¸ªkey,å› ä¸ºkey3ä¸å­˜åœ¨ï¼Œæ‰€ä»¥åˆ›å»ºæˆåŠŸ</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get key3<span class="token string">"hh"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setnx key3 hah  <span class="token comment">#è®¾ç½®ä¸€ä¸ªkey,å› ä¸ºkey3å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥åˆ›å»ºå¤±è´¥</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get key3<span class="token string">"hh"</span><span class="token comment">#############################</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> mset k1 v1 k2 v2 k3 v3  <span class="token comment">#åŒæ—¶è®¾ç½®å¤šä¸ªå€¼</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> keys *<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"k3"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"k1"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"k2"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> mget k1 k2 k3  <span class="token comment">#åŒæ—¶è·å–å¤šä¸ªå€¼</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"v1"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"v2"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"v3"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> msetnx k1 v1 k4 v2  <span class="token comment">#åŒæ—¶è®¾ç½®å¤šä¸ªå€¼ï¼Œå¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå¤±è´¥ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸå­æ€§æ“ä½œï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ï¼Œå› ä¸ºk1å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥åˆ›å»ºå¤±è´¥ï¼Œé‚£ä¹ˆk4ä¹Ÿæ²¡æœ‰åˆ›å»ºæˆåŠŸã€‚</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token comment">#####################################</span><span class="token comment">#getset   å…ˆè¿”å›keyçš„å€¼ï¼Œç„¶åå†è®¾ç½®keyçš„å€¼</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> getset k1 v2   <span class="token comment">#å…ˆè¿”å›key1åŸæ¥çš„å€¼v1ï¼Œåœ¨å°†k1è®¾ç½®ä¸ºv2</span><span class="token string">"v1"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get k1<span class="token string">"v2"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Listï¼ˆåˆ—è¡¨ï¼‰"><a href="#Listï¼ˆåˆ—è¡¨ï¼‰" class="headerlink" title="Listï¼ˆåˆ—è¡¨ï¼‰"></a>Listï¼ˆåˆ—è¡¨ï¼‰</h3><p>æ‰€æœ‰çš„Listå‘½ä»¤éƒ½æ˜¯ç”±lå¼€å¤´çš„ã€‚Redisä¸åŒºåˆ†å¤§å°å†™ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">###############################################</span><span class="token comment">#Lpush</span><span class="token comment">#Rpush</span><span class="token comment">#Lrange</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lpush list one <span class="token comment">#å°†ä¸€ä¸ªå€¼æˆ–å¤šä¸ªå€¼æ’å…¥åˆ°keyçš„å¤´éƒ¨ï¼ˆå·¦ï¼‰ï¼Œè¿™é‡Œçš„listç›¸å½“äºè¿™ä¸ªåˆ—è¡¨çš„åå­—</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lpush list two<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lpush list three<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1 <span class="token comment">#è·å–listä¸­æŒ‡å®šåŒºé—´çš„å€¼ï¼Œ  0 -1 è¡¨ç¤ºè·å–å…¨éƒ¨çš„å€¼</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"three"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"two"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"one"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> <span class="token number">1</span> <span class="token comment">#å¯ä»¥çœ‹åˆ°åè¿›å…ˆå‡ºï¼Œç±»ä¼¼äºæ ˆ</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"three"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"two"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> rpush list <span class="token number">0</span>  <span class="token comment">#å°†ä¸€ä¸ªå€¼æˆ–å¤šä¸ªå€¼æ’å…¥åˆ°listçš„å°¾éƒ¨ï¼ˆå³ï¼‰  lpushä»å·¦æ’å…¥ï¼Œå¤´éƒ¨ï¼Œrpushä»å³æ’å…¥ï¼Œå°¾éƒ¨</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"three"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"two"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"one"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"0"</span><span class="token comment">#######################################</span><span class="token comment">#Lpop</span><span class="token comment">#Rpop</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lpop list  <span class="token comment">#ç§»å‡ºlistçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä»å·¦è¾¹ç§»å‡º</span><span class="token string">"three"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> rpop list  <span class="token comment">#ç§»å‡ºlistçš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä»å³è¾¹ç§»å‡º</span><span class="token string">"0"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"two"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"one"</span><span class="token comment">#######################################</span><span class="token comment">#Lindex</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lindex list <span class="token number">1</span>   <span class="token comment">#é€šè¿‡ä¸‹æ ‡è·å¾—listçš„æŸä¸€ä¸ªå€¼</span><span class="token string">"one"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lindex list <span class="token number">0</span><span class="token string">"two"</span><span class="token comment">#########################################</span>Llen<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> Llen list    <span class="token comment">#è·å–listçš„é•¿åº¦</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token comment">########################################</span><span class="token comment">#ç§»å‡ºæŒ‡å®šçš„å€¼</span>Lrem<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1   <span class="token comment">#å¯ä»¥çœ‹åˆ°ï¼Œlistä¸­å¯ä»¥å­˜åœ¨ç›¸åŒçš„å€¼</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"three"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"three"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"two"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"one"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrem list <span class="token number">1</span> one    <span class="token comment">#ç§»å‡ºlisté›†ä¸­æŒ‡å®šä¸ªæ•°çš„value,  ç§»é™¤listä¸­çš„1ä¸ªone</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"three"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"three"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"two"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrem list <span class="token number">2</span> three   <span class="token comment">#ç§»é™¤listä¸­çš„2ä¸ªthree</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"two"</span><span class="token comment">########################################</span><span class="token comment">#Ltrim ä¿®æ”¹é›†åˆä¸­çš„å…ƒç´ ï¼Œåªä¿ç•™æŒ‡å®šåŒºé—´çš„å…ƒç´ ï¼Œå¯ä»¥ç†è§£ä¸ºlpop,åªä¸è¿‡è¿™ä¸ªæ˜¯å°†æŒ‡å®šåŒºé—´å¤–çš„éƒ½ç§»é™¤</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"k4"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"k3"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"k2"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"k1"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> ltrim list <span class="token number">1</span> <span class="token number">2</span>   <span class="token comment">#åªä¿ç•™listé›†åˆä¸­åŒºé—´1åˆ°åŒºé—´2çš„å…ƒç´ </span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1   <span class="token comment">#lrange 0 -1 æ˜¯è·å–listçš„æ‰€æœ‰å€¼ï¼Œåªè¿”å›ä¸¤æ¡ï¼Œè¯´æ˜listå·²ç»è¢«æ”¹å˜ï¼Œä¸å†æ˜¯4æ¡æ•°æ®</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"k3"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"k2"</span><span class="token comment">#####################################</span>RpopLpush  <span class="token comment">#ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†ä»–ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦ï¼‰</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> rpoplpush list list1 <span class="token comment">#å°†listçš„æœ€åä¸€ä¸ªå…ƒç´ ç§»åˆ°list1çš„å¤´éƒ¨ï¼Œå¦‚æœlist1ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º</span><span class="token string">"k2"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list1 <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"k2"</span><span class="token comment">#######################################</span><span class="token comment">#Lset  å°†åˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å€¼ä¿®æ”¹ä¸ºå¦ä¸€ä¸ªå€¼   å¦‚æœåˆ—è¡¨ä¸å­˜åœ¨æˆ–è€…æŒ‡å®šä¸‹æ ‡æ²¡æœ‰å€¼ï¼Œåˆ™ä¿®æ”¹å¤±è´¥ï¼Œç±»ä¼¼æœ‰æ›´æ–°æ“ä½œ</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> exists list   <span class="token comment">#åˆ¤æ–­æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨listè¿™ä¸ªkey</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lset list <span class="token number">1</span> pty    <span class="token comment">#å› ä¸ºä¸å­˜åœ¨listï¼Œæ‰€ä»¥ä½¿ç”¨lsetä¿®æ”¹å‡ºé”™</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR no such key<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lpush list k1    <span class="token comment">#åˆ›å»ºlist,å¹¶ä¸”æ·»åŠ å€¼</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> <span class="token number">0</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"k1"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lset list <span class="token number">1</span> pty   <span class="token comment">#ä½¿ç”¨lsetä¿®æ”¹ï¼Œå› ä¸ºliståªæœ‰1ä¸ªå€¼ï¼Œä¸‹æ ‡ä¸º1çš„ä½ç½®æ²¡æœ‰å€¼ï¼Œæ‰€ä»¥ä¿®æ”¹å¤±è´¥</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR index out of range     <span class="token comment">#è¶…å‡ºèŒƒå›´</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lset list <span class="token number">0</span> pty    <span class="token comment">#ä½¿ç”¨lsetä¿®æ”¹listä¸­ä¸‹æ ‡ä¸º0çš„å€¼ï¼Œä¿®æ”¹ä¸ºpty</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> 00<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token comment">##########################################</span><span class="token comment">#Linsert  åœ¨æŸä¸ªç‰¹å®šçš„å…ƒç´ çš„å‰é¢æˆ–è€…åé¢æ·»åŠ ä¸€ä¸ªå€¼</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> Linsert list before pty hello   <span class="token comment">#åœ¨listä¸­çš„ptyå‰é¢æ·»åŠ ä¸€ä¸ªå€¼ hello</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"hello"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> Linsert list after pty ok   <span class="token comment">#åœ¨listä¸­çš„peyåé¢æ·»åŠ ä¸€ä¸ªå€¼ ok</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange list <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"hello"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"ok"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="setï¼ˆé›†åˆï¼‰"><a href="#setï¼ˆé›†åˆï¼‰" class="headerlink" title="setï¼ˆé›†åˆï¼‰"></a>setï¼ˆé›†åˆï¼‰</h3><p>setä¸­çš„å€¼ä¸èƒ½é‡å¤ï¼ŒListä¸­çš„å€¼å¯ä»¥é‡å¤ã€‚setæ— åºä¸é‡å¤é›†åˆã€‚</p><p>setçš„å‘½ä»¤ä»¥så¼€å¤´</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##############################</span><span class="token comment">#Sadd  å¾€setä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ </span><span class="token comment">#Smembers æŸ¥çœ‹setä¸­çš„æ‰€æœ‰å€¼</span><span class="token comment">#Sismember åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯åœ¨setä¸­ï¼Œæ˜¯è¿”å›1ï¼Œä¸æ˜¯è¿”å›0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd myset hello  <span class="token comment">#å‘setä¸­æ·»åŠ ä¸€ä¸ªå€¼</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd myset pty<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd myset pty  <span class="token comment">#å‘setä¸­æ·»åŠ ä¸€ä¸ªé‡å¤çš„å€¼ï¼Œå› ä¸ºsetçš„å€¼ä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥æ·»åŠ å¤±è´¥</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> smembers myset  <span class="token comment">#æŸ¥çœ‹setä¸­çš„æ‰€æœ‰å€¼</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"hello"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sismember myset pty   <span class="token comment">#åˆ¤æ–­ptyæ˜¯å¦åœ¨setä¸­ï¼Œåœ¨è¿”å›1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sismember myset pet   <span class="token comment">#åˆ¤æ–­petæ˜¯å¦åœ¨setä¸­ï¼Œä¸åœ¨è¿”å›0</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token comment">##############################</span><span class="token comment">#Scard è·å–setä¸­çš„å…ƒç´ ä¸ªæ•°</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> scard myset <span class="token comment">#è·å–mysetä¸­çš„å…ƒç´ ä¸ªæ•°</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token comment">###############################</span><span class="token comment">#Srem ç§»é™¤setä¸­çš„ç‰¹å®šçš„å€¼</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> srem myset hello   <span class="token comment">#ç§»é™¤setä¸­çš„ç‰¹å®šå€¼ï¼Œç§»é™¤mysetä¸­çš„hello</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> smembers myset<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token comment">##################################</span><span class="token comment">#Srandmember  åœ¨seté›†åˆä¸­éšæœºæŠ½å–æŒ‡å®šä¸ªæ•°çš„å…ƒç´ </span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd myset  <span class="token number">1</span> <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd myset  <span class="token number">2</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd myset  <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">10</span>  <span class="token comment">#å‘mysetä¸­æ·»åŠ å…ƒç´ ï¼Œå…ƒç´ ä¸ªæ•°å°‘ï¼ŒæŠ½å–æœ‰å¶ç„¶æ€§</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">8</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> srandmember myset <span class="token number">1</span>   <span class="token comment">#åœ¨seté›†åˆä¸­éšæœºæŠ½å–ä¸€ä¸ªå…ƒç´ </span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"6"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> srandmember myset <span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"3"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> srandmember myset <span class="token number">3</span>  <span class="token comment">#åœ¨seté›†åˆä¸­éšæœºæŠ½å–3ä¸ªå…ƒç´ </span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"5"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"2"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"1"</span><span class="token comment">###############################</span><span class="token comment">#Spop åœ¨seté›†åˆä¸­éšæœºç§»é™¤æŒ‡å®šä¸ªæ•°ä¸ªå…ƒç´ </span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> spop myset <span class="token number">1</span>   <span class="token comment">#éšæœºç§»é™¤ä¸€ä¸ªå…ƒç´ </span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"1"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> spop myset <span class="token number">3</span>   <span class="token comment">#éšæœºç§»é™¤ä¸‰ä¸ªå…ƒç´ </span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"7"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"9"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token comment">###############################</span><span class="token comment">#Smov å°†ä¸€ä¸ªæŒ‡å®šå…ƒç´ å…ƒç´ ä»ä¸€ä¸ªé›†åˆç§»åˆ°å¦ä¸€ä¸ªé›†åˆ</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> flushdbOK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd set1 <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> smove set1 set2 <span class="token number">1</span>   <span class="token comment">#å°†set1ä¸­çš„1ç§»åˆ°set2ä¸­ï¼Œå¦‚æœset2æ²¡æœ‰åˆ›å»ºä¼šè‡ªåŠ¨åˆ›å»º</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> smembers set2<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"1"</span><span class="token comment">#############################</span><span class="token comment">#Sdiff  è¿”å›A Bä¸¤ä¸ªé›†åˆä¸­ï¼ŒAé›†åˆä¸­çš„å’ŒBé›†åˆä¸­ä¸åŒçš„å…ƒç´ ï¼Œå¦‚æœæ˜¯SDIFF B Aï¼Œåˆ™è¿”å›Bä¸­ä¸Aä¸åŒçš„å…ƒç´ </span><span class="token comment">#Sinter è¿”å›A Bä¸¤ä¸ªseté›†åˆä¸­å…±æœ‰çš„å…ƒç´ </span><span class="token comment">#Sunion è¿”å›A Bä¸¤ä¸ªseté›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå¦‚æœå…·æœ‰ç›¸åŒå…ƒç´ ï¼Œåªæ˜¾ç¤ºä¸€ä¸ª</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd set1 a<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd set1 b<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd set1 c   <span class="token comment">#å‘set1ä¸­æ·»åŠ a,b,cä¸‰ä¸ªå…ƒç´ </span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd set2 c<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd set2 d<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sadd set2 e   <span class="token comment">#å‘set2ä¸­æ·»åŠ cï¼Œd,eä¸‰ä¸ªå…ƒç´ ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œset1å’Œset2å…·æœ‰cè¿™ä¸ªç›¸åŒå…ƒç´ </span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token function">sdiff</span> set1 set2  <span class="token comment">#è¿”å›set1å’Œset2ä¸­ï¼Œset1ä¸­çš„ç‰¹æœ‰å…ƒç´  ç›¸å½“äºæ±‚å·®é›†</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sinter set1 set2  <span class="token comment">#è¿”å›set1å’Œset2å…±æœ‰å…ƒç´   ç›¸å½“äºæ±‚äº¤é›†</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> sunion set1 set2  <span class="token comment">#è¿”å›set1å’Œset2æ‰€æœ‰å…ƒç´  ç›¸å½“äºæ±‚å¹¶é›†</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Hash-å“ˆå¸Œ"><a href="#Hash-å“ˆå¸Œ" class="headerlink" title="Hash(å“ˆå¸Œ)"></a>Hash(å“ˆå¸Œ)</h3><p>æ¯ä¸€ä¸ªkeyé‡Œé¢åˆå¯ä»¥å­˜å‚¨å¤šä¸ªkey-valueç»„åˆï¼Œå¯ä»¥ç†è§£æˆç±»ï¼Œå¦‚Personæ˜¯ä¸€ä¸ªç±»ï¼Œé‡Œé¢åŒ…å«username,age,classç­‰å±æ€§ï¼Œè¿™é‡Œçš„Personå°±ç›¸å½“äºå¤–é¢çš„key,usernameå°±æ˜¯é‡Œé¢çš„key,valueå°±æ˜¯å±æ€§å€¼ã€‚</p><p>redisæ˜¯ä¸€ä¸ªkey-valueæ•°æ®åº“ï¼Œhashå…¶å®å°±æ˜¯valueé‡Œé¢åˆæ˜¯å¤šä¸ªkey-value</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">############################</span><span class="token comment">#Hset å‘keyä¸­æ·»åŠ  key-valueç»„åˆï¼Œå¯ä»¥åŒæ—¶æ·»åŠ å¤šä¸ªkey-value</span><span class="token comment">#Hget è·å–keyä¸­æŒ‡å®škeyçš„value,åªèƒ½è·å–ä¸€ä¸ª</span><span class="token comment">#Hmget è·å–keyä¸­æŒ‡å®škeyçš„value,å¯ä»¥åŒæ—¶è·å–å¤šä¸ª</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hset hash1 filed1 hello   <span class="token comment">#å‘hash1ä¸­æ·»åŠ key=filed1,value=helloçš„å…ƒç´ </span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hget hash1 filed1     <span class="token comment">#è·å–hash1ä¸­key=filed1çš„value</span><span class="token string">"hello"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hset hash1 filed2 pty filed3 haha <span class="token comment">#åŒæ—¶è®¾ç½®å¤šä¸ªkey-value</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hmget hash1 filed1 filed2 filed3  <span class="token comment">#åŒæ—¶è·å–å¤šä¸ªkey-value</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"hello"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"haha"</span><span class="token comment">#################################</span><span class="token comment">#Hdel åˆ é™¤hashä¸­æŒ‡å®škeyï¼Œå¯ä»¥åŒæ—¶åˆ é™¤å¤šä¸ª</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hdel hash1 filed3  <span class="token comment">#åˆ é™¤hash1ä¸­çš„key=filed3</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hgetall hash1   <span class="token comment">#è·å–hash1ä¸­çš„æ‰€æœ‰key-valueï¼Œå¯ä»¥çœ‹è§filed3æ²¡æœ‰äº†</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"filed1"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"hello"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"filed2"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token comment">####################################</span><span class="token comment">#Hlen  è·å–hashä¸­key-valueçš„æ•°é‡</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hlen hash1 <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>  <span class="token comment">#è¿”å›çš„æ˜¯key-valueçš„æ•°é‡ï¼Œåƒä¸Šé¢çš„filed1å’Œhelloæ˜¯ä¸€ä¸ªkey-valueï¼Œæ•°é‡ä¸º1ã€‚</span><span class="token comment">#####################################</span><span class="token comment">#Hexists åˆ¤æ–­hashä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„keyï¼Œ</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hexists hash1 filed1  <span class="token comment">#åˆ¤æ–­hash1ä¸­æ˜¯å¦å­˜åœ¨filed1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token comment">#######################################</span><span class="token comment">#Hkeys  è·å–hashä¸­çš„æ‰€æœ‰key</span><span class="token comment">#Hvals è·å–hashä¸­æ‰€æœ‰çš„value</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hkeys hash1   <span class="token comment">#è·å–hash1ä¸­æ‰€æœ‰çš„key</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"filed1"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"filed2"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hvals hash1   <span class="token comment">#è·å–hash1ä¸­æ‰€æœ‰çš„value</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"hello"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token comment">####################################</span><span class="token comment">#Hincrby  ç»™hashä¸­çš„æŒ‡å®škeyçš„å€¼è‡ªå¢æŒ‡å®šçš„æ•°ï¼Œæ²¡æœ‰hdecrby hincr hdecr</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hset <span class="token builtin class-name">hash</span> field <span class="token number">2</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hincrby <span class="token builtin class-name">hash</span> field <span class="token number">4</span>  <span class="token comment">#ç»™hashä¸­çš„fieldè‡ªå¢+4</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hget <span class="token builtin class-name">hash</span> field<span class="token string">"6"</span><span class="token comment">#######################################</span><span class="token comment">#Hsetnx å¦‚æœkeyä¸å­˜åœ¨åˆ™åˆ›å»ºæˆåŠŸï¼Œå­˜åœ¨åˆ™ä¸æˆåŠŸ</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hsetnx <span class="token builtin class-name">hash</span> field1 <span class="token number">1</span>   <span class="token comment">#å› ä¸ºhashä¸­æ²¡æœ‰field1ï¼Œåˆ›å»ºæˆåŠŸ</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> hsetnx <span class="token builtin class-name">hash</span> field1 <span class="token number">2</span> <span class="token comment">#å› ä¸ºhashä¸­å·²ç»æœ‰äº†field1,åˆ›å»ºå¤±è´¥</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»ä¸Šé¢çš„å‘½ä»¤å¯ä»¥çœ‹å‡ºæ¥ï¼Œhashå’Œstringçš„æ“ä½œå¾ˆåƒã€‚hashæ›´é€‚åˆäºå¯¹è±¡çš„å­˜å‚¨ï¼Œstringæ›´é€‚åˆäºå­—ç¬¦ä¸²å­˜å‚¨ã€‚</p><h3 id="Zsetï¼ˆæœ‰åºé›†åˆï¼‰"><a href="#Zsetï¼ˆæœ‰åºé›†åˆï¼‰" class="headerlink" title="Zsetï¼ˆæœ‰åºé›†åˆï¼‰"></a>Zsetï¼ˆæœ‰åºé›†åˆï¼‰</h3><p>åœ¨setçš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªå€¼  ï¼Œsetæ·»åŠ æ•°ç»„çš„æ—¶å€™<code>sadd k1 v1</code> è€Œzsetæ·»åŠ æ—¶<code>zadd k1 score1 v1</code></p><p>åœ¨key-valueä¸­é—´å¤šäº†ä¸€ä¸ªæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—ç”¨æ¥æ’åºã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">######################</span><span class="token comment">#Zadd å‘zsetä¸­æ·»åŠ æ•°æ®ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªå€¼è¿›è¡Œæ’åºã€‚</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zadd zset1 <span class="token number">1</span> one    <span class="token comment">#å‘zset1ä¸­æ·»åŠ æ•°æ®ï¼ŒæŒ‡å®šscoreä¸º1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zadd zset1 <span class="token number">2</span> two <span class="token number">3</span> three<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrange zset1 <span class="token number">0</span> -1  <span class="token comment">#æ·»åŠ å¤šä¸ªæ•°æ®ï¼Œscoreä¸º2 3</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"one"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"two"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"three"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token comment">#########################</span><span class="token comment">#Zrangebyscore è·å–zsetä¸­çš„valueï¼Œå¹¶æ ¹æ®è®¾å®šçš„scoreçš„å€¼è¿›è¡Œæ’åºï¼Œå‡åºæ’åºã€‚</span><span class="token comment">#Zrevrangebyscore è·å–zsetzä¸­çš„value,æ ¹æ®è®¾å®šçš„scoreçš„å€¼è¿›è¡Œæ’åºï¼Œé™åºæ’åºã€‚</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zadd salary <span class="token number">2500</span> xh<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zadd salary <span class="token number">3000</span> xm<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zadd salary <span class="token number">5000</span> pty<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrangebyscore salary -inf +inf   <span class="token comment">#æ ¹æ®scoreè·å–zsetçš„value,scoreçš„å–å€¼èŒƒå›´ä¸ºè´Ÿæ— ç©·åˆ°æ­£æ— ç©·ï¼Œinfè¡¨ç¤ºæ— ç©·å¤§ã€‚ infå¤„çš„å€¼å¯ä»¥ä»»æ„ä¿®æ”¹</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"xh"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"xm"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrangebyscore salary -inf +inf withscores <span class="token comment">#ä¸ä»…æ ¹æ®scoreè·å–zsetä¸­çš„valueï¼ŒåŒæ—¶è¿˜è·å–ç›¸å¯¹åº”çš„score</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"xh"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"2500"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"xm"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"3000"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"5000"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrevrangebyscore salary +inf -inf withscores  <span class="token comment">#é™åºæ’åº</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"5000"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"xm"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"3000"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"xh"</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"2500"</span><span class="token comment">###################################</span><span class="token comment">#Zrem   ç§»é™¤æŒ‡å®šçš„value</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrem salary xh    <span class="token comment">#ç§»é™¤salaryä¸­çš„xh</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrange salary <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"xm"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"pty"</span><span class="token comment">#####################################</span><span class="token comment">#Zcard è·å–zsetä¸­çš„æ•°é‡</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zcard salary   <span class="token comment">#è·å–salaryä¸­çš„æ•°é‡</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token comment">#######################################</span><span class="token comment">#Zcount  è·å–zsetä¸­æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zadd zet <span class="token number">1</span> hello <span class="token number">2</span> pty <span class="token number">3</span> hahah  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zcount zet <span class="token number">1</span> <span class="token number">3</span>   <span class="token comment">#è·å–zetä¸­scoreä¸º1 - 3çš„æˆå‘˜æ•°é‡</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zcount zet <span class="token number">1</span> <span class="token number">2</span>    <span class="token comment">#è·å–zetä¸­scoreä¸º1 - 2çš„æˆå‘˜æ•°é‡</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥ç”¨æ¥åšæ’è¡Œæ¦œã€‚</p><h2 id="ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"><a href="#ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹" class="headerlink" title="ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"></a>ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹</h2><h3 id="geospatial-åœ°ç†ä½ç½®"><a href="#geospatial-åœ°ç†ä½ç½®" class="headerlink" title="geospatial(åœ°ç†ä½ç½®)"></a>geospatial(åœ°ç†ä½ç½®)</h3><p>æœ‹å‹çš„å®šä½ï¼Œé™„è¿‘çš„äººï¼Œæ‰“è½¦è·ç¦»è®¡ç®—â€¦â€¦</p><p><a href="https://www.redis.net.cn/order/3685.html">æ–‡æ¡£</a></p><blockquote><p>Geoaddï¼šå°†æŒ‡å®šçš„åœ°ç†ç©ºé—´ä½ç½®ï¼ˆçº¬åº¦ã€ç»åº¦ã€åç§°ï¼‰æ·»åŠ åˆ°æŒ‡å®šçš„<code>key</code>ä¸­ã€‚</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#geoadd  å‘keyä¸­æ·»åŠ æŒ‡å®šçš„ç»çº¬åº¦ï¼Œå…ˆå†™ç»åº¦ï¼Œå†å†™çº¬åº¦ã€‚</span><span class="token comment">#æœ‰æ•ˆçš„ç»åº¦ä»-180åº¦åˆ°180åº¦ã€‚æœ‰æ•ˆçš„çº¬åº¦ä»-85.05112878åº¦åˆ°85.05112878åº¦ã€‚</span><span class="token comment">#ä¸¤çº§æ— æ³•ç›´æ¥æ·»åŠ ï¼Œä¸€èˆ¬æ˜¯ä¸‹è½½åŸå¸‚æ•°æ®ï¼Œé€šè¿‡javaç¨‹åºä¸€æ¬¡æ€§å¯¼å…¥</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geoadd city <span class="token number">116.41</span> <span class="token number">39.90</span> beijing <span class="token number">121.47</span> <span class="token number">31.23</span> shanghai <span class="token number">108.95</span> <span class="token number">34.26</span> xian<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geoadd city <span class="token number">118.77</span> <span class="token number">32.04</span> nanjing<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geoadd city <span class="token number">106.50</span> <span class="token number">29.5</span> chongqing<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>Geoposï¼šä»<code>key</code>é‡Œè¿”å›æ‰€æœ‰ç»™å®šä½ç½®å…ƒç´ çš„ä½ç½®ï¼ˆç»åº¦å’Œçº¬åº¦ï¼‰ã€‚</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#Geopos:è·å–keyä¸­æŒ‡å®šä½ç½®çš„ç»çº¬åº¦ã€‚</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geopos city beijing shanghai xian   <span class="token comment">#è·å–åŒ—äº¬ï¼Œä¸Šæµ·ï¼Œè¥¿å®‰çš„ç»çº¬åº¦</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"116.40999823808670044"</span>   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"39.90000009167092543"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"121.47000163793563843"</span>   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"31.22999903975783553"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"108.95000249147415161"</span>   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"34.25999964418929977"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geopos city nanjing  <span class="token comment">#è·å–å—äº¬çš„ç»çº¬åº¦</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"118.76999884843826294"</span>   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"32.03999960287850968"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>Geodistï¼šè¿”å›ä¸¤ä¸ªç»™å®šä½ç½®ä¹‹é—´çš„è·ç¦»</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#Geodist:è¿”å›ä¸¤ä¸ªç»™å®šä½ç½®ä¹‹é—´çš„è·ç¦»</span><span class="token comment">#å¦‚æœæœ‰ä¸€ä¸ªä½ç½®ä¸å­˜åœ¨keyä¸­ï¼Œåˆ™è¿”å›ç©ºå€¼</span><span class="token comment"># m è¡¨ç¤ºå•ä½ä¸ºç±³ã€‚</span><span class="token comment"># km è¡¨ç¤ºå•ä½ä¸ºåƒç±³ã€‚</span><span class="token comment"># mi è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œã€‚</span><span class="token comment"># ft è¡¨ç¤ºå•ä½ä¸ºè‹±å°ºã€‚</span><span class="token comment">#å¦‚æœç”¨æˆ·æ²¡æœ‰æ˜¾å¼åœ°æŒ‡å®šå•ä½å‚æ•°ï¼Œ é‚£ä¹ˆ GEODIST é»˜è®¤ä½¿ç”¨ç±³ä½œä¸ºå•ä½</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geodist city beijing shanghai   <span class="token comment">#è·å–åŒ—äº¬åˆ°ä¸Šæµ·çš„è·ç¦» æ²¡å†™å•ä½ï¼Œé»˜è®¤ä»¥mä¸ºå•ä½</span><span class="token string">"1066992.3081"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geodist city beijing shanghai km <span class="token comment">#è·å–åŒ—äº¬åˆ°ä¸Šæµ·çš„è·ç¦»ï¼Œä»¥kmä¸ºå•ä½</span><span class="token string">"1066.9923"</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>Georadiusï¼šå·²ç»™å®šçš„ç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œæ‰¾å‡ºæŸä¸€åŠå¾„å†…çš„å…ƒç´ </p></blockquote><p>èŒƒå›´å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…¶ä¸­ä¸€ä¸ªå•ä½ï¼š</p><ul><li><strong>m</strong> è¡¨ç¤ºå•ä½ä¸ºç±³ã€‚</li><li><strong>km</strong> è¡¨ç¤ºå•ä½ä¸ºåƒç±³ã€‚</li><li><strong>mi</strong> è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œã€‚</li><li><strong>ft</strong> è¡¨ç¤ºå•ä½ä¸ºè‹±å°ºã€‚</li></ul><p>åœ¨ç»™å®šä»¥ä¸‹å¯é€‰é¡¹æ—¶ï¼Œ å‘½ä»¤ä¼šè¿”å›é¢å¤–çš„ä¿¡æ¯ï¼š</p><ul><li><code>WITHDIST</code>: åœ¨è¿”å›ä½ç½®å…ƒç´ çš„åŒæ—¶ï¼Œ å°†ä½ç½®å…ƒç´ ä¸ä¸­å¿ƒä¹‹é—´çš„è·ç¦»ä¹Ÿä¸€å¹¶è¿”å›ã€‚ è·ç¦»çš„å•ä½å’Œç”¨æˆ·ç»™å®šçš„èŒƒå›´å•ä½ä¿æŒä¸€è‡´ã€‚</li><li><code>WITHCOORD</code>: å°†ä½ç½®å…ƒç´ çš„ç»åº¦å’Œç»´åº¦ä¹Ÿä¸€å¹¶è¿”å›ã€‚</li><li><code>WITHHASH</code>: ä»¥ 52 ä½æœ‰ç¬¦å·æ•´æ•°çš„å½¢å¼ï¼Œ è¿”å›ä½ç½®å…ƒç´ ç»è¿‡åŸå§‹ geohash ç¼–ç çš„æœ‰åºé›†åˆåˆ†å€¼ã€‚ è¿™ä¸ªé€‰é¡¹ä¸»è¦ç”¨äºåº•å±‚åº”ç”¨æˆ–è€…è°ƒè¯•ï¼Œ å®é™…ä¸­çš„ä½œç”¨å¹¶ä¸å¤§ã€‚</li></ul><p>å‘½ä»¤é»˜è®¤è¿”å›æœªæ’åºçš„ä½ç½®å…ƒç´ ã€‚ é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ï¼Œ ç”¨æˆ·å¯ä»¥æŒ‡å®šè¢«è¿”å›ä½ç½®å…ƒç´ çš„æ’åºæ–¹å¼ï¼š</p><ul><li><code>ASC</code>: æ ¹æ®ä¸­å¿ƒçš„ä½ç½®ï¼Œ æŒ‰ç…§ä»è¿‘åˆ°è¿œçš„æ–¹å¼è¿”å›ä½ç½®å…ƒç´ ã€‚</li><li><code>DESC</code>: æ ¹æ®ä¸­å¿ƒçš„ä½ç½®ï¼Œ æŒ‰ç…§ä»è¿œåˆ°è¿‘çš„æ–¹å¼è¿”å›ä½ç½®å…ƒç´ ã€‚</li><li>countï¼šè®¾ç½®ä¸€ä¸ªæ•°å­—ï¼Œå¯ä»¥åªè·å–æ’åºåœ¨å‰çš„æŒ‡å®šæ•°é‡çš„å…ƒç´ ã€‚</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> georadius city <span class="token number">100</span> <span class="token number">35</span> <span class="token number">1000</span> km  <span class="token comment">#è·å–ä»¥ç»çº¬åº¦ 100 35ä¸ºä¸­å¿ƒï¼ŒåŠå¾„ä¸º1000kmä»¥å†…çš„å…ƒç´ ï¼Œå…ƒç´ å¿…é¡»åœ¨keyä¸­æ‰èƒ½è·å–</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"xian"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"chongqing"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> georadius city <span class="token number">100</span> <span class="token number">35</span> <span class="token number">1000</span> km count <span class="token number">1</span>  <span class="token comment">#ä½¿ç”¨countæ§åˆ¶è·å–çš„æ•°é‡</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"xian"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> georadius city <span class="token number">100</span> <span class="token number">35</span> <span class="token number">1000</span> km withdist  <span class="token comment">#è·å–å…ƒç´ çš„åŒæ—¶è¿”å›å…ƒç´ ä¸ä¸­å¿ƒçš„ç›´çº¿è·ç¦»</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"xian"</span>   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"822.9592"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"chongqing"</span>   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"864.4890"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> georadius city <span class="token number">100</span> <span class="token number">35</span> <span class="token number">1000</span> km withcoord  <span class="token comment">#è·å–å…ƒç´ åŒæ—¶è¿”å›å…ƒç´ çš„ç»çº¬åº¦</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"xian"</span>   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"108.95000249147415161"</span>      <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"34.25999964418929977"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"chongqing"</span>   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"106.49999767541885376"</span>      <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"29.50000115408581536"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>Georadiusbymemberï¼šæ‰¾å‡ºä½äºæŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ï¼Œä¸­å¿ƒç‚¹æœ‰ç»™å®šçš„ä½ç½®å…ƒç´ </p></blockquote><p>è¿™ä¸ªå‘½ä»¤ä¸ä¸Šé¢çš„Georadiuså‘½ä»¤åŠŸèƒ½å·®ä¸å¤šï¼ŒåŒºåˆ«åœ¨äºä¸Šé¢çš„å‘½ä»¤éœ€è¦è‡ªå·±è¾“å…¥ä¸­å¿ƒç‚¹çš„åæ ‡ï¼Œè€Œè¿™ä¸ªå‘½ä»¤æ˜¯ç»™å‡ºä¸€ä¸ªä½ç½®å…ƒç´ ï¼Œä»¥ä»–çš„ç»çº¬åº¦ä½œä¸ºä¸­å¿ƒç‚¹ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> georadiusbymember city shanghai <span class="token number">500</span> km   <span class="token comment">#æ‰¾å‡ºä»¥ä¸Šæµ·ä¸ºä¸­å¿ƒï¼ŒåŠå¾„ä¸º500kmä»¥å†…çš„å…ƒç´ </span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"shanghai"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"nanjing"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>Geohashï¼šè¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªä½ç½®å…ƒç´ çš„ Geohash è¡¨ç¤º</p></blockquote><p>è¯¥å‘½ä»¤å°†è¿”å›11ä¸ªå­—ç¬¦çš„Geohashå­—ç¬¦ä¸²</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geohash city nanjing <span class="token comment">#è¿”å›nanjingçš„ç»çº¬åº¦ï¼Œå¹¶å°†äºŒç»´çš„ç»çº¬åº¦è½¬æ¢ä¸ºä¸€ç»´çš„å­—ç¬¦ä¸²</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"wtsqq8twt80"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>Geoåº•å±‚çš„å®ç°åŸç†å…¶å®å°±æ˜¯Zsetï¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Zsetå‘½ä»¤æ¥æ“ä½œgeo</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrange city <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"chongqing"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"xian"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"shanghai"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"nanjing"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"beijing"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrem city beijing<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> zrange city <span class="token number">0</span> -1<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"chongqing"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"xian"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"shanghai"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"nanjing"</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> geopos beijing<span class="token punctuation">(</span>empty array<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Hyperloglog"><a href="#Hyperloglog" class="headerlink" title="Hyperloglog"></a>Hyperloglog</h3><p>ç”¨æ¥ç»Ÿè®¡åŸºæ•°ã€‚</p><p>ä»€ä¹ˆæ˜¯åŸºæ•°ï¼Ÿ åŸºæ•°å°±æ˜¯åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œä¸é‡å¤çš„æ•°å­—çš„æ•°é‡ã€‚å¦‚A{1,2,3,4,3,5} è¿™ä¸ªé›†åˆçš„åŸºæ•°å°±æ˜¯5ã€‚</p><p>åº”ç”¨åœºæ™¯ï¼šåœ¨ç»Ÿè®¡è®¿é—®é‡çš„æ—¶å€™ï¼Œä¸€ä¸ªäººå¤šæ¬¡è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼Œè¿˜æ˜¯ç®—ä½œä¸€ä¸ªäººã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç»Ÿè®¡åŸºæ•°ã€‚</p><p>ä¼˜ç‚¹ï¼šå ç”¨çš„å†…å­˜æ˜¯å›ºå®šçš„ï¼Œ2^64ä¸ªä¸åŒå…ƒç´ çš„åŸºæ•°ï¼Œåªéœ€è¦12kbçš„å†…å­˜ã€‚</p><p>æœ‰0.81%çš„é”™è¯¯ç‡ï¼Œå¦‚æœå…è®¸é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨Hyperloglogã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#Pfadd å‘keyä¸­æ·»åŠ å…ƒç´ </span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> pfadd key a b c d e f g h i j k  <span class="token comment">#å‘keyä¸­æ·»åŠ å…ƒç´ </span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> pfcount key  <span class="token comment">#ç»Ÿè®¡keyä¸­çš„åŸºæ•°</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">11</span> <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> pfadd key1 f g h i k m n s <span class="token comment">#å‘key1ä¸­æ·»åŠ å…ƒç´ </span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> pfcount key1  <span class="token comment">#ç»Ÿè®¡key1ä¸­çš„åŸºæ•°</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">8</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> pfmerge key3 key key1  <span class="token comment">#å°†key å’Œ key1çš„å…ƒç´ åˆå¹¶åˆ°key3ä¸­ã€‚</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> pfcount key3  <span class="token comment">#ç»Ÿè®¡key3ä¸­çš„åŸºæ•°ï¼Œkey3ç”±keyå’Œkey1åˆå¹¶è€Œæ¥ï¼Œåº”è¯¥æœ‰19ä¸ªæ•°ï¼Œä½†å› ä¸ºç»Ÿè®¡çš„æ˜¯åŸºæ•°ï¼Œæœ‰5ä¸ªé‡å¤äº†ï¼Œæ‰€ä»¥åŸºæ•°åªæœ‰14ä¸ªã€‚</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">14</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Bitmaps"><a href="#Bitmaps" class="headerlink" title="Bitmaps"></a>Bitmaps</h3><p>Bitmaps ä½å›¾ï¼Œæ•°æ®ç»“æ„ï¼Œéƒ½æ˜¯æ“ä½œäºŒè¿›åˆ¶ä½æ¥è¿›è¡Œè®°å½•ï¼Œåªæœ‰0å’Œ1ä¸¤ä¸ªçŠ¶æ€</p><p>ç»Ÿè®¡ç”¨æˆ·æ´»è·ƒï¼Œä¸æ´»è·ƒï¼Œæ‰“å¡ï¼Œæœªæ‰“å¡ç­‰ä¸¤ä¸ªçŠ¶æ€çš„ï¼Œéƒ½å¯ä»¥ä½¿ç”¨Bitmaps</p><p>ä»¥ä¸‹ä»¥æ‰“å¡ä¸ºä¾‹å­æ¥è®²è§£</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#setbit å‘keyä¸­æ·»åŠ æ•°æ®ï¼Œç¬¬ä¸€ä¸ªæ•°å­—ä¸ºåæ ‡ï¼Œç¬¬äºŒä¸ªæ•°å­—ä»£è¡¨çŠ¶æ€ï¼Œåªèƒ½ä¸º 1æˆ–è€…0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setbit sign <span class="token number">0</span> <span class="token number">1</span>    <span class="token comment">#è®¾ç½®ç¬¬ä¸€å¤©çš„çŠ¶æ€ä¸º1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setbit sign <span class="token number">1</span> <span class="token number">0</span>   <span class="token comment">#è®¾ç½®ç¬¬äºŒå¤©çš„çŠ¶æ€ä¸º0</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setbit sign <span class="token number">1</span> <span class="token number">3</span>   <span class="token comment">#å¯ä»¥çœ‹åˆ°å½“ç¬¬äºŒä¸ªæ•°å­—ä¸æ˜¯1æˆ–0æ—¶æŠ¥é”™</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR bit is not an integer or out of range<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setbit sign <span class="token number">2</span> <span class="token number">0</span>   <span class="token comment">#è®¾ç½®ç¬¬ä¸‰å¤©çš„çŠ¶æ€ä¸º0</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setbit sign <span class="token number">3</span> <span class="token number">1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setbit sign <span class="token number">4</span> <span class="token number">1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setbit sign <span class="token number">5</span> <span class="token number">0</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> setbit sign <span class="token number">6</span> <span class="token number">1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token comment">#########################################</span><span class="token comment">#getbit æŸ¥çœ‹æŸä¸€ä¸ªåæ ‡çš„çŠ¶æ€ï¼Œæ˜¯0è¿˜æ˜¯1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> getbit sign <span class="token number">6</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> getbit sign <span class="token number">2</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token comment">##########################################</span><span class="token comment">#bitcount ç»Ÿè®¡çŠ¶æ€ä¸º1çš„åæ ‡çš„æ•°é‡</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> bitcount sign<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h2><p>Redisäº‹åŠ¡æœ¬è´¨ï¼šä¸€ç»„å‘½ä»¤çš„é›†åˆï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ï¼Œåœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼</p><p>ä¸€æ¬¡æ€§ã€é¡ºåºæ€§ã€æ’ä»–æ€§ã€‚</p><p>æ‰€æœ‰çš„å‘½ä»¤åœ¨äº‹åŠ¡ä¸­ï¼Œå¹¶æ²¡æœ‰ç›´æ¥è¢«æ‰§è¡Œï¼åªæœ‰å‘èµ·æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™æ‰ä¼šè¢«æ‰§è¡Œã€‚</p><p><strong>Rediså•æ¡å‘½ä»¤æ˜¯æœ‰åŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§ï¼</strong> </p><p>redisçš„äº‹åŠ¡ï¼š</p><ul><li>å¼€å¯äº‹åŠ¡(multi)</li><li>å‘½ä»¤å…¥é˜Ÿ()</li><li>æ‰§è¡Œäº‹åŠ¡(exec)</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># multi  å¼€å¯äº‹åŠ¡</span><span class="token comment"># exec  æ‰§è¡Œäº‹åŠ¡</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> multi    <span class="token comment">#å¼€å¯äº‹åŠ¡</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> k1 v1   <span class="token comment">#è¾“å…¥ä¸€äº›å‘½ä»¤</span>QUEUED                      <span class="token comment">#å¯ä»¥çœ‹åˆ°å¹¶æ²¡æœ‰ç›´æ¥è¿”å›ç»“æœï¼Œè€Œæ˜¯å°†å‘½ä»¤å…¥é˜Ÿ</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> k2 v2QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get k1QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> k3 v3QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">exec</span>    <span class="token comment">#æ‰§è¡Œäº‹åŠ¡</span><span class="token number">1</span><span class="token punctuation">)</span> OK                    <span class="token comment">#å°†ä¸Šè¿°å‘½ä»¤çš„ç»“æœæŒ‰ç…§å…¥é˜Ÿçš„é¡ºåºè¿”å›</span><span class="token number">2</span><span class="token punctuation">)</span> OK<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"v1"</span><span class="token number">4</span><span class="token punctuation">)</span> OK<span class="token comment">#######################################</span><span class="token comment">#Discard  æ”¾å¼ƒäº‹åŠ¡</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> multi     <span class="token comment">#å¼€å¯äº‹åŠ¡</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> k1 v1   <span class="token comment">#è¾“å…¥å‘½ä»¤</span>QUEUED                      <span class="token comment">#å‘½ä»¤å…¥é˜Ÿ</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> k2 v2QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> k3 v3QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> discard  <span class="token comment">#æ”¾å¼ƒäº‹åŠ¡</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get k3    <span class="token comment">#å› ä¸ºè¦è¾“å…¥å®è¡Œäº‹åŠ¡å‘½ä»¤åï¼Œå…¥é˜Ÿçš„å‘½ä»¤æ‰å›æ‰§è¡Œã€‚æ”¾å¼ƒäº†äº‹åŠ¡ï¼Œæ‰€ä»¥å…¥é˜Ÿçš„å‘½åæ²¡æœ‰æ‰§è¡Œï¼Œæ‰€æœ‰getä¸åˆ°k3</span><span class="token punctuation">(</span>nil<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç›‘æ§ï¼ˆwatch"><a href="#ç›‘æ§ï¼ˆwatch" class="headerlink" title="ç›‘æ§ï¼ˆwatch)"></a>ç›‘æ§ï¼ˆwatch)</h3><p><strong>æ‚²è§‚é”ï¼š</strong></p><ul><li>å¾ˆæ‚²è§‚ï¼Œä»€ä¹ˆæ—¶å€™éƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œæ— è®ºåšä»€ä¹ˆéƒ½ä¼šåŠ é”ã€‚</li><li>æ€§èƒ½ä½ä¸‹ã€‚</li></ul><p><strong>ä¹è§‚é”ï¼š</strong></p><ul><li>ä¹è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¸ä¼šå‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼æ›´æ–°æ•°æ®çš„æ—¶å€™å»åˆ¤æ–­ä¸€ä¸‹åœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡è¿™ä¸ªæ•°æ®</li></ul><p>æ­£å¸¸æˆåŠŸ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> money <span class="token number">50</span>  OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> out <span class="token number">0</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token function">watch</span> money   <span class="token comment">#ç›‘è§†moneyå­—æ®µ</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> multi    <span class="token comment">#å¼€å¯äº‹åŠ¡</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> decrby money <span class="token number">10</span>  <span class="token comment">#moneyè‡ªå‡10</span>QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> incrby out <span class="token number">10</span>   <span class="token comment">#moneyè‡ªå¢10</span>QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">exec</span>   <span class="token comment">#æ‰§è¡Œäº‹åŠ¡ï¼Œäº‹åŠ¡æ­£å¸¸ç»“æŸ</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">40</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨å¤šçº¿ç¨‹ä¿®æ”¹moneyçš„å€¼ï¼Œ<strong>watchå¯ä»¥å½“åšredisçš„ä¹è§‚é”æ“ä½œ</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token function">watch</span> money   <span class="token comment">#ç›‘è§†money</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> multiOK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> decrby money <span class="token number">20</span>   QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> incrby out <span class="token number">20</span>QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">exec</span>   <span class="token comment">#æ‰§è¡Œäº‹åŠ¡ï¼Œåœ¨è¿™ä¸€æ­¥ä¹‹å‰ï¼Œä½¿ç”¨å¤šçº¿ç¨‹ä¿®æ”¹äº†moneyçš„å€¼ï¼Œæ‰§è¡Œäº‹åŠ¡åæ‰ä¼šæ‰§è¡Œå…¥é˜Ÿçš„å‘½ä»¤ï¼Œåœ¨æ‰§è¡Œdecrby money 20 å‘½ä»¤çš„æ—¶å€™ä¼šæ¯”è¾ƒmoneyçš„å€¼ä¸å¼€å¯äº‹åŠ¡å‰æ˜¯å¦ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·æ‰§è¡Œå¤±è´¥</span><span class="token punctuation">(</span>nil<span class="token punctuation">)</span><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> unwatch    <span class="token comment">#å¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œå…ˆè§£é”</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token function">watch</span> money   <span class="token comment">#é‡æ–°ç›‘è§†moneyï¼Œå› ä¸ºå·²ç»ä¿®æ”¹äº†moneyçš„å€¼ï¼ˆçœ‹ä¸‹é¢é‚£ä¸ªç¨‹åºï¼‰,æ‰€ä»¥moneyä¸º50</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> multi     <span class="token comment">#å¼€å¯äº‹åŠ¡</span>OK<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> decrby money <span class="token number">10</span>   QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> incrby out <span class="token number">10</span>   QUEUED<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">exec</span>    <span class="token comment">#æ‰§è¡Œäº‹åŠ¡   æ¯”å¯¹ç›‘è§†çš„å€¼ï¼ˆmoneyï¼‰æ˜¯å¦å‘ç”Ÿæ”¹å˜</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">40</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">20</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤šçº¿ç¨‹ä¿®æ”¹äº†moneyçš„å€¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> incrby money <span class="token number">10</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">50</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="Jedis"><a href="#Jedis" class="headerlink" title="Jedis"></a>Jedis</h2><p>Jedisæ˜¯Rediså®˜æ–¹æ¨èçš„javaè¿æ¥å¼€å‘å·¥å…·ï¼Œä½¿ç”¨javaæ“ä½œredisçš„ä¸­é—´ä»¶ã€‚</p><ol><li>å¯¼å…¥ä¾èµ–</li></ol><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>redis.clients<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jedis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>ç¼–ç æµ‹è¯•</li></ol><ul><li>è¿æ¥æ•°æ®åº“</li><li>æ“ä½œå‘½ä»¤</li><li>æ–­å¼€è¿æ¥</li></ul><p>â€‹    redisçš„æ“ä½œå‘½ä»¤åœ¨jedisä¸­æ˜¯æ–¹æ³•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> pty <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºJediså¯¹è±¡,å…¬ç½‘ipï¼Œç«¯å£å·</span>        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedis</span><span class="token punctuation">(</span><span class="token string">"47.94.228.33"</span><span class="token punctuation">,</span><span class="token number">6379</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®çš„å¯†ç </span>        jedis<span class="token punctuation">.</span><span class="token function">auth</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ‰§è¡Œrediså‘½ä»¤ã€‚</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jedis<span class="token punctuation">.</span><span class="token function">getrange</span><span class="token punctuation">(</span><span class="token string">"k1"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jedis<span class="token punctuation">.</span><span class="token function">getrange</span><span class="token punctuation">(</span><span class="token string">"k2"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="SpringBootæ•´åˆredis"><a href="#SpringBootæ•´åˆredis" class="headerlink" title="SpringBootæ•´åˆredis"></a>SpringBootæ•´åˆredis</h3><h4 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h4><p>åœ¨æ–°å»ºspringbooté¡¹ç›®çš„æ—¶å€™ï¼Œåœ¨nosqléƒ¨åˆ†å‹¾é€‰redisã€‚æˆ–è€…æ˜¯ç›´æ¥å¯¼å…¥ä¾èµ–ã€‚</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨springboot2.xä¹‹åï¼ŒåŸæ¥ä½¿ç”¨çš„jedisè¢«æ›¿æ¢æˆäº†lettuce.</p><p>jedisï¼šé‡‡ç”¨çš„æ˜¯ç›´è¿ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œçš„è¯ä¸å®‰å…¨ã€‚å¦‚æœæƒ³è¦é¿å…ä¸å®‰å…¨ï¼Œä½¿ç”¨jedis poolè¿æ¥æ± ã€‚</p><p>lettuceï¼šé‡‡ç”¨nettyï¼Œå®ä¾‹å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¸­è¿›è¡Œå…±äº«ï¼Œä¸å­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨çš„æƒ…å†µï¼Œå¯ä»¥å‡å°‘çº¿ç¨‹æ•°æ®ã€‚</p><p>æºç åˆ†æï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"redisTemplate"</span><span class="token punctuation">)</span><span class="token comment">//ConditionalOnMissingBean è¿™ä¸ªæ³¨è§£çš„æ„æ€æ˜¯å¦‚æœä¸å­˜åœ¨æ‰ç”Ÿæ•ˆï¼Œæ„æ€å°±æ˜¯å¦‚æœæˆ‘ä»¬è‡ªå·±ç¼–å†™äº†ä¸€ä¸ªredisTemplateï¼Œåˆ™è¿™ä¸ªBeanä¸ç”Ÿæ•ˆã€‚æˆ‘ä»¬å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªæ¥redisTemplateæ¥æ›¿æ¢å®˜æ–¹çš„</span><span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> redisConnectionFactory<span class="token punctuation">)</span>      <span class="token keyword">throws</span> <span class="token class-name">UnknownHostException</span> <span class="token punctuation">&#123;</span>      <span class="token comment">//é»˜è®¤çš„RedisTemplate æ²¡æœ‰è¿‡å¤šçš„è®¾ç½®ï¼Œrediså¯¹è±¡éƒ½æ˜¯éœ€è¦åºåˆ—åŒ–</span>     <span class="token comment">//æ³›å‹æ˜¯object object ç±»å‹ï¼Œæˆ‘ä»¬åé¢éœ€è¦å¼ºåˆ¶è½¬æ¢&lt;string object></span>   <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>redisConnectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">return</span> template<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Bean</span><span class="token annotation punctuation">@ConditionalOnMissingBean</span> <span class="token comment">//å› ä¸ºStringæ˜¯redisä¸­æœ€å¸¸ç”¨çš„ç±»å‹ï¼Œæ‰€ä»¥å•ç‹¬æå‡ºäº†ä¸€ä¸ªbean</span><span class="token keyword">public</span> <span class="token class-name">StringRedisTemplate</span> <span class="token function">stringRedisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> redisConnectionFactory<span class="token punctuation">)</span>      <span class="token keyword">throws</span> <span class="token class-name">UnknownHostException</span> <span class="token punctuation">&#123;</span>   <span class="token class-name">StringRedisTemplate</span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringRedisTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>redisConnectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">return</span> template<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Nosqlæ¦‚è¿°&quot;&gt;&lt;a href=&quot;#Nosqlæ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;Nosqlæ¦‚è¿°&quot;&gt;&lt;/a&gt;Nosqlæ¦‚è¿°&lt;/h2&gt;&lt;h3 id=&quot;Nosqlçš„å››å¤§åˆ†ç±»&quot;&gt;&lt;a href=&quot;#Nosqlçš„å››å¤§åˆ†ç±»&quot; class=&quot;headerlink&quot; title=&quot;Nosqlçš„å››å¤§åˆ†ç±»&quot;&gt;&lt;/a&gt;Nosqlçš„å››å¤§åˆ†ç±»&lt;/h3&gt;&lt;h4 id=&quot;KVé”®å€¼å¯¹&quot;&gt;&lt;a href=&quot;#KVé”®å€¼å¯¹&quot; class=&quot;headerlink&quot; title=&quot;KVé”®å€¼å¯¹&quot;&gt;&lt;/a&gt;KVé”®å€¼å¯¹&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æ–°æµªï¼š&lt;strong&gt;Redis&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç¾å›¢ï¼šRedis+Tair&lt;/li&gt;
&lt;li&gt;é˜¿é‡Œã€ç™¾åº¦ï¼šRedis+memecache&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="åç«¯" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="redis" scheme="http://example.com/tags/redis/"/>
    
    <category term="æ•°æ®åº“" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Springbootæ•´åˆredis</title>
    <link href="http://example.com/2021/07/22/springboot%E6%95%B4%E5%90%88redis/"/>
    <id>http://example.com/2021/07/22/springboot%E6%95%B4%E5%90%88redis/</id>
    <published>2021-07-22T03:43:48.902Z</published>
    <updated>2021-07-22T06:36:06.560Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€pom"><a href="#ä¸€ã€pom" class="headerlink" title="ä¸€ã€pom"></a>ä¸€ã€pom</h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><a id="more"></a><h3 id="äºŒã€application-yml"><a href="#äºŒã€application-yml" class="headerlink" title="äºŒã€application.yml"></a>äºŒã€application.yml</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">redis</span><span class="token punctuation">:</span>    <span class="token comment">#redisæœåŠ¡å™¨åœ°å€</span>    <span class="token key atrule">host</span><span class="token punctuation">:</span> 192.168.0.102      <span class="token comment">#redisè¿æ¥ç«¯å£å·</span>    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>    <span class="token comment">#redisè¿æ¥å¯†ç </span>    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>    <span class="token comment">#redisè¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span>    <span class="token key atrule">timeout</span><span class="token punctuation">:</span> <span class="token number">18000</span>    <span class="token key atrule">lettuce</span><span class="token punctuation">:</span>      <span class="token key atrule">pool</span><span class="token punctuation">:</span>        <span class="token comment"># è¿æ¥æ± æœ€å°ç©ºé—²è¿æ¥</span>        <span class="token key atrule">min-idle</span><span class="token punctuation">:</span> <span class="token number">1</span>        <span class="token comment"># è¿æ¥æ± æœ€å¤§ç©ºé—²è¿æ¥</span>        <span class="token key atrule">max-idle</span><span class="token punctuation">:</span> <span class="token number">10</span>        <span class="token comment"># è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span>        <span class="token key atrule">max-wait</span><span class="token punctuation">:</span> <span class="token number">-1</span>        <span class="token comment"># è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span>        <span class="token key atrule">max-active</span><span class="token punctuation">:</span> <span class="token number">-1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸‰ã€è‡ªå®šä¹‰redisTemplate"><a href="#ä¸‰ã€è‡ªå®šä¹‰redisTemplate" class="headerlink" title="ä¸‰ã€è‡ªå®šä¹‰redisTemplate"></a>ä¸‰ã€è‡ªå®šä¹‰redisTemplate</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token class-name">RedisOperations</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">RedisProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token class-name">LettuceConnectionConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">JedisConnectionConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisAutoConfiguration</span> <span class="token punctuation">&#123;</span><span class="token annotation punctuation">@Bean</span><span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"redisTemplate"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> redisConnectionFactory<span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">UnknownHostException</span> <span class="token punctuation">&#123;</span><span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>redisConnectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> template<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Bean</span><span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token keyword">public</span> <span class="token class-name">StringRedisTemplate</span> <span class="token function">stringRedisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> redisConnectionFactory<span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">UnknownHostException</span> <span class="token punctuation">&#123;</span><span class="token class-name">StringRedisTemplate</span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringRedisTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>redisConnectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> template<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯springbootè‡ªåŠ¨é…ç½®çš„redisTemplateï¼Œå¯ä»¥çœ‹åˆ°ä»–çš„æ³›å‹æ˜¯&lt;object,object&gt;,ä½†æˆ‘ä»¬ç”¨çš„æœ€å¤šçš„æ˜¯stringï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨çš„æ—¶å€™å°±ä¼šè¦å¤šæ¬¡å¼ºåˆ¶è½¬æ¢ï¼Œå¹¶ä¸”é»˜è®¤ä½¿ç”¨çš„æ˜¯Jdkçš„åºåˆ—åŒ–æ–¹å¼ã€‚ä¼šå­˜åœ¨ä¹±ç æƒ…å†µ</p><p>æ‰€ä»¥æˆ‘ä»¬è‡ªå·±ç¼–å†™ä¸€ä¸ªredisTemplateã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonAutoDetect</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertyAccessor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span></span><span class="token class-name">ObjectMapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span><span class="token class-name">RedisConnectionFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">Jackson2JsonRedisSerializer</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">StringRedisSerializer</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisConfig</span> <span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Bean</span>  <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"all"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> factory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//é…ç½®è¿æ¥å·¥å‚</span>      template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//ä½¿ç”¨Jackson2JsonRedisSerializeræ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–</span>      <span class="token class-name">Jackson2JsonRedisSerializer</span> jackson2JsonRedisSerializer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token class-name">ObjectMapper</span> om <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// æŒ‡å®šè¦åºåˆ—åŒ–çš„åŸŸï¼Œfield,getå’Œset,ä»¥åŠä¿®é¥°ç¬¦èŒƒå›´ï¼ŒANYæ˜¯éƒ½æœ‰åŒ…æ‹¬privateå’Œpublic</span>      om<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span><span class="token class-name">PropertyAccessor</span><span class="token punctuation">.</span>ALL<span class="token punctuation">,</span> <span class="token class-name">JsonAutoDetect</span><span class="token punctuation">.</span><span class="token class-name">Visibility</span><span class="token punctuation">.</span>ANY<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// æŒ‡å®šåºåˆ—åŒ–è¾“å…¥çš„ç±»å‹ï¼Œç±»å¿…é¡»æ˜¯éfinalä¿®é¥°çš„ï¼Œfinalä¿®é¥°çš„ç±»ï¼Œæ¯”å¦‚String,Integerç­‰ä¼šè·‘å‡ºå¼‚å¸¸</span>      om<span class="token punctuation">.</span><span class="token function">enableDefaultTyping</span><span class="token punctuation">(</span><span class="token class-name">ObjectMapper</span><span class="token punctuation">.</span><span class="token class-name">DefaultTyping</span><span class="token punctuation">.</span>NON_FINAL<span class="token punctuation">)</span><span class="token punctuation">;</span>      jackson2JsonRedisSerializer<span class="token punctuation">.</span><span class="token function">setObjectMapper</span><span class="token punctuation">(</span>om<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token class-name">StringRedisSerializer</span> stringRedisSerializer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// keyé‡‡ç”¨Stringçš„åºåˆ—åŒ–æ–¹å¼</span>      template<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span>stringRedisSerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// hashçš„keyä¹Ÿé‡‡ç”¨Stringçš„åºåˆ—åŒ–æ–¹å¼</span>      template<span class="token punctuation">.</span><span class="token function">setHashKeySerializer</span><span class="token punctuation">(</span>stringRedisSerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// valueåºåˆ—åŒ–æ–¹å¼é‡‡ç”¨jackson</span>      template<span class="token punctuation">.</span><span class="token function">setValueSerializer</span><span class="token punctuation">(</span>jackson2JsonRedisSerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// hashçš„valueåºåˆ—åŒ–æ–¹å¼é‡‡ç”¨jackson</span>      template<span class="token punctuation">.</span><span class="token function">setHashValueSerializer</span><span class="token punctuation">(</span>jackson2JsonRedisSerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>      template<span class="token punctuation">.</span><span class="token function">afterPropertiesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> template<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å››ã€rediså·¥å…·ç±»"><a href="#å››ã€rediså·¥å…·ç±»" class="headerlink" title="å››ã€rediså·¥å…·ç±»"></a>å››ã€rediså·¥å…·ç±»</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">CollectionUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">RedisUtil</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> redisTemplate<span class="token punctuation">;</span>    <span class="token comment">// =============================common============================</span>    <span class="token comment">/**     * æŒ‡å®šç¼“å­˜å¤±æ•ˆæ—¶é—´     * @param key  é”®     * @param time æ—¶é—´(ç§’)     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">expire</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                redisTemplate<span class="token punctuation">.</span><span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ ¹æ®key è·å–è¿‡æœŸæ—¶é—´     * @param key é”® ä¸èƒ½ä¸ºnull     * @return æ—¶é—´(ç§’) è¿”å›0ä»£è¡¨ä¸ºæ°¸ä¹…æœ‰æ•ˆ     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getExpire</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">getExpire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨     * @param key é”®     * @return true å­˜åœ¨ falseä¸å­˜åœ¨     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">hasKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤ç¼“å­˜     * @param key å¯ä»¥ä¼ ä¸€ä¸ªå€¼ æˆ–å¤šä¸ª     */</span>    <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"unchecked"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                redisTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                redisTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">CollectionUtils</span><span class="token punctuation">.</span><span class="token function">arrayToList</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ============================String=============================</span>    <span class="token comment">/**     * æ™®é€šç¼“å­˜è·å–     * @param key é”®     * @return å€¼     */</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> key <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ™®é€šç¼“å­˜æ”¾å…¥     * @param key   é”®     * @param value å€¼     * @return trueæˆåŠŸ falseå¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ™®é€šç¼“å­˜æ”¾å…¥å¹¶è®¾ç½®æ—¶é—´     * @param key   é”®     * @param value å€¼     * @param time  æ—¶é—´(ç§’) timeè¦å¤§äº0 å¦‚æœtimeå°äºç­‰äº0 å°†è®¾ç½®æ— é™æœŸ     * @return trueæˆåŠŸ false å¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> time<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * é€’å¢     * @param key   é”®     * @param delta è¦å¢åŠ å‡ (å¤§äº0)     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">incr</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> delta<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>delta <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"é€’å¢å› å­å¿…é¡»å¤§äº0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> delta<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * é€’å‡     * @param key   é”®     * @param delta è¦å‡å°‘å‡ (å°äº0)     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">decr</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> delta<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>delta <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"é€’å‡å› å­å¿…é¡»å¤§äº0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token operator">-</span>delta<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ================================Map=================================</span>    <span class="token comment">/**     * HashGet     * @param key  é”® ä¸èƒ½ä¸ºnull     * @param item é¡¹ ä¸èƒ½ä¸ºnull     */</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">hget</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–hashKeyå¯¹åº”çš„æ‰€æœ‰é”®å€¼     * @param key é”®     * @return å¯¹åº”çš„å¤šä¸ªé”®å€¼     */</span>    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">hmget</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * HashSet     * @param key é”®     * @param map å¯¹åº”å¤šä¸ªé”®å€¼     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hmset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * HashSet å¹¶è®¾ç½®æ—¶é—´     * @param key  é”®     * @param map  å¯¹åº”å¤šä¸ªé”®å€¼     * @param time æ—¶é—´(ç§’)     * @return trueæˆåŠŸ falseå¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hmset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º     *     * @param key   é”®     * @param item  é¡¹     * @param value å€¼     * @return true æˆåŠŸ falseå¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º     *     * @param key   é”®     * @param item  é¡¹     * @param value å€¼     * @param time  æ—¶é—´(ç§’) æ³¨æ„:å¦‚æœå·²å­˜åœ¨çš„hashè¡¨æœ‰æ—¶é—´,è¿™é‡Œå°†ä¼šæ›¿æ¢åŸæœ‰çš„æ—¶é—´     * @return true æˆåŠŸ falseå¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤hashè¡¨ä¸­çš„å€¼     *     * @param key  é”® ä¸èƒ½ä¸ºnull     * @param item é¡¹ å¯ä»¥ä½¿å¤šä¸ª ä¸èƒ½ä¸ºnull     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hdel</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> item<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ¤æ–­hashè¡¨ä¸­æ˜¯å¦æœ‰è¯¥é¡¹çš„å€¼     *     * @param key  é”® ä¸èƒ½ä¸ºnull     * @param item é¡¹ ä¸èƒ½ä¸ºnull     * @return true å­˜åœ¨ falseä¸å­˜åœ¨     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hHasKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasKey</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * hashé€’å¢ å¦‚æœä¸å­˜åœ¨,å°±ä¼šåˆ›å»ºä¸€ä¸ª å¹¶æŠŠæ–°å¢åçš„å€¼è¿”å›     *     * @param key  é”®     * @param item é¡¹     * @param by   è¦å¢åŠ å‡ (å¤§äº0)     */</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">hincr</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token keyword">double</span> by<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">,</span> by<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * hashé€’å‡     *     * @param key  é”®     * @param item é¡¹     * @param by   è¦å‡å°‘è®°(å°äº0)     */</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">hdecr</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token keyword">double</span> by<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">,</span> <span class="token operator">-</span>by<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ============================set=============================</span>    <span class="token comment">/**     * æ ¹æ®keyè·å–Setä¸­çš„æ‰€æœ‰å€¼     * @param key é”®     */</span>    <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">sGet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">members</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ ¹æ®valueä»ä¸€ä¸ªsetä¸­æŸ¥è¯¢,æ˜¯å¦å­˜åœ¨     *     * @param key   é”®     * @param value å€¼     * @return true å­˜åœ¨ falseä¸å­˜åœ¨     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">sHasKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isMember</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†æ•°æ®æ”¾å…¥setç¼“å­˜     *     * @param key    é”®     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª     * @return æˆåŠŸä¸ªæ•°     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">sSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†setæ•°æ®æ”¾å…¥ç¼“å­˜     *     * @param key    é”®     * @param time   æ—¶é—´(ç§’)     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª     * @return æˆåŠŸä¸ªæ•°     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">sSetAndTime</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Long</span> count <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> count<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–setç¼“å­˜çš„é•¿åº¦     *     * @param key é”®     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">sGetSetSize</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç§»é™¤å€¼ä¸ºvalueçš„     *     * @param key    é”®     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª     * @return ç§»é™¤çš„ä¸ªæ•°     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">setRemove</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Long</span> count <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> count<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ===============================list=================================</span>    <span class="token comment">/**     * è·å–listç¼“å­˜çš„å†…å®¹     *     * @param key   é”®     * @param start å¼€å§‹     * @param end   ç»“æŸ 0 åˆ° -1ä»£è¡¨æ‰€æœ‰å€¼     */</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">lGet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> start<span class="token punctuation">,</span> <span class="token keyword">long</span> end<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–listç¼“å­˜çš„é•¿åº¦     *     * @param key é”®     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">lGetListSize</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * é€šè¿‡ç´¢å¼• è·å–listä¸­çš„å€¼     *     * @param key   é”®     * @param index ç´¢å¼• index>=0æ—¶ï¼Œ 0 è¡¨å¤´ï¼Œ1 ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨ï¼›index&lt;0æ—¶ï¼Œ-1ï¼Œè¡¨å°¾ï¼Œ-2å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨     */</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">lGetIndex</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†listæ”¾å…¥ç¼“å­˜     *     * @param key   é”®     * @param value å€¼     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPush</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†listæ”¾å…¥ç¼“å­˜     * @param key   é”®     * @param value å€¼     * @param time  æ—¶é—´(ç§’)     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPush</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†listæ”¾å…¥ç¼“å­˜     *     * @param key   é”®     * @param value å€¼     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPushAll</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†listæ”¾å…¥ç¼“å­˜     *     * @param key   é”®     * @param value å€¼     * @param time  æ—¶é—´(ç§’)     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> value<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPushAll</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ ¹æ®ç´¢å¼•ä¿®æ”¹listä¸­çš„æŸæ¡æ•°æ®     *     * @param key   é”®     * @param index ç´¢å¼•     * @param value å€¼     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lUpdateIndex</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> index<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> index<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç§»é™¤Nä¸ªå€¼ä¸ºvalue     *     * @param key   é”®     * @param count ç§»é™¤å¤šå°‘ä¸ª     * @param value å€¼     * @return ç§»é™¤çš„ä¸ªæ•°     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">lRemove</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> count<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Long</span> remove <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> count<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> remove<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;ä¸€ã€pom&quot;&gt;&lt;a href=&quot;#ä¸€ã€pom&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€pom&quot;&gt;&lt;/a&gt;ä¸€ã€pom&lt;/h3&gt;&lt;pre class=&quot;line-numbers language-xml&quot; data-language=&quot;xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
     &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.springframework.boot&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
     &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;spring-boot-starter-data-redis&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Redis Util</title>
    <link href="http://example.com/2021/07/22/redis-utils/"/>
    <id>http://example.com/2021/07/22/redis-utils/</id>
    <published>2021-07-22T03:43:02.077Z</published>
    <updated>2021-07-22T03:42:58.279Z</updated>
    
    <content type="html"><![CDATA[<h2 id="redis-utilå·¥å…·ç±»"><a href="#redis-utilå·¥å…·ç±»" class="headerlink" title="redis utilå·¥å…·ç±»"></a>redis utilå·¥å…·ç±»</h2><a id="more"></a><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">CollectionUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">RedisUtil</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token comment">//è‡ªå·±å®šä¹‰çš„redistemplate</span>    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> redisTemplate<span class="token punctuation">;</span>    <span class="token comment">// =============================common============================</span>    <span class="token comment">/**     * æŒ‡å®šç¼“å­˜å¤±æ•ˆæ—¶é—´     * @param key  é”®     * @param time æ—¶é—´(ç§’)     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">expire</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                redisTemplate<span class="token punctuation">.</span><span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ ¹æ®key è·å–è¿‡æœŸæ—¶é—´     * @param key é”® ä¸èƒ½ä¸ºnull     * @return æ—¶é—´(ç§’) è¿”å›0ä»£è¡¨ä¸ºæ°¸ä¹…æœ‰æ•ˆ     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getExpire</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">getExpire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨     * @param key é”®     * @return true å­˜åœ¨ falseä¸å­˜åœ¨     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">hasKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤ç¼“å­˜     * @param key å¯ä»¥ä¼ ä¸€ä¸ªå€¼ æˆ–å¤šä¸ª     */</span>    <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"unchecked"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                redisTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                redisTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">CollectionUtils</span><span class="token punctuation">.</span><span class="token function">arrayToList</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ============================String=============================</span>    <span class="token comment">/**     * æ™®é€šç¼“å­˜è·å–     * @param key é”®     * @return å€¼     */</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> key <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ™®é€šç¼“å­˜æ”¾å…¥     * @param key   é”®     * @param value å€¼     * @return trueæˆåŠŸ falseå¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ™®é€šç¼“å­˜æ”¾å…¥å¹¶è®¾ç½®æ—¶é—´     * @param key   é”®     * @param value å€¼     * @param time  æ—¶é—´(ç§’) timeè¦å¤§äº0 å¦‚æœtimeå°äºç­‰äº0 å°†è®¾ç½®æ— é™æœŸ     * @return trueæˆåŠŸ false å¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> time<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * é€’å¢     * @param key   é”®     * @param delta è¦å¢åŠ å‡ (å¤§äº0)     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">incr</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> delta<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>delta <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"é€’å¢å› å­å¿…é¡»å¤§äº0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> delta<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * é€’å‡     * @param key   é”®     * @param delta è¦å‡å°‘å‡ (å°äº0)     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">decr</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> delta<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>delta <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"é€’å‡å› å­å¿…é¡»å¤§äº0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token operator">-</span>delta<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ================================Map=================================</span>    <span class="token comment">/**     * HashGet     * @param key  é”® ä¸èƒ½ä¸ºnull     * @param item é¡¹ ä¸èƒ½ä¸ºnull     */</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">hget</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–hashKeyå¯¹åº”çš„æ‰€æœ‰é”®å€¼     * @param key é”®     * @return å¯¹åº”çš„å¤šä¸ªé”®å€¼     */</span>    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">hmget</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * HashSet     * @param key é”®     * @param map å¯¹åº”å¤šä¸ªé”®å€¼     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hmset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * HashSet å¹¶è®¾ç½®æ—¶é—´     * @param key  é”®     * @param map  å¯¹åº”å¤šä¸ªé”®å€¼     * @param time æ—¶é—´(ç§’)     * @return trueæˆåŠŸ falseå¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hmset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º     *     * @param key   é”®     * @param item  é¡¹     * @param value å€¼     * @return true æˆåŠŸ falseå¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º     *     * @param key   é”®     * @param item  é¡¹     * @param value å€¼     * @param time  æ—¶é—´(ç§’) æ³¨æ„:å¦‚æœå·²å­˜åœ¨çš„hashè¡¨æœ‰æ—¶é—´,è¿™é‡Œå°†ä¼šæ›¿æ¢åŸæœ‰çš„æ—¶é—´     * @return true æˆåŠŸ falseå¤±è´¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤hashè¡¨ä¸­çš„å€¼     *     * @param key  é”® ä¸èƒ½ä¸ºnull     * @param item é¡¹ å¯ä»¥ä½¿å¤šä¸ª ä¸èƒ½ä¸ºnull     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hdel</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> item<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ¤æ–­hashè¡¨ä¸­æ˜¯å¦æœ‰è¯¥é¡¹çš„å€¼     *     * @param key  é”® ä¸èƒ½ä¸ºnull     * @param item é¡¹ ä¸èƒ½ä¸ºnull     * @return true å­˜åœ¨ falseä¸å­˜åœ¨     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hHasKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasKey</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * hashé€’å¢ å¦‚æœä¸å­˜åœ¨,å°±ä¼šåˆ›å»ºä¸€ä¸ª å¹¶æŠŠæ–°å¢åçš„å€¼è¿”å›     *     * @param key  é”®     * @param item é¡¹     * @param by   è¦å¢åŠ å‡ (å¤§äº0)     */</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">hincr</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token keyword">double</span> by<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">,</span> by<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * hashé€’å‡     *     * @param key  é”®     * @param item é¡¹     * @param by   è¦å‡å°‘è®°(å°äº0)     */</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">hdecr</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token keyword">double</span> by<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> item<span class="token punctuation">,</span> <span class="token operator">-</span>by<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ============================set=============================</span>    <span class="token comment">/**     * æ ¹æ®keyè·å–Setä¸­çš„æ‰€æœ‰å€¼     * @param key é”®     */</span>    <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">sGet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">members</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ ¹æ®valueä»ä¸€ä¸ªsetä¸­æŸ¥è¯¢,æ˜¯å¦å­˜åœ¨     *     * @param key   é”®     * @param value å€¼     * @return true å­˜åœ¨ falseä¸å­˜åœ¨     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">sHasKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isMember</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†æ•°æ®æ”¾å…¥setç¼“å­˜     *     * @param key    é”®     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª     * @return æˆåŠŸä¸ªæ•°     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">sSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†setæ•°æ®æ”¾å…¥ç¼“å­˜     *     * @param key    é”®     * @param time   æ—¶é—´(ç§’)     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª     * @return æˆåŠŸä¸ªæ•°     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">sSetAndTime</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Long</span> count <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> count<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–setç¼“å­˜çš„é•¿åº¦     *     * @param key é”®     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">sGetSetSize</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç§»é™¤å€¼ä¸ºvalueçš„     *     * @param key    é”®     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª     * @return ç§»é™¤çš„ä¸ªæ•°     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">setRemove</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Long</span> count <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> count<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ===============================list=================================</span>    <span class="token comment">/**     * è·å–listç¼“å­˜çš„å†…å®¹     *     * @param key   é”®     * @param start å¼€å§‹     * @param end   ç»“æŸ 0 åˆ° -1ä»£è¡¨æ‰€æœ‰å€¼     */</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">lGet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> start<span class="token punctuation">,</span> <span class="token keyword">long</span> end<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–listç¼“å­˜çš„é•¿åº¦     *     * @param key é”®     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">lGetListSize</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * é€šè¿‡ç´¢å¼• è·å–listä¸­çš„å€¼     *     * @param key   é”®     * @param index ç´¢å¼• index>=0æ—¶ï¼Œ 0 è¡¨å¤´ï¼Œ1 ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨ï¼›index&lt;0æ—¶ï¼Œ-1ï¼Œè¡¨å°¾ï¼Œ-2å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨     */</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">lGetIndex</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†listæ”¾å…¥ç¼“å­˜     *     * @param key   é”®     * @param value å€¼     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPush</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†listæ”¾å…¥ç¼“å­˜     * @param key   é”®     * @param value å€¼     * @param time  æ—¶é—´(ç§’)     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPush</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†listæ”¾å…¥ç¼“å­˜     *     * @param key   é”®     * @param value å€¼     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPushAll</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†listæ”¾å…¥ç¼“å­˜     *     * @param key   é”®     * @param value å€¼     * @param time  æ—¶é—´(ç§’)     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lSet</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> value<span class="token punctuation">,</span> <span class="token keyword">long</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPushAll</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ ¹æ®ç´¢å¼•ä¿®æ”¹listä¸­çš„æŸæ¡æ•°æ®     *     * @param key   é”®     * @param index ç´¢å¼•     * @param value å€¼     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lUpdateIndex</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> index<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> index<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç§»é™¤Nä¸ªå€¼ä¸ºvalue     *     * @param key   é”®     * @param count ç§»é™¤å¤šå°‘ä¸ª     * @param value å€¼     * @return ç§»é™¤çš„ä¸ªæ•°     */</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">lRemove</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> count<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Long</span> remove <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> count<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> remove<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;redis-utilå·¥å…·ç±»&quot;&gt;&lt;a href=&quot;#redis-utilå·¥å…·ç±»&quot; class=&quot;headerlink&quot; title=&quot;redis utilå·¥å…·ç±»&quot;&gt;&lt;/a&gt;redis utilå·¥å…·ç±»&lt;/h2&gt;</summary>
    
    
    
    
    <category term="å·¥å…·ç±»" scheme="http://example.com/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
    <category term="redis" scheme="http://example.com/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>typoreå›¾åºŠ</title>
    <link href="http://example.com/2021/07/22/typora%E5%9B%BE%E5%BA%8A/"/>
    <id>http://example.com/2021/07/22/typora%E5%9B%BE%E5%BA%8A/</id>
    <published>2021-07-22T03:37:36.941Z</published>
    <updated>2021-07-22T03:37:31.100Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™ä½œèƒŒæ™¯"><a href="#å†™ä½œèƒŒæ™¯" class="headerlink" title="å†™ä½œèƒŒæ™¯"></a>å†™ä½œèƒŒæ™¯</h3><p>æˆ‘éƒ½æ˜¯ä½¿ç”¨typoraæ¥è®°ç¬”è®°ï¼Œåœ¨å†™ç¬”è®°çš„æ—¶å€™ï¼Œéš¾å…ä¼šéœ€è¦è´´ä¸€äº›å›¾ç‰‡ï¼Œè€Œè¿™äº›å›¾ç‰‡éƒ½æ˜¯ä¿å­˜åˆ°æœ¬åœ°çš„ï¼Œå¦‚æœä½ éœ€è¦æŠŠè¿™ä¸ªæ–‡ç« åˆ†äº«ç»™åˆ«äººçš„è¯ï¼Œå°±å¿…é¡»å°†å›¾ç‰‡ä¹Ÿä¼ ç»™ä»–ï¼Œå¹¶ä¸”ä»–è¿˜éœ€è¦å°†å›¾ç‰‡ä¿å­˜åˆ°å’Œä½ ä¸€æ ·çš„ä½ç½®ï¼Œéå¸¸éº»çƒ¦ã€‚åœ¨å°†æ–‡ç« éƒ¨ç½²åˆ°githubä¸Šçš„åšå®¢æ—¶ï¼Œå›¾ç‰‡çš„é—®é¢˜ä¹Ÿæ˜¯å¾ˆéº»çƒ¦ã€‚</p><a id="more"></a><p>å› æ­¤è¿™ç¯‡åšå®¢å°±æ˜¯å°†å›¾ç‰‡ä¸Šä¼ åˆ°ç½‘ä¸Šï¼Œè¿™æ ·å›¾ç‰‡å°±å˜æˆäº†ç½‘ä¸Šçš„åœ°å€ï¼Œåˆ†äº«ç»™åˆ«äººä¹ŸåŒæ ·èƒ½è®¿é—®ã€‚</p><h3 id="ç‰ˆæœ¬è¦æ±‚"><a href="#ç‰ˆæœ¬è¦æ±‚" class="headerlink" title="ç‰ˆæœ¬è¦æ±‚"></a>ç‰ˆæœ¬è¦æ±‚</h3><blockquote><p>Typoraçš„ç‰ˆæœ¬è¦æ±‚ï¼š0.9.86ä»¥ä¸Š</p></blockquote><p>ç‚¹å‡»â€å¸®åŠ©=ã€‹å…³äºâ€å¯ä»¥æŸ¥çœ‹ç°åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626004000242.png" alt="image-20210626004000242"></p><blockquote><p>è¿™ä¸ªç‰ˆæœ¬æ˜¯å†™è¿™ç¯‡åšå®¢æ—¶çš„æœ€æ–°ç‰ˆï¼Œå¦‚æœä¸æƒ³éº»çƒ¦ï¼Œç›´æ¥æ‰“å¼€è½¯ä»¶åæç¤ºæ›´æ–°æ—¶å°±é¡ºæ‰‹æ›´æ–°äº†å§</p></blockquote><h3 id="å®‰è£…Picgo"><a href="#å®‰è£…Picgo" class="headerlink" title="å®‰è£…Picgo"></a>å®‰è£…Picgo</h3><p>åœ°å€  <code>https://github.com/Molunerfinn/PicGo/releases</code></p><p>windowså®‰è£….exeæ–‡ä»¶ï¼Œmacä¸‹è½½dmgã€‚</p><h3 id="ä¿®æ”¹Typoraå›¾ç‰‡åŠŸèƒ½è®¾ç½®"><a href="#ä¿®æ”¹Typoraå›¾ç‰‡åŠŸèƒ½è®¾ç½®" class="headerlink" title="ä¿®æ”¹Typoraå›¾ç‰‡åŠŸèƒ½è®¾ç½®"></a>ä¿®æ”¹Typoraå›¾ç‰‡åŠŸèƒ½è®¾ç½®</h3><p>ç‚¹å‡»â€œæ–‡ä»¶=ã€‹åå¥½è®¾ç½®=ã€‹å›¾åƒâ€</p><p>ä¿®æ”¹æˆå¦‚å›¾æ‰€ç¤ºçš„æ ·å­ï¼Œç„¶åç‚¹å‡»<strong>ä¸‹è½½æ›´æ–°</strong></p><p><img src="https://i.loli.net/2021/06/24/zPHtVyN5jYoIm2l.png" alt="image-20210624192713102"></p><h3 id="ä½¿ç”¨SMMSä½œä¸ºå›¾åºŠ"><a href="#ä½¿ç”¨SMMSä½œä¸ºå›¾åºŠ" class="headerlink" title="ä½¿ç”¨SMMSä½œä¸ºå›¾åºŠ"></a>ä½¿ç”¨SMMSä½œä¸ºå›¾åºŠ</h3><p>å› ä¸ºéœ€è¦å°†å›¾ç‰‡ä¸Šä¼ åˆ°ç½‘ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªå¯ä»¥å­˜å‚¨å›¾ç‰‡çš„æœåŠ¡å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨smmsä½œä¸ºå›¾åºŠã€‚</p><p>æ‰“å¼€ç½‘å€ï¼Œæ³¨å†Œè´¦å·ã€‚</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">https://sm.ms/home/apitoken<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ³¨å†Œç™»å½•å®Œä»¥åï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°ä¸€ä¸ªé¡µé¢ã€‚<img src="https://i.loli.net/2021/06/24/2JglLwH3eQm5hCj.png" alt="image-20210624193204516"></p><p>ä¸ç”¨ç®¡è¿™ä¸ªé¡µé¢ï¼Œå†æ¬¡è¯·æ±‚ä¹‹å‰çš„ç½‘å€ï¼š<code>https://sm.ms/home/apitoken</code></p><p><img src="https://i.loli.net/2021/06/24/3m2lcfU9MRdeWrB.png" alt="image-20210624193624367"></p><p>å¤åˆ¶è¿™é‡Œçš„tokenï¼Œåé¢ä¼šç”¨åˆ°ã€‚</p><h3 id="é…ç½®Typora"><a href="#é…ç½®Typora" class="headerlink" title="é…ç½®Typora"></a>é…ç½®Typora</h3><p>è¿›å…¥åå¥½è®¾ç½®=ã€‹å›¾åƒï¼Œç‚¹å‡»æ‰“å¼€é…ç½®æ–‡ä»¶ã€‚</p><p><img src="https://i.loli.net/2021/06/24/afcipPZCYyzwQ9O.png" alt="image-20210624193813749"></p><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶ä¸‹é¢çš„ä»£ç </p><pre class="line-numbers language-none"><code class="language-none">&#123;  &quot;picBed&quot;: &#123;    &quot;uploader&quot;: &quot;smms&quot;, &#x2F;&#x2F; ä»£è¡¨å½“å‰çš„é»˜è®¤ä¸Šä¼ å›¾åºŠä¸º SM.MS,    &quot;smms&quot;: &#123;      &quot;token&quot;: &quot;è¿™é‡Œé¢çš„tokenæ¢æˆä½ ä¸Šä¸ªé¡µé¢çš„ç”³è¯·çš„token&quot; &#x2F;&#x2F;ä¸€å®šè¦æ¢    &#125;  &#125;,  &quot;picgoPlugins&quot;: &#123;&#125; &#x2F;&#x2F; ä¸ºæ’ä»¶é¢„ç•™&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è®°å¾—æ¢token</strong>ï¼Œä¿å­˜é…ç½®æ–‡ä»¶ï¼Œå°±å¯ä»¥äº†ã€‚</p><h3 id="ä½¿ç”¨é˜¿é‡Œäº‘ä½œä¸ºå›¾åºŠ"><a href="#ä½¿ç”¨é˜¿é‡Œäº‘ä½œä¸ºå›¾åºŠ" class="headerlink" title="ä½¿ç”¨é˜¿é‡Œäº‘ä½œä¸ºå›¾åºŠ"></a>ä½¿ç”¨é˜¿é‡Œäº‘ä½œä¸ºå›¾åºŠ</h3><p>ä¹‹å‰ä½¿ç”¨SMMSä½œä¸ºå›¾åºŠï¼Œä½†æ˜¯å¤ªä¸ç¨³å®šäº†ï¼Œä»Šå¤©ä¸€ç›´ä¸Šä¼ ä¸ä¸Šå»ï¼Œæå¾—æˆ‘å¾ˆå¿ƒçƒ¦ï¼Œå°±å†³å®šç”¨é˜¿é‡Œäº‘ä½œä¸ºå›¾åºŠäº†ï¼Œè™½ç„¶è¦é’±ï¼Œä½†æ˜¯è¿˜å¥½ä¸æ˜¯å¾ˆè´µã€‚</p><p>1.é¦–å…ˆç™»é™†é˜¿é‡Œäº‘ï¼Œç„¶åç‚¹å‡»æ§åˆ¶å°ã€‚</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626000813980.png" alt="image-20210626000813980"></p><p>2.ç„¶åé€‰æ‹©å¯¹è±¡å­˜å‚¨OSSï¼Œå¹¶å¼€é€šæœåŠ¡ã€‚</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626000813980.png" alt="image-20210626000813980"></p><p>3.ç‚¹å‡»æ¦‚å†µï¼Œåˆ›å»ºBucket</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626001410912.png" alt="image-20210626001410912"></p><p>4.å¡«å†™ç›¸å…³ä¿¡æ¯ï¼Œ<strong>æ³¨æ„è¯»å†™æƒé™ä¸€å®šè¦é€‰å…¬å…±è¯»</strong></p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626001700913.png" alt="image-20210626001700913"></p><p>5.åˆ›å»ºå®Œæˆä¹‹åï¼Œå¯ä»¥è´­ä¹°ä¸€ä¸ªèµ„æºåŒ…ã€‚</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626001915803.png" alt="image-20210626001915803"></p><p>6.è´­ä¹°40Gï¼Œä¸€å¹´å·®ä¸å¤šäº†ã€‚</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626002022599.png" alt="image-20210626002022599"></p><p>7.è·å–ä¸ªäººACCESSkey</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626002417044.png" alt="image-20210626002417044"></p><p>8.åˆ›å»ºAccessKey</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210626002446884.png" alt="image-20210626002446884"></p><p>9.æ‰“å¼€typoraçš„åå¥½è®¾ç½®ï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹æ–‡ä»¶å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#123;  &quot;picBed&quot;: &#123;    &quot;uploader&quot;: &quot;aliyun&quot;,    &quot;aliyun&quot;: &#123;  &quot;accessKeyId&quot;: &quot;LTAI5tMPmnRuSjU3wmEC13TH&quot;,   &#x2F;&#x2F;ä¸Šè¿°åˆ›å»ºçš„AccessKeyçš„id &quot;accessKeySecret&quot;: &quot;60w1Stbt3qSUw6ABilXLeCvSWuFw10&quot;,  &#x2F;&#x2F;ä¸Šè¿°åˆ›å»ºçš„å¯†ç   &quot;bucket&quot;: &quot;pety&quot;, &#x2F;&#x2F; å­˜å‚¨ç©ºé—´åï¼Œå³ä½ åˆ›å»ºçš„BUcketçš„åå­—  &quot;area&quot;: &quot;oss-cn-shenzhen&quot;, &#x2F;&#x2F; å­˜å‚¨åŒºåŸŸä»£å·  &quot;path&quot;: &quot;img&#x2F;&quot;, &#x2F;&#x2F; è‡ªå®šä¹‰å­˜å‚¨è·¯å¾„  &quot;customUrl&quot;: &quot;&quot;, &#x2F;&#x2F; è‡ªå®šä¹‰åŸŸåï¼Œæ³¨æ„è¦åŠ  http:&#x2F;&#x2F;æˆ–è€… https:&#x2F;&#x2F;  &quot;options&quot;: &quot;&quot; &#x2F;&#x2F; é’ˆå¯¹å›¾ç‰‡çš„ä¸€äº›åç¼€å¤„ç†å‚æ•° PicGo 2.2.0+ PicGo-Core 1.4.0+&#125;  &#125;,  &quot;picgoPlugins&quot;: &#123;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤§åŠŸå®Œæˆï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;å†™ä½œèƒŒæ™¯&quot;&gt;&lt;a href=&quot;#å†™ä½œèƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;å†™ä½œèƒŒæ™¯&quot;&gt;&lt;/a&gt;å†™ä½œèƒŒæ™¯&lt;/h3&gt;&lt;p&gt;æˆ‘éƒ½æ˜¯ä½¿ç”¨typoraæ¥è®°ç¬”è®°ï¼Œåœ¨å†™ç¬”è®°çš„æ—¶å€™ï¼Œéš¾å…ä¼šéœ€è¦è´´ä¸€äº›å›¾ç‰‡ï¼Œè€Œè¿™äº›å›¾ç‰‡éƒ½æ˜¯ä¿å­˜åˆ°æœ¬åœ°çš„ï¼Œå¦‚æœä½ éœ€è¦æŠŠè¿™ä¸ªæ–‡ç« åˆ†äº«ç»™åˆ«äººçš„è¯ï¼Œå°±å¿…é¡»å°†å›¾ç‰‡ä¹Ÿä¼ ç»™ä»–ï¼Œå¹¶ä¸”ä»–è¿˜éœ€è¦å°†å›¾ç‰‡ä¿å­˜åˆ°å’Œä½ ä¸€æ ·çš„ä½ç½®ï¼Œéå¸¸éº»çƒ¦ã€‚åœ¨å°†æ–‡ç« éƒ¨ç½²åˆ°githubä¸Šçš„åšå®¢æ—¶ï¼Œå›¾ç‰‡çš„é—®é¢˜ä¹Ÿæ˜¯å¾ˆéº»çƒ¦ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ‚ä¸ƒæ‚å…«" scheme="http://example.com/tags/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"/>
    
  </entry>
  
  <entry>
    <title>è·¨åŸŸ</title>
    <link href="http://example.com/2021/07/22/%E8%B7%A8%E5%9F%9F/"/>
    <id>http://example.com/2021/07/22/%E8%B7%A8%E5%9F%9F/</id>
    <published>2021-07-22T03:36:22.825Z</published>
    <updated>2021-07-22T03:36:37.440Z</updated>
    
    <content type="html"><![CDATA[<p>å’Œå‰ç«¯è¿›è¡Œå¯¹æ¥ï¼Œæˆ‘å°†äº§ç”Ÿçš„tokenå€¼ä¼ ç»™å‰ç«¯ï¼Œç„¶åå‰ç«¯å°†è¿™ä¸ªtokenå€¼è®¾ç½®åœ¨è¯·æ±‚å¤´ä¸­ä¼ ç»™æˆ‘ï¼Œå½“ä»–è¯·æ±‚çš„æ—¶å€™ï¼Œå°±æŠ¥äº†ä¸€ä¸ªè·¨åŸŸçš„é”™è¯¯ã€‚</p><a id="more"></a><p><img src="https://i.loli.net/2021/06/25/mvMYFTxkbOB82gA.png" alt="bedbcfe80d7aa55080abad3c9cd417c0"></p><p>è§£å†³è·¨åŸŸé—®é¢˜ï¼Œæˆ‘åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šåšå®¢ï¼Œéƒ½æ˜¯è¯´æ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨æ¥è¿‡æ»¤å‰ç«¯å‘èµ·çš„è¯·æ±‚ï¼Œç„¶åä¸Šæ¬¡å­¦å§è¯´å¥¹æ˜¯åœ¨æ‹¦æˆªå™¨ä¸­åšäº†è®¾ç½®ï¼Œç›®å‰è¿˜ä¸çŸ¥é“åœ¨æ‹¦æˆªå™¨ä¸­å¦‚ä½•è®¾ç½®ï¼Œæ‰€ä»¥æˆ‘å†™çš„è¿™ç¯‡æ–‡ç« æ˜¯æ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚</p><h4 id="å®ç°Filteræ¥å£ï¼Œé‡å†™doFilteræ–¹æ³•"><a href="#å®ç°Filteræ¥å£ï¼Œé‡å†™doFilteræ–¹æ³•" class="headerlink" title="å®ç°Filteræ¥å£ï¼Œé‡å†™doFilteræ–¹æ³•"></a>å®ç°Filteræ¥å£ï¼Œé‡å†™doFilteræ–¹æ³•</h4><p><strong>è¿™æ˜¯å‡ºç°äº†é—®é¢˜ï¼Œç„¶åå­¦å§è¯´æ˜¯å› ä¸ºOPTIONSæ–¹æ³•çš„é—®é¢˜ï¼Œç„¶ååšäº†ä¸€ä¸ªåˆ¤æ–­ï¼Œä½†æ˜¯å¥½åƒå‡ºé”™çš„åŸå› å¹¶ä¸æ˜¯å› ä¸ºè¿™ä¸ª</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMethod</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token comment">/** * å…è®¸è·¨åŸŸè®¿é—®è¿‡æ»¤å™¨ */</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CorsFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HttpServletResponse</span> httpResponse <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> servletResponse<span class="token punctuation">;</span>        <span class="token class-name">HttpServletRequest</span> httpRequest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Origin"</span><span class="token punctuation">,</span> httpRequest<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">"Origin"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Methods"</span><span class="token punctuation">,</span> httpRequest<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Max-Age"</span><span class="token punctuation">,</span> <span class="token string">"3600"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Headers"</span><span class="token punctuation">,</span> httpRequest<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Request-Headers"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Credentials"</span><span class="token punctuation">,</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>OPTIONS<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span> servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿™æ˜¯æœ€åˆçš„ç‰ˆæœ¬</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMethod</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token comment">/** * å…è®¸è·¨åŸŸè®¿é—®è¿‡æ»¤å™¨ */</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CorsFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HttpServletResponse</span> httpResponse <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> servletResponse<span class="token punctuation">;</span>        <span class="token class-name">HttpServletRequest</span> httpRequest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Origin"</span><span class="token punctuation">,</span> httpRequest<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">"Origin"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Methods"</span><span class="token punctuation">,</span> httpRequest<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Max-Age"</span><span class="token punctuation">,</span> <span class="token string">"3600"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Headers"</span><span class="token punctuation">,</span> httpRequest<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Request-Headers"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        httpResponse<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Credentials"</span><span class="token punctuation">,</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span> servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ·»åŠ å¯¹åº”çš„é…ç½®ç±»"><a href="#æ·»åŠ å¯¹åº”çš„é…ç½®ç±»" class="headerlink" title="æ·»åŠ å¯¹åº”çš„é…ç½®ç±»"></a>æ·»åŠ å¯¹åº”çš„é…ç½®ç±»</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hutbbs<span class="token punctuation">.</span>interceptor<span class="token punctuation">.</span></span><span class="token class-name">CorsFilter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token class-name">CorsFilter</span> corsFilter<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">FilterRegistrationBean</span> <span class="token class-name">CorsFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">FilterRegistrationBean</span> registrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ³¨å…¥è¿‡æ»¤å™¨</span>        registrationBean<span class="token punctuation">.</span><span class="token function">setFilter</span><span class="token punctuation">(</span>corsFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¿‡æ»¤å™¨åç§°</span>        registrationBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"CorsFilter"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ‹¦æˆªè§„åˆ™</span>        registrationBean<span class="token punctuation">.</span><span class="token function">addUrlPatterns</span><span class="token punctuation">(</span><span class="token string">"/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¿‡æ»¤å™¨é¡ºåº</span>        registrationBean<span class="token punctuation">.</span><span class="token function">setOrder</span><span class="token punctuation">(</span><span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">.</span>HIGHEST_PRECEDENCE<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> registrationBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;p&gt;å’Œå‰ç«¯è¿›è¡Œå¯¹æ¥ï¼Œæˆ‘å°†äº§ç”Ÿçš„tokenå€¼ä¼ ç»™å‰ç«¯ï¼Œç„¶åå‰ç«¯å°†è¿™ä¸ªtokenå€¼è®¾ç½®åœ¨è¯·æ±‚å¤´ä¸­ä¼ ç»™æˆ‘ï¼Œå½“ä»–è¯·æ±‚çš„æ—¶å€™ï¼Œå°±æŠ¥äº†ä¸€ä¸ªè·¨åŸŸçš„é”™è¯¯ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="é—®é¢˜" scheme="http://example.com/tags/%E9%97%AE%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®ç»“æ„</title>
    <link href="http://example.com/2021/07/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    <id>http://example.com/2021/07/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</id>
    <published>2021-07-22T03:33:26.354Z</published>
    <updated>2021-07-22T03:34:10.819Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°æ®ç»“æ„æ¦‚è¿°"><a href="#æ•°æ®ç»“æ„æ¦‚è¿°" class="headerlink" title="æ•°æ®ç»“æ„æ¦‚è¿°"></a>æ•°æ®ç»“æ„æ¦‚è¿°</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><h4 id="åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­"><a href="#åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­" class="headerlink" title="åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­"></a>åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­</h4><h5 id="æ•°æ®ç»“æ„çš„ä¸¤ä¸ªå±‚æ¬¡"><a href="#æ•°æ®ç»“æ„çš„ä¸¤ä¸ªå±‚æ¬¡" class="headerlink" title="æ•°æ®ç»“æ„çš„ä¸¤ä¸ªå±‚æ¬¡"></a>æ•°æ®ç»“æ„çš„ä¸¤ä¸ªå±‚æ¬¡</h5><p><strong>1.é€»è¾‘ç»“æ„</strong></p><p>é€»è¾‘ç»“æ„æ˜¯æè¿°å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œä¸æ•°æ®çš„å­˜å‚¨æ— å…³ï¼Œç‹¬ç«‹äºè®¡ç®—æœºï¼Œæ˜¯ä»å…·ä½“é—®é¢˜æŠ½è±¡å‡ºæ¥çš„æ•°å­¦æ¨¡å‹ã€‚</p><a id="more"></a><p><strong>2.ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰</strong></p><p>æ•°æ®å…ƒç´ åŠå…¶å…³ç³»åœ¨è®¡ç®—æœºå†…å­˜å™¨ä¸­çš„ç»“æ„ï¼ˆå­˜å‚¨æ–¹å¼ï¼‰ï¼Œæ˜¯æ•°æ®ç»“æ„åœ¨è®¡ç®—æœºä¸­çš„è¡¨ç¤º</p><p>==å­˜å‚¨ç»“æ„æ˜¯é€»è¾‘å…³ç³»çš„å½±å“ä¸å…ƒç´ æœ¬èº«çš„æ˜ åƒï¼Œé€»è¾‘ç»“æ„æ˜¯æ•°æ®ç»“æ„çš„æŠ½è±¡ï¼Œå­˜å‚¨ç»“æ„æ˜¯æ•°æ®ç»“æ„çš„å®ç°ã€‚==</p><h5 id="é€»è¾‘ç»“æ„çš„ç§ç±»"><a href="#é€»è¾‘ç»“æ„çš„ç§ç±»" class="headerlink" title="é€»è¾‘ç»“æ„çš„ç§ç±»"></a>é€»è¾‘ç»“æ„çš„ç§ç±»</h5><ul><li>çº¿æ€§ç»“æ„ï¼šæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå¼€å§‹å’Œä¸€ä¸ªç»ˆç«¯ç»“ç‚¹ï¼Œå¹¶ä¸”æ‰€æœ‰ç»“ç‚¹éƒ½æœ€å¤šåªæœ‰ä¸€ä¸ªç›´æ¥å‰è¶‹å’Œä¸€ä¸ªç›´æ¥åç»§ã€‚<strong>å¦‚ï¼šçº¿æ€§è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€ä¸²</strong></li><li>éçº¿æ€§ç»“æ„ï¼šä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½æœ‰å¤šä¸ªç›´æ¥å‰è¶‹å’Œç›´æ¥åç»§ï¼Œ<strong>å¦‚ï¼šæ ‘ï¼Œå›¾</strong></li></ul><h5 id="å­˜å‚¨ç»“æ„çš„ç§ç±»"><a href="#å­˜å‚¨ç»“æ„çš„ç§ç±»" class="headerlink" title="å­˜å‚¨ç»“æ„çš„ç§ç±»"></a>å­˜å‚¨ç»“æ„çš„ç§ç±»</h5><ul><li>é¡ºåºå­˜å‚¨ç»“æ„ï¼šç”¨ä¸€ç»„è¿ç»­çš„å­˜å‚¨å•å…ƒä¾æ¬¡å­˜å‚¨æ•°æ®å…ƒç´ ï¼Œæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ç”±å…³ç³»çš„å­˜å‚¨ä½ç½®æ¥è¡¨ç¤º</li><li>é“¾å¼å­˜å‚¨ç»“æ„ï¼šç”¨ä¸€ç»„ä»»æ„çš„å­˜å‚¨å•å…ƒå­˜å‚¨æ•°æ®å…ƒç´ ï¼Œæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ç”¨æŒ‡é’ˆæ¥è¡¨ç¤ºã€‚</li><li>ç´¢å¼•å­˜å‚¨ç»“æ„</li><li>æ•£åˆ—å­˜å‚¨ç»“æ„</li></ul><h4 id="ç®—æ³•å’Œç®—æ³•åˆ†æ"><a href="#ç®—æ³•å’Œç®—æ³•åˆ†æ" class="headerlink" title="ç®—æ³•å’Œç®—æ³•åˆ†æ"></a>ç®—æ³•å’Œç®—æ³•åˆ†æ</h4><h5 id="ç®—æ³•çš„å®šä¹‰"><a href="#ç®—æ³•çš„å®šä¹‰" class="headerlink" title="ç®—æ³•çš„å®šä¹‰"></a>ç®—æ³•çš„å®šä¹‰</h5><p>å¯¹ç‰¹å®šé—®é¢˜æ±‚è§£æ–¹æ³•å’Œæ­¥éª¤çš„ä¸€ç§æè¿°ï¼Œå®ƒæ˜¯æŒ‡ä»¤çš„æœ‰é™åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªæŒ‡ä»¤è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œã€‚</p><h5 id="ç®—æ³•çš„ç‰¹æ€§"><a href="#ç®—æ³•çš„ç‰¹æ€§" class="headerlink" title="ç®—æ³•çš„ç‰¹æ€§"></a>ç®—æ³•çš„ç‰¹æ€§</h5><p>ä¸€ä¸ªç®—æ³•å¿…é¡»å…·å¤‡ä»¥ä¸‹äº”ä¸ªé‡è¦ç‰¹æ€§ï¼š</p><ul><li>æœ‰ç©·æ€§ï¼šä¸€ä¸ªç®—æ³•å¿…é¡»æ€»æ˜¯å’‹æ‰§è¡Œ<strong>æœ‰ç©·æ­¥</strong>ä¹‹åç»“æŸï¼Œä¸”æ¯ä¸€æ­¥éƒ½åœ¨æœ‰ç©·æ—¶é—´å†…å®Œæˆã€‚</li><li>ç¡®å®šæ€§ï¼šç®—æ³•ä¸­æ¯ä¸€æ¡æŒ‡ä»¤å¿…é¡»æœ‰ç¡®åˆ‡çš„å«ä¹‰ï¼Œæ²¡æœ‰äºŒä¹‰æ€§ï¼Œåœ¨ä»»ä½•æ¡ä»¶ä¸‹ï¼Œåªæœ‰å”¯ä¸€çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ï¼Œå³å¯¹äºç›¸åŒçš„è¾“å…¥åªèƒ½å¾—åˆ°ç›¸åŒçš„è¾“å‡ºã€‚</li><li>å¯è¡Œæ€§ï¼šç®—æ³•æ˜¯å¯æ‰§è¡Œçš„ï¼Œç®—æ³•æè¿°çš„æ“ä½œå¯ä»¥é€šè¿‡å·²ç»å®ç°çš„åŸºæœ¬æ“ä½œæ‰§è¡Œæœ‰é™æ¬¡å®ç°ã€‚</li><li>è¾“å…¥ï¼šä¸€ä¸ªç®—æ³•æœ‰é›¶ä¸ªæˆ–å¤šä¸ªè¾“å…¥ã€‚</li><li>è¾“å‡ºï¼šä¸€ä¸ªç®—æ³•æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºã€‚</li></ul><h5 id="ç®—æ³•è®¾è®¡çš„è¦æ±‚"><a href="#ç®—æ³•è®¾è®¡çš„è¦æ±‚" class="headerlink" title="ç®—æ³•è®¾è®¡çš„è¦æ±‚"></a>ç®—æ³•è®¾è®¡çš„è¦æ±‚</h5><ul><li>æ­£ç¡®æ€§</li><li>å¯è¯»æ€§</li><li>å¥å£®æ€§</li><li>é«˜æ•ˆæ€§</li></ul><h5 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h5><p>ä¸€ä¸ªç®—æ³•çš„è¿è¡Œæ—¶é—´æ˜¯æŒ‡ä¸€ä¸ªç®—æ³•åœ¨è®¡ç®—æœºä¸Šè¿è¡Œæ‰€è€—è´¹çš„æ—¶é—´ï¼Œ==å¤§è‡´å¯ä»¥ç­‰äºè®¡ç®—æœºæ‰§è¡Œä¸€ç§ç®€å•çš„æ“ä½œï¼ˆå¦‚èµ‹å€¼ã€æ¯”è¾ƒã€ç§»åŠ¨ç­‰ï¼‰æ‰€éœ€çš„æ—¶é—´ä¸ç®—æ³•ä¸­è¿›è¡Œçš„ç®€å•æ“ä½œæ¬¡æ•°ä¹˜ç§¯==ã€‚</p><p><strong>ç®—æ³•è¿è¡Œæ—¶é—´=ä¸€ä¸ªç®€å•æ“ä½œæ‰€éœ€çš„æ—¶é—´ X ç®€å•æ“ä½œæ¬¡æ•°</strong> </p><p>å³ <strong>ç®—æ³•è¿è¡Œæ—¶é—´=âˆ‘æ¯æ¡è¯­å¥é¢‘åº¦Xè¯¥è¯­å¥æ‰§è¡Œä¸€æ¬¡æ‰€éœ€çš„æ—¶é—´</strong></p><p>æ¯æ¡è¯­å¥æ‰§è¡Œä¸€æ¬¡æ‰€éœ€è¦çš„æ—¶é—´ï¼Œä¸€èˆ¬æ˜¯ç”±æœºå™¨è€Œå¼‚çš„ï¼Œä¸ç®—æ³•æ— å…³ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‡è®¾æ‰§è¡Œæ¯æ¡è¯­å¥æ‰€éœ€è¦çš„æ—¶é—´å‡ä¸ºå•ä½æ—¶é—´ï¼Œæ­¤æ—¶å¯¹ç®—æ³•çš„è¿è¡Œæ—¶é—´çš„è®¨è®ºå°±å¯ä»¥è½¬åŒ–ä¸ºè®¨è®ºè¯¥ç®—æ³•ä¸­æ‰€æœ‰è¯­å¥çš„æ‰§è¡Œæ¬¡æ•°ï¼Œå³é¢‘åº¦ä¹‹å’Œã€‚</p><p>ä¸ºäº†ä¾¿äºæ¯”è¾ƒä¸åŒç®—æ³•çš„æ—¶é—´æ•ˆç‡ï¼Œæˆ‘ä»¬ä»…æ¯”è¾ƒå®ƒä»¬çš„æ•°é‡çº§ã€‚</p><p>T(n)=O(f(n)),ç§°O(f(n))ä¸ºç®—æ³•çš„æ¸è¿›æ—¶é—´å¤æ‚åº¦(Oæ˜¯æ•°é‡çº§çš„ç¬¦å·)ï¼Œç®€ç§°æ—¶é—´å¤æ‚åº¦ã€‚ </p><p>== ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸å¿…è®¡ç®—æ‰€æœ‰æ“ä½œçš„æ‰§è¡Œæ¬¡æ•°ï¼Œè€Œåªè€ƒè™‘ç®—æ³•ä¸­åŸºæœ¬æ“ä½œæ‰§è¡Œçš„æ¬¡æ•°==ï¼Œå®ƒæ˜¯é—®é¢˜è§„æ¨¡nçš„æŸä¸ªå‡½æ•°ï¼Œç”¨T(n)æ¥è¡¨ç¤ºã€‚  </p><h5 id="åˆ†ææ—¶é—´å¤æ‚åº¦çš„åŸºæœ¬æ–¹æ³•"><a href="#åˆ†ææ—¶é—´å¤æ‚åº¦çš„åŸºæœ¬æ–¹æ³•" class="headerlink" title="åˆ†ææ—¶é—´å¤æ‚åº¦çš„åŸºæœ¬æ–¹æ³•"></a>åˆ†ææ—¶é—´å¤æ‚åº¦çš„åŸºæœ¬æ–¹æ³•</h5><ol><li>æ‰¾å‡ºè¯­å¥é¢‘åº¦æœ€å¤§çš„é‚£æ¡è¯­å¥ä¸ºåŸºæœ¬è¯­å¥</li><li>è®¡ç®—åŸºæœ¬è¯­å¥çš„é¢‘åº¦å¾—åˆ°é—®é¢˜è§„æ¨¡nçš„æŸä¸ªå‡½æ•°f(n)</li><li>å–å…¶æ•°é‡çº§ç”¨ç¬¦å·â€œoâ€è¡¨ç¤ºã€‚ </li></ol><pre class="line-numbers language-C" data-language="C"><code class="language-C">x&#x3D;0;                                                       1y&#x3D;0;                                                       2for(int k&#x3D;0;k&lt;n;k++)                                       3    x++;                                                   4    for(int i&#x3D;0;i&lt;n;i++)                                       5    for(int j&#x3D;0;j&lt;n;j++)                                   6        y++;                                               7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>f(n)=n*(n+1) *<em>:6çš„æ‰§è¡Œé¢‘åº¦ä¸ºn+1   7çš„æ‰§è¡Œé¢‘åº¦æ˜¯n</em>(n+1)        ** T(n)=O(nÂ²)</strong></p><p>==æ—¶é—´å¤æ‚åº¦æ˜¯ç”±åµŒå¥—æœ€æ·±å±‚è¯­å¥çš„é¢‘åº¦å†³å®šçš„==</p><h5 id="æ—¶é—´å¤æ‚åº¦åˆ†ç±»"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†ç±»" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†ç±»"></a>æ—¶é—´å¤æ‚åº¦åˆ†ç±»</h5><ul><li>æœ€åæ—¶é—´å¤æ‚åº¦ï¼šæŒ‡åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚</li><li>å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šæŒ‡åœ¨æ‰€æœ‰å¯èƒ½è¾“å…¥å®ä¾‹åœ¨ç­‰æ¦‚ç‡å‡ºç°çš„æƒ…å†µä¸‹ï¼Œç®—æ³•çš„æœŸæœ›è¿è¡Œæ—¶é—´ã€‚</li><li>æœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼šæŒ‡åœ¨æœ€å¥½æƒ…å†µä¸‹ï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚</li></ul><p>ä¸€èˆ¬æ€»æ˜¯è€ƒè™‘åœ¨æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ï¼Œä»¥ä¿è¯ç®—æ³•çš„è¿è¡Œæ—¶é—´ä¸ä¼šæ¯”ä»–é•¿ã€‚</p><h5 id="ç®—æ³•æ—¶é—´æ•ˆç‡çš„æ¯”è¾ƒ"><a href="#ç®—æ³•æ—¶é—´æ•ˆç‡çš„æ¯”è¾ƒ" class="headerlink" title="ç®—æ³•æ—¶é—´æ•ˆç‡çš„æ¯”è¾ƒ"></a>ç®—æ³•æ—¶é—´æ•ˆç‡çš„æ¯”è¾ƒ</h5><p>æ—¶é—´å¤æ‚åº¦æŒ‰æ•°é‡çº§é€’å¢é¡ºåºä¸ºï¼š</p><p><img src="https://i.loli.net/2021/06/25/paxo5K83Pq14ykh.png" alt="image-20210622205237015"></p><h5 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h5><p>ç©ºé—´å¤æ‚åº¦ï¼šç®—æ³•æ‰€éœ€å­˜å‚¨ç©ºé—´çš„åº¦é‡ï¼Œè®°ä½œï¼š S(n)=O(f(n))ï¼Œnä¸ºé—®é¢˜çš„è§„æ¨¡</p><p>ç®—æ³•è¦å æ®çš„ç©ºé—´</p><ul><li>ç®—æ³•æœ¬èº«è¦å æ®çš„ç©ºé—´ï¼Œè¾“å…¥ã€è¾“å‡ºã€æŒ‡ä»¤ã€å¸¸æ•°ã€å˜é‡ç­‰</li><li>ç®—æ³•è¦ä½¿ç”¨çš„è¾…åŠ©ç©ºé—´ã€‚</li></ul><h2 id="çº¿æ€§è¡¨"><a href="#çº¿æ€§è¡¨" class="headerlink" title="çº¿æ€§è¡¨"></a>çº¿æ€§è¡¨</h2><h3 id="çº¿æ€§è¡¨çš„å®šä¹‰å’Œç‰¹ç‚¹"><a href="#çº¿æ€§è¡¨çš„å®šä¹‰å’Œç‰¹ç‚¹" class="headerlink" title="çº¿æ€§è¡¨çš„å®šä¹‰å’Œç‰¹ç‚¹"></a>çº¿æ€§è¡¨çš„å®šä¹‰å’Œç‰¹ç‚¹</h3><p>çº¿æ€§è¡¨æ˜¯å…·æœ‰ç›¸åŒç‰¹æ€§çš„å…ƒç´ çš„ä¸€ä¸ªæœ‰é™åºåˆ—ï¼Œ(a1,a2,â€¦ai-1,ai,ai+1,â€¦,an)     ai-1ç§°ä¸ºaiçš„ç›´æ¥å‰è¶‹ï¼Œai+1ç§°ä¸ºaiçš„ç›´æ¥åç»§ã€‚å½“n=0æ—¶ç§°ä¸ºç©ºè¡¨ã€‚</p><p>==åŒä¸€çº¿æ€§è¡¨ä¸­çš„å…ƒç´ å¿…å®šå…·æœ‰ç›¸åŒç‰¹æ€§ï¼Œæ•°æ®å…ƒç´ é—´çš„å…³ç³»æ˜¯çº¿æ€§å…³ç³»ã€‚==</p><h3 id="çº¿æ€§è¡¨çš„ç±»å‹å®šä¹‰"><a href="#çº¿æ€§è¡¨çš„ç±»å‹å®šä¹‰" class="headerlink" title="çº¿æ€§è¡¨çš„ç±»å‹å®šä¹‰"></a>çº¿æ€§è¡¨çš„ç±»å‹å®šä¹‰</h3><ol><li><strong>InitList(&amp;L)</strong><ul><li>æ“ä½œç»“æœï¼šæ„é€ ä¸€ä¸ªç©ºçš„çº¿æ€§è¡¨Lã€‚</li></ul></li><li><strong>DestroyList(&amp;L)</strong><ul><li>åˆå§‹æ¡ä»¶ï¼šçº¿æ€§è¡¨Lå·²ç»å­˜åœ¨ã€‚</li><li>æ“ä½œç»“æœï¼šé”€æ¯çº¿æ€§è¡¨Lã€‚</li></ul></li><li><strong>ClearList(&amp;L)</strong><ul><li>åˆå§‹æ¡ä»¶ï¼šçº¿æ€§è¡¨Lå·²ç»å­˜åœ¨ã€‚</li><li>æ“ä½œç»“æœï¼šå°†çº¿æ€§è¡¨Lé‡ç½®ä¸ºç©ºè¡¨ã€‚</li></ul></li><li><strong>ListEmpty(L)</strong><ul><li>åˆå§‹æ¡ä»¶ï¼šçº¿æ€§è¡¨Lå·²ç»å­˜åœ¨ã€‚</li><li>æ“ä½œç»“æœï¼šè‹¥çº¿æ€§è¡¨Lä¸ºç©ºï¼Œåˆ™è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseã€‚</li></ul></li><li><strong>ListLength(L)</strong><ul><li>åˆå§‹æ¡ä»¶ï¼šçº¿æ€§è¡¨Lå·²ç»å­˜åœ¨ã€‚</li><li>æ“ä½œç»“æœï¼šè¿”å›çº¿æ€§è¡¨Lä¸­çš„æ•°æ®å…ƒç´ ä¸ªæ•°ã€‚</li></ul></li><li><strong>GetElem(L,i,&amp;e)</strong><ul><li>åˆå§‹æ¡ä»¶ï¼šçº¿æ€§è¡¨Lå·²ç»å­˜åœ¨,1&lt;=i&lt;=ListLength(L)ã€‚</li><li>æ“ä½œç»“æœï¼Œç”¨Eè¿”å›çº¿æ€§è¡¨Lä¸­ç¬¬iä¸ªæ•°æ®å…ƒç´ çš„å€¼ã€‚</li></ul></li><li><strong>LocateElem(L,e,compare())</strong><ul><li>åˆå§‹æ¡ä»¶ï¼šçº¿æ€§è¡¨Lå·²ç»å­˜åœ¨,compare()æ˜¯æ•°æ®å…ƒç´ åˆ¤å®šå‡½æ•°ã€‚</li><li>æ“ä½œç»“æœï¼šè¿”å›Lä¸­ç¬¬1ä¸ªä¸eæ»¡è¶³compare()çš„æ•°æ®å…ƒç´ çš„ä½åºï¼Œè‹¥è¿™æ ·çš„æ•°æ®å…ƒç´ ä¸å­˜åœ¨åˆ™è¿”å›å€¼ä¸º0ã€‚</li></ul></li></ol><p>â€¦â€¦â€¦</p><h3 id="é¡ºåºè¡¨çš„è¡¨ç¤ºå’Œå®ç°"><a href="#é¡ºåºè¡¨çš„è¡¨ç¤ºå’Œå®ç°" class="headerlink" title="é¡ºåºè¡¨çš„è¡¨ç¤ºå’Œå®ç°"></a>é¡ºåºè¡¨çš„è¡¨ç¤ºå’Œå®ç°</h3><p>çº¿æ€§è¡¨é¡ºåºå­˜å‚¨ç»“æ„å æœ‰ä¸€ç‰‡è¿ç»­çš„å­˜å‚¨ç©ºé—´ï¼ŒçŸ¥é“æŸä¸ªå…ƒç´ çš„å­˜å‚¨ä½ç½®å°±å¯ä»¥è®¡ç®—å…¶ä»–å…ƒç´ çš„å­˜å‚¨ä½ç½®ã€‚</p><p>é¡ºåºè¡¨çš„ç‰¹ç‚¹ï¼š==ä»¥ç‰©ç†ä½ç½®ç›¸é‚»è¡¨ç¤ºé€»è¾‘å…³ç³»ï¼Œä»»æ„å…ƒç´ å‡å¯éšæœºå­˜å–ï¼ˆä¼˜ç‚¹ï¼‰==ï¼Œè¿™ç§å­˜å–å…ƒç´ çš„æ–¹æ³•å«åš<strong>éšæœºå­˜å–æ³•</strong></p><p><img src="https://i.loli.net/2021/06/25/3j6CeI5b7ZdtYnp.png" alt="image-20210623102638413"></p><p> å‡è®¾çº¿æ€§è¡¨çš„æ¯ä¸ªå…ƒç´ éœ€å mä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™ç¬¬i+1ä¸ªæ•°æ®å…ƒç´ çš„å­˜å‚¨ä½ç½®å’Œç¬¬iä¸ªæ•°æ®å…ƒç´ çš„å­˜å‚¨ä½ç½®ä¹‹é—´æ»¡è¶³å…³ç³»ï¼š</p><p>â€‹                                                            <strong>LOC(ai+1)=LOC(ai)+m</strong></p><p><img src="https://i.loli.net/2021/06/25/i7oXZafVPcKBUGH.png" alt="image-20210623103523630"></p><p>ä½¿ç”¨ä¸€ç»´æ•°ç»„è¡¨ç¤ºé¡ºåºè¡¨ï¼Œç”±äºæ•°ç»„é•¿åº¦ä¸å¯ä»¥åŠ¨æ€å®šä¹‰ï¼Œå› æ­¤æˆ‘ä»¬ç”¨ä¸€ä¸ªå˜é‡è¡¨ç¤ºé¡ºåºè¡¨çš„é•¿åº¦å±æ€§ã€‚</p><h5 id="é¡ºåºè¡¨çš„å®šä¹‰"><a href="#é¡ºåºè¡¨çš„å®šä¹‰" class="headerlink" title="é¡ºåºè¡¨çš„å®šä¹‰"></a>é¡ºåºè¡¨çš„å®šä¹‰</h5><p>é¡ºåºè¡¨çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">define</span> <span class="token expression">LIST_INT_SIZE <span class="token number">100</span>   </span><span class="token comment">//çº¿æ€§è¡¨å­˜å‚¨ç©ºé—´çš„åˆå§‹åˆ†é…é‡</span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">&#123;</span>    ElemType elem<span class="token punctuation">[</span>LIST_INIT_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">//å®šä¹‰ä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„æ•°ç»„ï¼ŒElemTypeæ˜¯æ•°æ®ç±»å‹ï¼Œå¦‚INT,FLOAT.</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span>    <span class="token comment">//å½“å‰é•¿åº¦</span><span class="token punctuation">&#125;</span>SqList<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="é¡ºåºè¡¨ç¤ºæ„å›¾"><a href="#é¡ºåºè¡¨ç¤ºæ„å›¾" class="headerlink" title="é¡ºåºè¡¨ç¤ºæ„å›¾"></a>é¡ºåºè¡¨ç¤ºæ„å›¾</h5><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210625201628543.png"></p><h4 id="é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œ"><a href="#é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œ"></a>é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œ</h4><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210627131242504.png" alt="image-20210627131242504"></p><p><strong>å…¶ä¸­æ©™è‰²éƒ¨åˆ†çš„ä¸ºé‡ç‚¹æ“ä½œ</strong></p><h5 id="é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œå®ç°"><a href="#é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œå®ç°" class="headerlink" title="é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œå®ç°"></a>é¡ºåºè¡¨çš„åŸºæœ¬æ“ä½œå®ç°</h5><p>æ“ä½œç®—æ³•ä¸­ç”¨åˆ°çš„é¢„å®šä¹‰å¸¸é‡å’Œç±»å‹</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210625202130788.png" alt=" "></p><h6 id="åˆå§‹åŒ–çº¿æ€§è¡¨"><a href="#åˆå§‹åŒ–çº¿æ€§è¡¨" class="headerlink" title="åˆå§‹åŒ–çº¿æ€§è¡¨"></a>åˆå§‹åŒ–çº¿æ€§è¡¨</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c">status <span class="token function">InitList_Sq</span><span class="token punctuation">(</span>SqList <span class="token operator">&amp;</span>L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ„é€ ä¸€ä¸ªç©ºçš„é¡ºåºè¡¨L</span>    L<span class="token punctuation">.</span>elem <span class="token operator">=</span> new ElemType<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>             <span class="token comment">//ä¸ºé¡ºåºè¡¨åˆ†é…ç©ºé—´</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>L<span class="token punctuation">.</span>elem<span class="token punctuation">)</span> <span class="token function">exit</span><span class="token punctuation">(</span>OVERFLOW<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å­˜å‚¨åˆ†é…å¤±è´¥</span>    L<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                               <span class="token comment">//ç©ºè¡¨é•¿åº¦ä¸º0</span>    renturn OK<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="é”€æ¯çº¿æ€§è¡¨"><a href="#é”€æ¯çº¿æ€§è¡¨" class="headerlink" title="é”€æ¯çº¿æ€§è¡¨"></a>é”€æ¯çº¿æ€§è¡¨</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">DestroyList</span><span class="token punctuation">(</span>SqList <span class="token operator">&amp;</span>L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>L<span class="token punctuation">.</span>elem<span class="token punctuation">)</span> delete L<span class="token punctuation">.</span>elem<span class="token punctuation">;</span>     <span class="token comment">//é‡Šæ”¾å†…å­˜ç©ºé—´</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h6 id="æ¸…ç©ºçº¿æ€§è¡¨"><a href="#æ¸…ç©ºçº¿æ€§è¡¨" class="headerlink" title="æ¸…ç©ºçº¿æ€§è¡¨"></a>æ¸…ç©ºçº¿æ€§è¡¨</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">ClearList</span><span class="token punctuation">(</span>SqList <span class="token operator">&amp;</span>L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    L<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>          <span class="token comment">//å°†çº¿æ€§è¡¨çš„é•¿åº¦è®¾ç½®ä¸º0</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h6 id="æ±‚çº¿æ€§è¡¨çš„é•¿åº¦"><a href="#æ±‚çº¿æ€§è¡¨çš„é•¿åº¦" class="headerlink" title="æ±‚çº¿æ€§è¡¨çš„é•¿åº¦"></a>æ±‚çº¿æ€§è¡¨çš„é•¿åº¦</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">GetLength</span><span class="token punctuation">(</span>SqList L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>L<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h6 id="åˆ¤æ–­çº¿æ€§è¡¨æ˜¯å¦ä¸ºç©º"><a href="#åˆ¤æ–­çº¿æ€§è¡¨æ˜¯å¦ä¸ºç©º" class="headerlink" title="åˆ¤æ–­çº¿æ€§è¡¨æ˜¯å¦ä¸ºç©º"></a>åˆ¤æ–­çº¿æ€§è¡¨æ˜¯å¦ä¸ºç©º</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>SqList L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>L<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h6 id="é¡ºåºè¡¨å–å€¼ï¼ˆæ ¹æ®ä½ç½®iè·å–ç›¸åº”ä½ç½®æ•°æ®å…ƒç´ çš„å†…å®¹ï¼‰"><a href="#é¡ºåºè¡¨å–å€¼ï¼ˆæ ¹æ®ä½ç½®iè·å–ç›¸åº”ä½ç½®æ•°æ®å…ƒç´ çš„å†…å®¹ï¼‰" class="headerlink" title="é¡ºåºè¡¨å–å€¼ï¼ˆæ ¹æ®ä½ç½®iè·å–ç›¸åº”ä½ç½®æ•°æ®å…ƒç´ çš„å†…å®¹ï¼‰"></a>é¡ºåºè¡¨å–å€¼ï¼ˆæ ¹æ®ä½ç½®iè·å–ç›¸åº”ä½ç½®æ•°æ®å…ƒç´ çš„å†…å®¹ï¼‰</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">GetElem</span><span class="token punctuation">(</span>SqList L<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">,</span>ElemType <span class="token operator">&amp;</span>e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">||</span>i<span class="token operator">></span>L<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>  <span class="token comment">//åˆ¤æ–­içš„å€¼æ˜¯å¦åˆç†</span>    e<span class="token operator">=</span>L<span class="token punctuation">.</span>elem<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//å°†ç¬¬iä¸ªä½ç½®çš„å…ƒç´ èµ‹å€¼ç»™e</span>    <span class="token keyword">return</span> ok<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="é¡ºåºè¡¨çš„æŸ¥æ‰¾ï¼ˆåœ¨çº¿æ€§è¡¨ä¸­æŸ¥æ‰¾ä¸æŒ‡å®šå€¼eç›¸åŒçš„æ•°æ®å…ƒç´ çš„ä½ç½®ï¼‰"><a href="#é¡ºåºè¡¨çš„æŸ¥æ‰¾ï¼ˆåœ¨çº¿æ€§è¡¨ä¸­æŸ¥æ‰¾ä¸æŒ‡å®šå€¼eç›¸åŒçš„æ•°æ®å…ƒç´ çš„ä½ç½®ï¼‰" class="headerlink" title="é¡ºåºè¡¨çš„æŸ¥æ‰¾ï¼ˆåœ¨çº¿æ€§è¡¨ä¸­æŸ¥æ‰¾ä¸æŒ‡å®šå€¼eç›¸åŒçš„æ•°æ®å…ƒç´ çš„ä½ç½®ï¼‰"></a>é¡ºåºè¡¨çš„æŸ¥æ‰¾ï¼ˆåœ¨çº¿æ€§è¡¨ä¸­æŸ¥æ‰¾ä¸æŒ‡å®šå€¼eç›¸åŒçš„æ•°æ®å…ƒç´ çš„ä½ç½®ï¼‰</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">LocateElem</span><span class="token punctuation">(</span>SqList L<span class="token punctuation">,</span>ElemType e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>L<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>L<span class="token punctuation">.</span>length<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>e<span class="token punctuation">)</span>   <span class="token comment">//å…ƒç´ è¿›è¡Œå¯¹æ¯”</span>            <span class="token keyword">return</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">//æŸ¥æ‰¾æˆåŠŸåˆ™è¿”å›åºå·</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment">//æŸ¥æ‰¾å¤±è´¥ï¼Œè¿”å›0</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å¹³å‡æŸ¥æ‰¾é•¿åº¦ï¼šASL=ï¼ˆn+1)/2 ï¼Œæ—¶é—´å¤æ‚åº¦T(n)=O(n)</strong></p><h6 id="é¡ºåºè¡¨çš„æ’å…¥"><a href="#é¡ºåºè¡¨çš„æ’å…¥" class="headerlink" title="é¡ºåºè¡¨çš„æ’å…¥"></a>é¡ºåºè¡¨çš„æ’å…¥</h6><p>ç®—æ³•æ€æƒ³ï¼š</p><ul><li>æ’å…¥ä½ç½®iæ˜¯å¦åˆæ³•ï¼Œåªèƒ½åœ¨0~L.lengthä¹‹é—´ï¼Œå³ç¬¬1ä¸ªä½ç½®å’Œç¬¬length+1ä¸ªä½ç½®ã€‚</li><li>åˆ¤æ–­é¡ºåºè¡¨çš„å­˜å‚¨ç©ºé—´æ˜¯å¦å·²æ»¡ï¼Œè‹¥å·²æ»¡è¿”å›ERRORã€‚</li><li>å°†ç¬¬L.lengthè‡³ç¬¬iä½çš„å…ƒç´ ä¾æ¬¡å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå°†ç¬¬iä¸ªä½ç½®ç©ºå‡ºæ¥ã€‚</li><li>å°†è¦æ’å…¥çš„æ–°å…ƒç´ eæ”¾å…¥ç¬¬iä¸ªä½ç½®</li><li>è¡¨é•¿+1ï¼Œæ’å…¥æˆåŠŸè¿”å›OK</li></ul><pre class="line-numbers language-c" data-language="c"><code class="language-c">Status <span class="token function">ListInsert_Sq</span><span class="token punctuation">(</span>SqList <span class="token operator">&amp;</span>L<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">,</span>ElemType e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">||</span>i<span class="token operator">></span>L<span class="token punctuation">.</span>length<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>    <span class="token comment">//åˆ¤æ–­æ’å…¥ä½ç½®æ˜¯å¦åˆç†</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>L<span class="token punctuation">.</span>length<span class="token operator">==</span>MAXSIZE<span class="token punctuation">)</span> <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>    <span class="token comment">//åˆ¤æ–­é¡ºåºè¡¨çš„å­˜å‚¨ç©ºé—´æ˜¯å¦å·²æ»¡</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>L<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">>=</span>i<span class="token operator">-</span><span class="token number">1</span>j<span class="token punctuation">;</span><span class="token operator">--</span><span class="token punctuation">)</span>         <span class="token comment">//å°†æ•°æ®ä¾æ¬¡åç§»</span>    <span class="token punctuation">&#123;</span>        L<span class="token punctuation">.</span>elem<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>L<span class="token punctuation">.</span>elem<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    L<span class="token punctuation">.</span>elem<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>e<span class="token punctuation">;</span>          <span class="token comment">//èµ‹å€¼ï¼Œæ’å…¥æ•°æ®</span>    L<span class="token punctuation">.</span>length<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token comment">//è¡¨é•¿+1 </span>    <span class="token keyword">return</span> OK<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å¹³å‡ç§»åŠ¨é•¿åº¦ï¼šASL=n/2ï¼Œæ—¶é—´å¤æ‚åº¦T(n)=O(n)</strong></p><h6 id="é¡ºåºè¡¨çš„åˆ é™¤"><a href="#é¡ºåºè¡¨çš„åˆ é™¤" class="headerlink" title="é¡ºåºè¡¨çš„åˆ é™¤"></a>é¡ºåºè¡¨çš„åˆ é™¤</h6><p>çº¿æ€§è¡¨çš„åˆ é™¤è¿ç®—æ˜¯æŒ‡å°†è¡¨çš„ç¬¬i(1&lt;=i&lt;=n)ä¸ªèŠ‚ç‚¹åˆ é™¤ï¼Œä½¿é•¿åº¦ä¸ºnçš„çº¿æ€§è¡¨å˜æˆé•¿åº¦ä¸ºn-1çš„çº¿æ€§è¡¨ã€‚</p><p>ç®—æ³•æ€æƒ³ï¼š</p><ul><li>åˆ¤æ–­åˆ é™¤ä½ç½®æ˜¯å¦åˆæ³•ã€‚ï¼ˆåˆæ³•å€¼ä¸º1&lt;=i&lt;=n)</li><li>å°†æ¬²åˆ é™¤çš„å…ƒç´ ä¿ç•™åœ¨eä¸­ã€‚</li><li>å°†ç¬¬i+1è‡³ç¬¬nä½å…ƒç´ ä¾æ¬¡å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®</li><li>è¡¨é•¿-1ï¼Œåˆ é™¤æˆåŠŸè¿”å›OKã€‚</li></ul><pre class="line-numbers language-c" data-language="c"><code class="language-c">Status <span class="token function">ListDelete_Sq</span><span class="token punctuation">(</span>SqList <span class="token operator">&amp;</span>L<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">||</span>i<span class="token operator">></span>L<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>   <span class="token comment">//içš„å€¼ä¸åˆæ³•</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>i<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>L<span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        L<span class="token punctuation">.</span>elem<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>L<span class="token punctuation">.</span>elem<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token comment">//è¢«åˆ é™¤å…ƒç´ ä¹‹åçš„å…ƒç´ å‰ç§»</span>    <span class="token punctuation">&#125;</span>    L<span class="token punctuation">.</span>length<span class="token operator">--</span><span class="token punctuation">;</span>                 <span class="token comment">//è¡¨é•¿å‡1</span>    <span class="token keyword">return</span> OK<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <strong>å¹³å‡ç§»åŠ¨é•¿åº¦ï¼š(n-1)/2ï¼Œæ—¶é—´å¤æ‚åº¦T(N)=O(n)</strong></p><h5 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h5><p><strong>é¡ºåºè¡¨çš„ä¼˜ç‚¹ï¼š</strong></p><ul><li>å­˜å‚¨å¯†åº¦å¤§ï¼ˆå­˜å‚¨å¯†åº¦=ç»“ç‚¹æœ¬èº«æ‰€å å­˜å‚¨é‡/ç»“ç‚¹ç»“æ„æ‰€å å­˜å‚¨é‡ï¼‰ï¼Œé¡ºåºè¡¨çš„å­˜å‚¨å¯†åº¦ä¸º1ã€‚</li><li>å¯ä»¥éšæœºå­˜å–è¡¨ä¸­ä»»ä¸€å…ƒç´ ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>åœ¨æ’å…¥ã€åˆ é™¤æŸä¸€å…ƒç´ æ—¶ï¼Œéœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ã€‚</li><li>æµªè´¹å­˜å‚¨ç©ºé—´ï¼ˆéœ€è¦é¢„å…ˆåˆ†é…ç©ºé—´ï¼Œå¾ˆå¤šç©ºé—´å¯èƒ½æ²¡æœ‰ç”¨åˆ°ï¼‰</li><li>å±äºé™æ€å­˜å‚¨å½¢å¼ï¼Œæ•°æ®å…ƒç´ çš„ä¸ªæ•°ä¸èƒ½è‡ªç”±æ‰©å……ã€‚</li></ul><h4 id="è¡¥å……Cå’ŒC-çš„çŸ¥è¯†"><a href="#è¡¥å……Cå’ŒC-çš„çŸ¥è¯†" class="headerlink" title="è¡¥å……Cå’ŒC++çš„çŸ¥è¯†"></a>è¡¥å……Cå’ŒC++çš„çŸ¥è¯†</h4><p>å®šä¹‰é¡ºåºè¡¨</p><p>æ•°ç»„é™æ€åˆ†é…ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">define</span> <span class="token expression">LIST_INT_SIZE <span class="token number">100</span>   </span><span class="token comment">//çº¿æ€§è¡¨å­˜å‚¨ç©ºé—´çš„åˆå§‹åˆ†é…é‡</span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">&#123;</span>    ElemType elem<span class="token punctuation">[</span>LIST_INIT_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">//å®šä¹‰ä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„æ•°ç»„ï¼ŒElemTypeæ˜¯æ•°æ®ç±»å‹ï¼Œå¦‚INT,FLOAT.</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span>    <span class="token comment">//å½“å‰é•¿åº¦</span><span class="token punctuation">&#125;</span>SqList<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•°ç»„åŠ¨æ€åˆ†é…ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">&#123;</span>    ElemType <span class="token operator">*</span>data<span class="token punctuation">;</span>   <span class="token comment">//è¿™é‡Œæ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡ï¼ŒæŒ‡çš„æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>SqList  <span class="token comment">//é¡ºåºè¡¨ç±»å‹</span>    <span class="token comment">//åŠ¨æ€åˆ†é…ç©ºé—´</span>    SqList L<span class="token punctuation">;</span>  <span class="token comment">//å®šä¹‰ä¸€ä¸ªé¡ºåºè¡¨L</span>L<span class="token punctuation">.</span>data<span class="token operator">=</span><span class="token punctuation">(</span>ElemType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElemType<span class="token punctuation">)</span><span class="token operator">*</span>MaxSize<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ä½¿ç”¨mallocå‡½æ•°åŠ¨æ€åˆ†é…ç©ºé—´</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="Cè¯­è¨€å†…å­˜åˆ†é…å‡½æ•°"><a href="#Cè¯­è¨€å†…å­˜åˆ†é…å‡½æ•°" class="headerlink" title="Cè¯­è¨€å†…å­˜åˆ†é…å‡½æ•°"></a>Cè¯­è¨€å†…å­˜åˆ†é…å‡½æ•°</h5><p>éœ€è¦åŠ è½½å¤´æ–‡ä»¶<code>&lt;stdlib.h&gt;</code></p><ul><li>malloc(m)å‡½æ•°ï¼Œå¼€è¾Ÿmå­—èŠ‚é•¿åº¦çš„åœ°å€ç©ºé—´ï¼Œå¹¶è¿”å›è¿™æ®µç©ºé—´çš„é¦–åœ°å€ã€‚</li><li>sizeof(x)è¿ç®—ï¼Œè®¡ç®—å˜é‡xçš„é•¿åº¦,å³å å‡ ä¸ªå­—èŠ‚ã€‚</li><li>free(p)å‡½æ•°ï¼Œé‡Šæ”¾æŒ‡é’ˆpæ‰€æŒ‡å˜é‡çš„å­˜å‚¨ç©ºé—´ï¼Œå³å½»åº•åˆ é™¤ä¸€ä¸ªå˜é‡ã€‚</li></ul><h5 id="C-åŠ¨æ€å­˜å‚¨åˆ†é…"><a href="#C-åŠ¨æ€å­˜å‚¨åˆ†é…" class="headerlink" title="C++åŠ¨æ€å­˜å‚¨åˆ†é…"></a>C++åŠ¨æ€å­˜å‚¨åˆ†é…</h5><p><code>new lç±»å‹åTï¼ˆåˆå€¼åˆ—è¡¨ï¼‰</code></p><p>åŠŸèƒ½ï¼šç”³è¯·ç”¨äºå­˜æ”¾Tç±»å‹å¯¹è±¡çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ä¾åˆå€¼èµ‹ä»¥åˆå€¼</p><p>ç»“æœå€¼ï¼š</p><p>â€‹    æˆåŠŸï¼šTç±»å‹çš„æŒ‡é’ˆï¼ŒæŒ‡å‘æ–°åˆ†é…çš„å†…å­˜ã€‚</p><p>â€‹    å¤±è´¥ï¼š0ï¼ˆNULL)</p><p><code>int *p1 = new int ;</code>  ä»å†…å­˜å¼€è¾Ÿä¸€ä¸ªç©ºé—´æ”¾ä¸€ä¸ªintå‹å˜é‡ï¼Œè¿”å›ä¸€ä¸ªåœ°å€ã€‚</p><p><code>int *p1 = new int(10);</code> ä»å†…å­˜å¼€è¾Ÿä¸€ä¸ªç©ºé—´æ”¾10ä¸ªintå‹å˜é‡ï¼Œè¿”å›ä¸€ä¸ªåœ°å€ã€‚</p><h3 id="é“¾è¡¨çš„è¡¨ç¤ºå’Œå®ç°"><a href="#é“¾è¡¨çš„è¡¨ç¤ºå’Œå®ç°" class="headerlink" title="é“¾è¡¨çš„è¡¨ç¤ºå’Œå®ç°"></a>é“¾è¡¨çš„è¡¨ç¤ºå’Œå®ç°</h3><h4 id="é“¾å¼å­˜å‚¨"><a href="#é“¾å¼å­˜å‚¨" class="headerlink" title="é“¾å¼å­˜å‚¨"></a>é“¾å¼å­˜å‚¨</h4><p>é“¾å¼å­˜å‚¨ç»“æ„ï¼šç»“ç‚¹åœ¨å­˜å‚¨å™¨ä¸­çš„ä½ç½®æ˜¯ä»»æ„çš„ï¼Œå³é€»è¾‘ä¸Šç›¸é‚»çš„æ•°æ®å…ƒç´ åœ¨ç‰©ç†ä¸Šä¸ä¸€å®šç›¸é‚»ã€‚</p><p>çº¿æ€§è¡¨çš„é“¾å¼è¡¨ç¤ºåˆç§°ä¸ºéé¡ºåºæ˜ åƒæˆ–é“¾å¼æ˜ åƒã€‚</p><p>ç”¨ä¸€ç»„<strong>ç‰©ç†ä½ç½®ä»»æ„çš„å­˜å‚¨å•å…ƒ</strong>æ¥å­˜æ”¾çº¿æ€§è¡¨çš„æ•°æ®å…ƒç´ ã€‚</p><p>è¿™ç»„å­˜å‚¨å•å…ƒæ—¢å¯ä»¥æ˜¯<strong>è¿ç»­</strong>çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯<strong>ä¸è¿ç»­</strong>çš„ï¼Œç”šè‡³æ˜¯é›¶æ•£åˆ†å¸ƒåœ¨å†…å­˜ä¸­çš„ä»»æ„ä½ç½®ä¸Šçš„ã€‚</p><p>é“¾è¡¨ä¸­å…ƒç´ çš„<strong>é€»è¾‘æ¬¡åºå’Œç‰©ç†æ¬¡åºä¸ä¸€å®šç›¸åŒ</strong>ã€‚</p><h4 id="ä¸é“¾å¼å­˜å‚¨ç›¸å…³çš„æœ¯è¯­"><a href="#ä¸é“¾å¼å­˜å‚¨ç›¸å…³çš„æœ¯è¯­" class="headerlink" title="ä¸é“¾å¼å­˜å‚¨ç›¸å…³çš„æœ¯è¯­"></a>ä¸é“¾å¼å­˜å‚¨ç›¸å…³çš„æœ¯è¯­</h4><p><strong>1ã€ç»“ç‚¹ï¼š</strong>æ•°æ®å…ƒç´ çš„å­˜å‚¨æ˜ åƒã€‚é“¾è¡¨çš„å„ä¸ªç»“ç‚¹ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š<strong>æ•°æ®åŸŸå’ŒæŒ‡é’ˆåŸŸ</strong>ï¼Œæ•°æ®åŸŸç”¨æ¥å­˜å‚¨æ•°å€¼æ•°æ®ï¼ŒæŒ‡é’ˆåŸŸç”¨æ¥å­˜å‚¨ç›´æ¥åç»§ç»“ç‚¹çš„å­˜å‚¨ä½ç½®ã€‚</p><p><strong>2ã€é“¾è¡¨ï¼š</strong>nä¸ªç»“ç‚¹ç”±æŒ‡é’ˆé“¾ç»„æˆä¸€ä¸ªé“¾è¡¨ã€‚</p><p><strong>3ã€å•é“¾è¡¨ã€åŒé“¾è¡¨ã€å¾ªç¯é“¾è¡¨ï¼š</strong></p><ul><li>ç»“ç‚¹åªæœ‰ä¸€ä¸ªæŒ‡é’ˆåŸŸçš„é“¾è¡¨æˆä¸º<strong>å•é“¾è¡¨</strong>æˆ–<strong>çº¿æ€§é“¾è¡¨</strong>ï¼ŒæŒ‡é’ˆåŸŸå­˜å‚¨ç›´æ¥åç»§ç»“ç‚¹çš„åœ°å€ï¼Œå¹¶ä¸”å°¾ç»“ç‚¹çš„æŒ‡é’ˆåŸŸä¸ºNULLã€‚</li><li>ç»“ç‚¹ç”±ä¸¤ä¸ªæŒ‡é’ˆåŸŸçš„é“¾è¡¨ç§°ä¸º<strong>åŒé“¾è¡¨</strong>ï¼Œç¬¬ä¸€ä¸ªæŒ‡é’ˆåŸŸå­˜å‚¨å‰ä¸€ä¸ªç»“ç‚¹çš„åœ°å€ï¼Œåä¸€ä¸ªæŒ‡é’ˆåŸŸå­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹çš„åœ°å€ï¼Œå°¾ç»“ç‚¹çš„æŒ‡é’ˆåŸŸä¸ºNULLã€‚</li><li>é¦–å°¾ç›¸è¿çš„é“¾è¡¨ç§°ä¸º<strong>å¾ªç¯é“¾è¡¨</strong>ï¼Œå°¾æŒ‡é’ˆçš„æŒ‡é’ˆåŸŸå­˜å‚¨é¦–èŠ‚ç‚¹çš„åœ°å€ã€‚</li></ul><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210627134652130.png" alt="image-20210627134652130"></p><p><strong>4ã€å¤´æŒ‡é’ˆã€å¤´ç»“ç‚¹å’Œé¦–å…ƒç»“ç‚¹ï¼š</strong></p><ul><li>å¤´æŒ‡é’ˆï¼šæŒ‡å‘é“¾è¡¨ç¬¬ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆï¼Œæ˜¯ä¸ªæŒ‡é’ˆï¼Œæ²¡æœ‰æ•°æ®åŸŸã€‚</li><li>é¦–å…ƒç»“ç‚¹ï¼šé“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå­˜å‚¨æ•°æ®å…ƒç´ çš„ç»“ç‚¹ã€‚</li><li>å¤´ç»“ç‚¹ï¼Œä¸ºäº†æ–¹ä¾¿åœ¨é¦–å…ƒç»“ç‚¹å‰é™„è®¾çš„ä¸€ä¸ªç»“ç‚¹ï¼Œæœ‰æ•°æ®åŸŸå’ŒæŒ‡é’ˆåŸŸï¼Œä½†æ˜¯æ•°æ®åŸŸä¸ä¿å­˜æ•°æ®ï¼ŒæŒ‡é’ˆåŸŸæŒ‡å‘é¦–å…ƒç»“ç‚¹çš„åœ°å€ã€‚</li></ul><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210627135040727.png" alt="image-20210627135040727"></p><blockquote><p>æ—¢ç„¶è®¾ä¸è®¾ç½®å¤´ç»“ç‚¹éƒ½å¯ä»¥ï¼Œä¸ºä»€ä¹ˆè¦è®¾ç½®å¤´ç»“ç‚¹å‘¢ï¼Ÿè®¾ç½®å¤´ç»“ç‚¹æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</p></blockquote><p>1.ä¾¿äºé¦–å…ƒç»“ç‚¹çš„å¤„ç†ã€‚</p><p>å¦‚æœæ²¡æœ‰å¤´ç»“ç‚¹ï¼Œé‚£ä¸ªé¦–å…ƒç»“ç‚¹çš„åœ°å€å°±ç”±å¤´æŒ‡é’ˆæŒ‡å‘ï¼Œè€Œæœ‰äº†å¤´æŒ‡é’ˆï¼Œé‚£ä¹ˆé¦–å…ƒç»“ç‚¹çš„åœ°å€å°±ä¿å­˜åœ¨å¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸä¸­ï¼Œå¯ä»¥ç›´æ¥ç”±å¤´ç»“ç‚¹æŒ‡å‘ï¼Œä¸åé¢çš„ç»“ç‚¹æ“ä½œä¸€ç›´ï¼Œä¸ç”¨è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚</p><p>2.ä¾¿äºç©ºè¡¨å’Œéç©ºè¡¨çš„ç»Ÿä¸€å¤„ç†</p><p>æ— è®ºé“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼Œå¤´æŒ‡é’ˆéƒ½æ˜¯æŒ‡å‘å¤´ç»“ç‚¹çš„éç©ºæŒ‡é’ˆï¼Œå› æ­¤ç©ºè¡¨å’Œéç©ºè¡¨çš„å¤„ç†ä¹Ÿä¸€è‡´äº†ã€‚</p><blockquote><p>å¤´ç»“ç‚¹çš„æ•°æ®åŸŸå†…å­˜ä»€ä¹ˆä¿¡æ¯</p></blockquote><p>å¤´ç»“ç‚¹çš„æ•°æ®åŸŸå¯ä»¥ä¸ºç©ºï¼Œä¹Ÿå¯ä»¥å­˜æ”¾çº¿æ€§è¡¨é•¿åº¦ç­‰é™„åŠ ä¿¡æ¯ï¼Œä½†æ˜¯è¿™ä¸ªèŠ‚ç‚¹ä¸è®¡å…¥é“¾è¡¨çš„é•¿åº¦ã€‚</p><h4 id="é“¾å¼å­˜å‚¨ç»“æ„çš„ç‰¹ç‚¹"><a href="#é“¾å¼å­˜å‚¨ç»“æ„çš„ç‰¹ç‚¹" class="headerlink" title="é“¾å¼å­˜å‚¨ç»“æ„çš„ç‰¹ç‚¹"></a>é“¾å¼å­˜å‚¨ç»“æ„çš„ç‰¹ç‚¹</h4><ol><li>ç»“ç‚¹åœ¨å­˜å‚¨å™¨ä¸­çš„ä½ç½®æ˜¯ä»»æ„çš„ï¼Œå³é€»è¾‘ä¸Šç›¸é‚»çš„æ•°æ®å…ƒç´ åœ¨ç‰©ç†ä¸Šä¸ä¸€å®šç›¸é‚»ã€‚</li><li>æ­£æ˜¯å› ä¸ºå­˜å‚¨ä½ç½®æ˜¯ä»»æ„çš„ï¼Œå› æ­¤ä¸èƒ½åƒé¡ºåºè¡¨ä¸­ç›´æ¥è®¿é—®æŸä¸€ç»“ç‚¹ã€‚è®¿é—®æ—¶å¿…é¡»ä»å¤´æŒ‡é’ˆå¼€å§‹è¿›å…¥é“¾è¡¨ï¼Œå¹¶é€šè¿‡æ¯ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆåŸŸæ‰¾åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œä¾æ¬¡æ‰«æï¼Œæ‰€ä»¥å¯»æ‰¾ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹æ‰€èŠ±è´¹çš„æ—¶é—´ä¸ç­‰ã€‚ è¿™ç§å­˜å–å…ƒç´ çš„æ–¹æ³•å«åš<strong>é¡ºåºå­˜å–æ³•ã€‚</strong></li></ol><h4 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h4><p>å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210627141240817.png" alt="image-20210627141240817"></p><h5 id="å•é“¾è¡¨çš„ç±»å‹å®šä¹‰"><a href="#å•é“¾è¡¨çš„ç±»å‹å®šä¹‰" class="headerlink" title="å•é“¾è¡¨çš„ç±»å‹å®šä¹‰"></a>å•é“¾è¡¨çš„ç±»å‹å®šä¹‰</h5><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Lnode</span><span class="token punctuation">&#123;</span>         <span class="token comment">//å£°æ˜ç»“ç‚¹çš„ç±»å‹å’ŒæŒ‡å‘ç»“ç‚¹çš„æŒ‡é’ˆç±»å‹     </span>    ElemType data<span class="token punctuation">;</span>           <span class="token comment">//ç»“ç‚¹çš„æ•°æ®åŸŸ</span>    <span class="token keyword">struct</span> <span class="token class-name">Londe</span> <span class="token operator">*</span>next<span class="token punctuation">;</span>     <span class="token comment">//ç»“ç‚¹çš„æŒ‡é’ˆåŸŸ</span><span class="token punctuation">&#125;</span>LNode<span class="token punctuation">,</span><span class="token operator">*</span>LinkList<span class="token punctuation">;</span>          <span class="token comment">//LinkListä¸ºæŒ‡å‘ç»“æ„ä½“Londeç±»å‹çš„æŒ‡é’ˆç±»å‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p> <strong>å®šä¹‰é“¾è¡¨ï¼š</strong><code>LinkList L;</code></p><p><strong>å®šä¹‰ç»“ç‚¹æŒ‡é’ˆPï¼š</strong><code>LNode *p;</code>  æˆ–è€…<code>LinkList p;</code></p><h5 id="å•é“¾è¡¨åŸºæœ¬æ“ä½œçš„å®ç°"><a href="#å•é“¾è¡¨åŸºæœ¬æ“ä½œçš„å®ç°" class="headerlink" title="å•é“¾è¡¨åŸºæœ¬æ“ä½œçš„å®ç°"></a>å•é“¾è¡¨åŸºæœ¬æ“ä½œçš„å®ç°</h5><p><img src="/.com//blog\æ•°æ®ç»“æ„\image-20210627155835316.png" alt="image-20210627155835316"></p><h6 id="åˆå§‹åŒ–ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰"><a href="#åˆå§‹åŒ–ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰" class="headerlink" title="åˆå§‹åŒ–ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰"></a>åˆå§‹åŒ–ï¼ˆå¸¦å¤´ç»“ç‚¹ï¼‰</h6><p>ç®—æ³•æ­¥éª¤ï¼š</p><ul><li>ç”Ÿæˆçš„æ–°ç»“ç‚¹ä½œä¸ºå¤´ç»“ç‚¹ï¼Œç”¨å¤´æŒ‡é’ˆLæŒ‡å‘å¤´ç»“ç‚¹ã€‚</li><li>å°†å¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸç½®ç©ºã€‚</li></ul><pre class="line-numbers language-c" data-language="c"><code class="language-c">Status <span class="token function">InitList_L</span><span class="token punctuation">(</span>LinkList <span class="token operator">&amp;</span>L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    L<span class="token operator">=</span><span class="token punctuation">(</span>LinkList<span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æ ¹æ®LNodeçš„å†…å­˜å¤§å°åŠ¨æ€åˆ†é…ä¸€ä¸ªç©ºé—´ï¼Œè¿”å›ç©ºé—´åœ°å€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨C++:L=new LNode;ç”Ÿæˆå¤´ç»“ç‚¹ã€‚</span>    L<span class="token operator">-></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> OK<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º"><a href="#åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º" class="headerlink" title="åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º"></a>åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º</h6><p>é“¾è¡¨ä¸­æ— å…ƒç´ ï¼Œç§°ä¸ºç©ºé“¾è¡¨ï¼ˆå¤´æŒ‡é’ˆå’Œå¤´ç»“ç‚¹è¿˜åœ¨ï¼‰</p><p>ç®—æ³•æ€è·¯ï¼šåˆ¤æ–­å¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸæ˜¯å¦ä¸ºç©ºã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">ListEmpty</span><span class="token punctuation">(</span>LinkList L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token comment">//åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼Œæ˜¯è¿”å›2ï¼Œä¸æ˜¯è¿”å›0ï¼›Læ˜¯å¤´æŒ‡é’ˆï¼Œç›´æ¥æŒ‡å‘äº†å¤´ç»“ç‚¹ã€‚</span>   <span class="token keyword">if</span><span class="token punctuation">(</span>L<span class="token operator">-></span>next<span class="token punctuation">)</span>       <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="é”€æ¯å•é“¾è¡¨"><a href="#é”€æ¯å•é“¾è¡¨" class="headerlink" title="é”€æ¯å•é“¾è¡¨"></a>é”€æ¯å•é“¾è¡¨</h6><p>é“¾è¡¨é”€æ¯åä¸å­˜åœ¨ï¼ˆå¤´ç»“ç‚¹ä¸å­˜åœ¨ï¼‰</p><p>ç®—æ³•æ€è·¯ï¼šä»å¤´æŒ‡é’ˆå¼€å§‹ï¼Œä¾æ¬¡é‡Šæ”¾æ‰€æœ‰ç»“ç‚¹ã€‚</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210627151613026.png" alt="image-20210627151613026"></p> <pre class="line-numbers language-c" data-language="c"><code class="language-c">Status <span class="token function">DestroyList_L</span><span class="token punctuation">(</span>LinkList <span class="token operator">&amp;</span>L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    LinkList p<span class="token punctuation">;</span>   <span class="token comment">//æˆ–LNode *p  å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆï¼Œç”¨æ¥å­˜å‚¨å½“å‰ç»“ç‚¹ã€‚</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     <span class="token comment">//åˆ¤æ–­æ˜¯å¦åˆ°è¾¾é“¾è¡¨å°¾éƒ¨</span>        p<span class="token operator">=</span>L<span class="token punctuation">;</span>      <span class="token comment">//å°†å½“å‰ç»“ç‚¹èµ‹å€¼ç»™p</span>        L<span class="token operator">=</span>L<span class="token operator">-></span>next<span class="token punctuation">;</span>  <span class="token comment">//LæŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œå‘åç§»åŠ¨ä¸€ä½</span>        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//é‡Šæ”¾å½“å‰èŠ‚ç‚¹çš„ç©ºé—´  ä¹Ÿå¯ä»¥ä½¿ç”¨delete(new å‡ºæ¥çš„ç»“ç‚¹ç”¨deleteï¼Œmallocçš„ç”¨free)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> OK<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="æ¸…ç©ºé“¾è¡¨"><a href="#æ¸…ç©ºé“¾è¡¨" class="headerlink" title="æ¸…ç©ºé“¾è¡¨"></a>æ¸…ç©ºé“¾è¡¨</h6><p>é“¾è¡¨ä»å­˜åœ¨ï¼Œä½†æ˜¯é“¾è¡¨ä¸­æ²¡æœ‰å…ƒç´ ï¼Œæˆä¸ºç©ºé“¾è¡¨ï¼ˆå¤´æŒ‡é’ˆå’Œå¤´ç»“ç‚¹ä»ç„¶å­˜åœ¨ï¼‰</p><p>ç®—æ³•æ€è·¯ï¼šä¾æ¬¡é‡Šæ”¾æ‰€æœ‰ç»“ç‚¹ï¼Œå¹¶å°†å¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸè®¾ç½®ä¸ºç©ºã€‚</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210627153059520.png" alt="image-20210627153059520"></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">Status <span class="token function">ClearList</span><span class="token punctuation">(</span>LinkList <span class="token operator">&amp;</span>L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    LNode <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>            <span class="token comment">//å®šä¹‰ä¸¤ä¸ªè¾…åŠ©æŒ‡é’ˆç»“ç‚¹</span>    p<span class="token operator">=</span>L<span class="token operator">-></span>next<span class="token punctuation">;</span>              <span class="token comment">//ä½¿pæŒ‡å‘é¦–å…ƒç»“ç‚¹</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>              <span class="token comment">//åˆ¤æ–­é“¾è¡¨æ˜¯å¦åˆ°è¾¾å°¾ç»“ç‚¹</span>        q<span class="token operator">=</span>p<span class="token operator">-></span>next<span class="token punctuation">;</span>         <span class="token comment">//å°†å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ç»“ç‚¹èµ‹ç»™qï¼Œé‡Šæ”¾å½“å‰ç»“ç‚¹åè¿˜å¯ä»¥æ‰¾åˆ°ä¸‹ä¸€ç»“ç‚¹</span>        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//é‡Šæ”¾å½“å‰ç»“ç‚¹çš„ç©ºé—´</span>        p<span class="token operator">=</span>q<span class="token punctuation">;</span>               <span class="token comment">//pæŒ‡å‘å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ç»“ç‚¹</span>    <span class="token punctuation">&#125;</span>    L<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>      <span class="token comment">//å°†å¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸè®¾ç½®ä¸ºNULLã€‚</span>    <span class="token keyword">return</span> OK<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="æ±‚é“¾è¡¨çš„è¡¨é•¿"><a href="#æ±‚é“¾è¡¨çš„è¡¨é•¿" class="headerlink" title="æ±‚é“¾è¡¨çš„è¡¨é•¿"></a>æ±‚é“¾è¡¨çš„è¡¨é•¿</h6><p>ç®—æ³•æ€è·¯ï¼šä»é¦–å…ƒç»“ç‚¹å¼€å§‹ï¼Œä¾æ¬¡è®¡æ•°æ‰€æœ‰ç»“ç‚¹ã€‚</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210627154551676.png" alt="image-20210627154551676"></p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">ListLength_L</span><span class="token punctuation">(</span>LinkList L<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    LinkList p<span class="token punctuation">;</span>    p<span class="token operator">=</span>L<span class="token operator">-></span>next<span class="token punctuation">;</span>                <span class="token comment">//pæŒ‡å‘é¦–å…ƒç»“ç‚¹</span>    <span class="token keyword">int</span> t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>                <span class="token comment">//å®šä¹‰é•¿åº¦</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>              <span class="token comment">//åˆ¤æ–­æ˜¯å¦åˆ°è¾¾é“¾è¡¨å°¾éƒ¨</span>        p<span class="token operator">=</span>p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token comment">//å°†pæŒ‡å‘å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ç»“ç‚¹</span>        t<span class="token operator">++</span><span class="token punctuation">;</span>             <span class="token comment">//é•¿åº¦+1</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> t<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="å–å€¼â€”â€”å–ç¬¬iä¸ªå…ƒç´ çš„å†…å®¹"><a href="#å–å€¼â€”â€”å–ç¬¬iä¸ªå…ƒç´ çš„å†…å®¹" class="headerlink" title="å–å€¼â€”â€”å–ç¬¬iä¸ªå…ƒç´ çš„å†…å®¹"></a>å–å€¼â€”â€”å–ç¬¬iä¸ªå…ƒç´ çš„å†…å®¹</h6><p><strong>ç®—æ³•æ­¥éª¤ï¼š</strong></p><p>1.ä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹(L-&gt;next)é¡ºé“¾æ‰«æï¼Œç”¨æŒ‡é’ˆpæŒ‡å‘å½“å‰æ‰«æåˆ°çš„ç»“ç‚¹ï¼Œpåˆå€¼ p=L-&gt;nextã€‚</p><p>2.jåšè®¡æ•°å™¨ï¼Œç´¯è®¡å½“å‰æ‰«æè¿‡çš„ç»“ç‚¹æ•°ï¼Œjåˆå€¼ä¸º1ã€‚</p><p>3.å½“pæŒ‡å‘æ‰«æåˆ°çš„ä¸‹ä¸€ç»“ç‚¹æ—¶ï¼Œè®¡æ•°å™¨jåŠ 1ã€‚</p><p>4.å½“j==iæ—¶ï¼Œpæ‰€æŒ‡çš„ç»“ç‚¹å°±æ˜¯è¦æ‰¾çš„ç¬¬iä¸ªç»“ç‚¹ã€‚</p> <pre class="line-numbers language-c" data-language="c"><code class="language-c">Status <span class="token function">GetElem_L</span><span class="token punctuation">(</span>LinkList L<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">,</span>ElemType <span class="token operator">&amp;</span>e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>      LinkList p<span class="token punctuation">;</span>      p<span class="token operator">=</span>L<span class="token operator">-></span>next<span class="token punctuation">;</span>           <span class="token comment">//pæŒ‡å‘é¦–å…ƒç»“ç‚¹</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">&amp;&amp;</span>j<span class="token operator">&lt;</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token comment">//å‘åæ‰«æï¼Œç›´åˆ°pæŒ‡å‘ç¬¬iä¸ªå…ƒç´ æˆ–è€…påˆ°è¾¾é“¾è¡¨å°¾éƒ¨</span>        p<span class="token operator">=</span>p<span class="token operator">-></span>next<span class="token punctuation">;</span>       <span class="token comment">//pæŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹</span>        j<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>           <span class="token comment">//å¦‚æœj==iï¼Œè¯´æ˜æ‰¾åˆ°äº†ç¬¬iä¸ªå…ƒç´ ã€‚</span>        e<span class="token operator">=</span>p<span class="token operator">-></span>data<span class="token punctuation">;</span>    <span class="token keyword">return</span> OK<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æ•°æ®ç»“æ„æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ•°æ®ç»“æ„æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®ç»“æ„æ¦‚è¿°&quot;&gt;&lt;/a&gt;æ•°æ®ç»“æ„æ¦‚è¿°&lt;/h2&gt;&lt;h3 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¿°&quot;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h3&gt;&lt;h4 id=&quot;åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­&quot;&gt;&lt;a href=&quot;#åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­&quot;&gt;&lt;/a&gt;åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­&lt;/h4&gt;&lt;h5 id=&quot;æ•°æ®ç»“æ„çš„ä¸¤ä¸ªå±‚æ¬¡&quot;&gt;&lt;a href=&quot;#æ•°æ®ç»“æ„çš„ä¸¤ä¸ªå±‚æ¬¡&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®ç»“æ„çš„ä¸¤ä¸ªå±‚æ¬¡&quot;&gt;&lt;/a&gt;æ•°æ®ç»“æ„çš„ä¸¤ä¸ªå±‚æ¬¡&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;1.é€»è¾‘ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€»è¾‘ç»“æ„æ˜¯æè¿°å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œä¸æ•°æ®çš„å­˜å‚¨æ— å…³ï¼Œç‹¬ç«‹äºè®¡ç®—æœºï¼Œæ˜¯ä»å…·ä½“é—®é¢˜æŠ½è±¡å‡ºæ¥çš„æ•°å­¦æ¨¡å‹ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="ç®—æ³•" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="æ•°æ®ç»“æ„" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>å…³é—­åº”ç”¨è¯¢é—®</title>
    <link href="http://example.com/2021/07/22/%E5%85%B3%E9%97%AD%E5%BA%94%E7%94%A8%E8%AF%A2%E9%97%AE/"/>
    <id>http://example.com/2021/07/22/%E5%85%B3%E9%97%AD%E5%BA%94%E7%94%A8%E8%AF%A2%E9%97%AE/</id>
    <published>2021-07-22T03:28:02.496Z</published>
    <updated>2021-07-22T03:28:58.537Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ç”µè„‘é‡è£…ç³»ç»Ÿä¹‹åï¼Œæ¯æ¬¡å®‰è£…ä¸€ä¸ªåº”ç”¨éƒ½ä¼šå¼¹å‡ºä¸€ä¸ªæç¤ºæ¡†ï¼Œè¦æˆ‘ä»¬ç¡®è®¤æ˜¯å¦å®‰è£…ï¼Œè¿™ä¸ªæç¤ºæ¡†éå¸¸çƒ¦äººï¼Œå› æ­¤æˆ‘ä»¬æƒ³è¦æŠŠä»–ç»™å»æ‰ã€‚</p><a id="more"></a><h3 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h3><p>1.æœç´¢æ§åˆ¶é¢æ¿ï¼Œè¿›å…¥æ§åˆ¶é¢æ¿</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210703143202924.png" alt="image-20210703143202924"></p><p>2.ç‚¹å‡»ç”¨æˆ·è´¦æˆ·</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210703143314496.png" alt="image-20210703143314496"></p><p>3.ç‚¹å‡»æ›´æ”¹ç”¨æˆ·è´¦æˆ·æ§åˆ¶è®¾ç½®</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210703143417130.png" alt="image-20210703143417130"></p><p>4.è®¾ç½®ä¸ºä»ä¸é€šçŸ¥</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210703143523120.png" alt="image-20210703143523120"></p><h3 id="è¿æ¥é¼ æ ‡å…³é—­è§¦æ‘¸æ¿"><a href="#è¿æ¥é¼ æ ‡å…³é—­è§¦æ‘¸æ¿" class="headerlink" title="è¿æ¥é¼ æ ‡å…³é—­è§¦æ‘¸æ¿"></a>è¿æ¥é¼ æ ‡å…³é—­è§¦æ‘¸æ¿</h3><p>1.æœç´¢è®¾ç½®ï¼Œç‚¹å‡»è®¾å¤‡</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210703144047546.png" alt="image-20210703144047546"></p><p>2.ç‚¹å‡»è§¦æ‘¸æ¿ï¼Œå°†è¿æ¥é¼ æ ‡æ—¶è®©è§¦æ‘¸æ¿ä¿æŒæ‰“å¼€çŠ¶æ€å…³é—­å³å¯</p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/image-20210703144124044.png" alt="image-20210703144124044"></p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;ç”µè„‘é‡è£…ç³»ç»Ÿä¹‹åï¼Œæ¯æ¬¡å®‰è£…ä¸€ä¸ªåº”ç”¨éƒ½ä¼šå¼¹å‡ºä¸€ä¸ªæç¤ºæ¡†ï¼Œè¦æˆ‘ä»¬ç¡®è®¤æ˜¯å¦å®‰è£…ï¼Œè¿™ä¸ªæç¤ºæ¡†éå¸¸çƒ¦äººï¼Œå› æ­¤æˆ‘ä»¬æƒ³è¦æŠŠä»–ç»™å»æ‰ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="å°æŠ€å·§" scheme="http://example.com/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>ORMç®€ä»‹</title>
    <link href="http://example.com/2021/07/22/ORM/"/>
    <id>http://example.com/2021/07/22/ORM/</id>
    <published>2021-07-22T03:28:00.911Z</published>
    <updated>2021-07-22T03:32:56.927Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯ORM"><a href="#ä»€ä¹ˆæ˜¯ORM" class="headerlink" title="ä»€ä¹ˆæ˜¯ORM"></a>ä»€ä¹ˆæ˜¯ORM</h2><p>ORMï¼ˆObject-Relational Mapping ï¼Œå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¨¡å¼æ˜¯ä¸ºäº†è§£å†³é¢å‘å¯¹è±¡ä¸å…³ç³»æ•°æ®åº“å­˜åœ¨çš„äº’ä¸åŒ¹é…çš„ç°è±¡çš„æŠ€æœ¯ã€‚</p><p>ORMä¸»è¦æ˜¯æŠŠæ•°æ®åº“ä¸­çš„å…³ç³»æ˜ å°„ä¸ºç¨‹åºä¸­çš„å¯¹è±¡ï¼Œå°†ç¨‹åºä¸­çš„å¯¹è±¡è‡ªåŠ¨æŒä¹…åŒ–åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œä»–æ˜¯éšç€é¢å‘å¯¹è±¡çš„å¼€å‘æ–¹æ³•å‘å±•èµ·æ¥çš„ï¼ŒORMåœ¨ä¸šåŠ¡é€»è¾‘å±‚å’Œæ•°æ®åº“å±‚ä¹‹é—´å……å½“äº†æ¡¥æ¢çš„ä½œç”¨ï¼Œæˆ‘ä»¬åœ¨å…·ä½“çš„æ“ä½œä¸šåŠ¡å¯¹è±¡çš„æ—¶å€™ï¼Œä¸éœ€è¦å†å»å’Œå¤æ‚çš„SQLè¯­å¥æ‰“äº¤é“ï¼Œåªéœ€ç®€å•çš„æ“ä½œå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><a id="more"></a><h2 id="ORMçš„ç”±æ¥"><a href="#ORMçš„ç”±æ¥" class="headerlink" title="ORMçš„ç”±æ¥"></a>ORMçš„ç”±æ¥</h2><p>é¢å‘å¯¹è±¡æ˜¯ä»è½¯ä»¶å·¥ç¨‹åŸºæœ¬åŸåˆ™ï¼ˆå¦‚è€¦åˆï¼Œèšåˆï¼Œå°è£…ç­‰ï¼‰çš„åŸºç¡€ä¸Šå‘å±•æ¥çš„ï¼Œè€Œå…³ç³»å‹æ•°æ®åº“æ˜¯ä»æ•°å­¦ç†è®ºå‘å±•è€Œæ¥çš„ï¼Œè¿™ä¸¤ç§ç†è®ºå­˜åœ¨æ˜¾è‘—å·®åˆ«ï¼Œä¸ºè§£å†³è¿™ä¸€å·®å¼‚ï¼ŒORMåº”è¿è€Œç”Ÿã€‚</p><p>Oæ˜¯objectï¼Œä¹Ÿå°±ç±»å¯¹è±¡çš„æ„æ€ï¼ŒRæ˜¯relationï¼Œç¿»è¯‘æˆä¸­æ–‡æ˜¯å…³ç³»ï¼Œä¹Ÿå°±æ˜¯å…³ç³»æ•°æ®åº“ä¸­æ•°æ®è¡¨çš„æ„æ€ï¼ŒMæ˜¯mappingï¼Œæ˜¯æ˜ å°„çš„æ„æ€ã€‚</p><p>åœ¨ORMæ¡†æ¶ä¸­ï¼Œå®ƒå¸®æˆ‘ä»¬æŠŠç±»å’Œæ•°æ®è¡¨è¿›è¡Œäº†ä¸€ä¸ªæ˜ å°„ï¼Œå¯ä»¥è®©æˆ‘ä»¬é€šè¿‡ç±»å’Œç±»å¯¹è±¡å°±èƒ½æ“ä½œå®ƒæ‰€å¯¹åº”çš„è¡¨æ ¼ä¸­çš„æ•°æ®ã€‚ORMæ¡†æ¶è¿˜æœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œå®ƒå¯ä»¥æ ¹æ®æˆ‘ä»¬è®¾è®¡çš„ç±»è‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆæ•°æ®åº“ä¸­çš„è¡¨æ ¼ï¼Œçœå»äº†æˆ‘ä»¬è‡ªå·±å»ºè¡¨çš„è¿‡ç¨‹ã€‚</p><p>å‡ ä¹æ‰€æœ‰çš„è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­éƒ½ä¼šæ¶‰åŠåˆ°å¯¹è±¡å’Œå…³ç³»æ•°æ®åº“ï¼Œåœ¨ç”¨æˆ·å±‚é¢å’Œä¸šåŠ¡é€»è¾‘å±‚é¢ï¼Œæˆ‘ä»¬æ˜¯é¢å‘å¯¹è±¡çš„ã€‚å½“å¯¹è±¡çš„ä¿¡æ¯å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠå¯¹è±¡çš„ä¿¡æ¯ä¿å­˜åœ¨å…³ç³»æ•°æ®åº“ä¸­ã€‚</p><blockquote><p>æŒ‰ä¹‹å‰çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œå°±ä¼šå‡ºç°ç¨‹åºå‘˜ä¼šåœ¨è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ä»£ç ä¸­å¤¹æ‚å¾ˆå¤šSQLè¯­å¥ç”¨æ¥å¢åŠ ã€è¯»å–ã€ä¿®æ”¹ã€åˆ é™¤ç›¸å…³æ•°æ®ï¼Œè€Œè¿™äº›ä»£ç é€šå¸¸æ˜¯é‡å¤çš„ã€‚</p></blockquote><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/1418466-20181224093538503-655204666.png" alt="img"></p><h2 id="ORMçš„æ ¸å¿ƒåŸåˆ™"><a href="#ORMçš„æ ¸å¿ƒåŸåˆ™" class="headerlink" title="ORMçš„æ ¸å¿ƒåŸåˆ™"></a>ORMçš„æ ¸å¿ƒåŸåˆ™</h2><p>ï¼ˆ1ï¼‰ç®€å•æ€§ï¼šä»¥æœ€åŸºæœ¬çš„å½¢å¼å»ºæ¨¡æ•°æ®</p><p>ï¼ˆ2ï¼‰ä¼ è¾¾æ€§ï¼šæ•°æ®åº“ç»“æ„è¢«ä»»ä½•äººéƒ½èƒ½ç†è§£çš„è¯­è¨€æ–‡æ¡£åŒ–</p><p>ï¼ˆ3ï¼‰ç²¾ç¡®æ€§ï¼šåŸºäºæ•°æ®åº“æ¨¡å‹åˆ›å»ºæ­£ç¡®æ ‡å‡†åŒ–äº†çš„ç»“æ„</p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>ORMä¸»è¦è§£å†³ç†è®ºå¯¹è±¡å’Œå…³ç³»çš„æ˜ å°„ã€‚é€šå¸¸æŠŠä¸€ä¸ªç±»å’Œä¸€å¼ è¡¨ä¸€ä¸€å¯¹åº”ï¼Œç±»çš„æ¯ä¸€ä¸ªå®ä¾‹å¯¹åº”è¡¨ä¸­çš„ä¸€æ¡è®°å½•ï¼Œç±»çš„æ¯ä¸ªå±æ€§å¯¹åº”è¡¨ä¸­çš„æ¯ä¸ªå­—æ®µã€‚</li><li>ORMæä¾›äº†å¯¹æ•°æ®åº“çš„æ˜ å°„ï¼Œä¸ç”¨ç›´æ¥ç¼–å†™sqlè¯­å¥ï¼Œåªéœ€å‘æ“ä½œå¯¹è±¡ä¸€æ ·ä»æ•°æ®åº“æ“ä½œæ•°æ®ã€‚</li><li>æé«˜å¼€å‘æ•ˆç‡ï¼Œè®©è½¯ä»¶å¼€å‘äººå‘˜ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å¤„ç†ã€‚</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>æ— å¯é¿å…çš„ï¼Œè‡ªåŠ¨åŒ–æ„å‘³ç€æ˜ å°„å’Œå…³è”ç®¡ç†ï¼Œä»£ä»·æ˜¯ç‰ºç‰²æ€§èƒ½ã€‚</li><li>å¯¹äºå¤æ‚æŸ¥è¯¢ï¼ŒORMåŠ›ä¸ä»å¿ƒ</li><li>æ‰§è¡Œæ•ˆç‡ä½è¯­ç›´æ¥ç¼–å†™çš„SQLè¯­å¥</li></ul><h2 id="DJangoæ¡†æ¶ä¸­ORMç¤ºæ„å›¾"><a href="#DJangoæ¡†æ¶ä¸­ORMç¤ºæ„å›¾" class="headerlink" title="DJangoæ¡†æ¶ä¸­ORMç¤ºæ„å›¾"></a>DJangoæ¡†æ¶ä¸­ORMç¤ºæ„å›¾</h2><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/7918604-f5fa11d7421ac4c8.png" alt="img"></p><p><img src="https://pety.oss-cn-shenzhen.aliyuncs.com/img/7918604-1facae29d03da5b5.png" alt="img"></p><p>è™½ç„¶å›¾æ˜¯Pythonï¼Œä½†æ˜¯å…¶ä»–çš„ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯ORM&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯ORM&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ORM&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ORM&lt;/h2&gt;&lt;p&gt;ORMï¼ˆObject-Relational Mapping ï¼Œå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¨¡å¼æ˜¯ä¸ºäº†è§£å†³é¢å‘å¯¹è±¡ä¸å…³ç³»æ•°æ®åº“å­˜åœ¨çš„äº’ä¸åŒ¹é…çš„ç°è±¡çš„æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;ORMä¸»è¦æ˜¯æŠŠæ•°æ®åº“ä¸­çš„å…³ç³»æ˜ å°„ä¸ºç¨‹åºä¸­çš„å¯¹è±¡ï¼Œå°†ç¨‹åºä¸­çš„å¯¹è±¡è‡ªåŠ¨æŒä¹…åŒ–åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œä»–æ˜¯éšç€é¢å‘å¯¹è±¡çš„å¼€å‘æ–¹æ³•å‘å±•èµ·æ¥çš„ï¼ŒORMåœ¨ä¸šåŠ¡é€»è¾‘å±‚å’Œæ•°æ®åº“å±‚ä¹‹é—´å……å½“äº†æ¡¥æ¢çš„ä½œç”¨ï¼Œæˆ‘ä»¬åœ¨å…·ä½“çš„æ“ä½œä¸šåŠ¡å¯¹è±¡çš„æ—¶å€™ï¼Œä¸éœ€è¦å†å»å’Œå¤æ‚çš„SQLè¯­å¥æ‰“äº¤é“ï¼Œåªéœ€ç®€å•çš„æ“ä½œå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ¡†æ¶" scheme="http://example.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>pythonåˆ›å»ºToken</title>
    <link href="http://example.com/2021/07/17/python%20%E5%88%9B%E5%BB%BAjwt/"/>
    <id>http://example.com/2021/07/17/python%20%E5%88%9B%E5%BB%BAjwt/</id>
    <published>2021-07-17T04:53:42.452Z</published>
    <updated>2021-07-22T03:34:48.553Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Pythonåˆ›å»ºToken"><a href="#Pythonåˆ›å»ºToken" class="headerlink" title="Pythonåˆ›å»ºToken"></a>Pythonåˆ›å»ºToken</h1><h2 id="å…³äº-JWT"><a href="#å…³äº-JWT" class="headerlink" title="å…³äº JWT"></a>å…³äº JWT</h2><p>JWT è¡¨ç¤º ã€ŒJSON Web Tokensã€ã€‚</p><p>å®ƒæ˜¯ä¸€ä¸ªå°† JSON å¯¹è±¡ç¼–ç ä¸ºå¯†é›†ä¸”æ²¡æœ‰ç©ºæ ¼çš„é•¿å­—ç¬¦ä¸²çš„æ ‡å‡†ã€‚å­—ç¬¦ä¸²çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><pre class="line-numbers language-none"><code class="language-none">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><a id="more"></a><p>å®ƒæ²¡æœ‰è¢«åŠ å¯†ï¼Œå› æ­¤ä»»ä½•äººéƒ½å¯ä»¥ä»å­—ç¬¦ä¸²å†…å®¹ä¸­è¿˜åŸæ•°æ®ã€‚</p><p>ä½†å®ƒç»è¿‡äº†ç­¾åã€‚å› æ­¤ï¼Œå½“ä½ æ”¶åˆ°ä¸€ä¸ªç”±ä½ å‘å‡ºçš„ä»¤ç‰Œæ—¶ï¼Œå¯ä»¥æ ¡éªŒä»¤ç‰Œæ˜¯å¦çœŸçš„ç”±ä½ å‘å‡ºã€‚</p><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæœ‰æ•ˆæœŸä¸º 1 å‘¨çš„ä»¤ç‰Œã€‚ç„¶åå½“ç”¨æˆ·ç¬¬äºŒå¤©ä½¿ç”¨ä»¤ç‰Œé‡æ–°è®¿é—®æ—¶ï¼Œä½ çŸ¥é“è¯¥ç”¨æˆ·ä»ç„¶å¤„äºç™»å…¥çŠ¶æ€ã€‚</p><p>ä¸€å‘¨åä»¤ç‰Œå°†ä¼šè¿‡æœŸï¼Œç”¨æˆ·å°†ä¸ä¼šé€šè¿‡è®¤è¯ï¼Œå¿…é¡»å†æ¬¡ç™»å½•æ‰èƒ½è·å¾—ä¸€ä¸ªæ–°ä»¤ç‰Œã€‚è€Œä¸”å¦‚æœç”¨æˆ·ï¼ˆæˆ–ç¬¬ä¸‰æ–¹ï¼‰è¯•å›¾ä¿®æ”¹ä»¤ç‰Œä»¥ç¯¡æ”¹è¿‡æœŸæ—¶é—´ï¼Œä½ å°†å› ä¸ºç­¾åä¸åŒ¹é…è€Œèƒ½å¤Ÿå‘è§‰ã€‚</p><h3 id="JWTç»„æˆ"><a href="#JWTç»„æˆ" class="headerlink" title="JWTç»„æˆ"></a>JWTç»„æˆ</h3><h4 id="Headerå¤´éƒ¨"><a href="#Headerå¤´éƒ¨" class="headerlink" title="Headerå¤´éƒ¨"></a>Headerå¤´éƒ¨</h4><p>å¤´éƒ¨åŒ…å«äº†ä¸¤éƒ¨åˆ†ï¼Œtokenç±»å‹å’Œé‡‡ç”¨çš„åŠ å¯†ç®—æ³•</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>    <span class="token property">"alg"</span><span class="token operator">:</span><span class="token string">"HS256"</span>    <span class="token property">"typ"</span><span class="token operator">:</span><span class="token string">"JWT"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¼šä½¿ç”¨Base64ç¼–ç ç»„æˆJWTç»“æ„çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚</p><h4 id="Payloadè´Ÿè½½"><a href="#Payloadè´Ÿè½½" class="headerlink" title="Payloadè´Ÿè½½"></a>Payloadè´Ÿè½½</h4><p>è´Ÿè½½å°±æ˜¯å­˜æ”¾æœ‰æ•ˆä¿¡æ¯çš„åœ°æ–¹ï¼Œè¿™äº›æœ‰æ•ˆä¿¡æ¯åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p><ul><li>æ ‡å‡†ä¸­æ³¨å†Œå£°æ˜</li><li>å…¬å…±çš„å£°æ˜</li><li>ç§æœ‰çš„å£°æ˜</li></ul><h5 id="å…¬å…±çš„å£°æ˜ï¼š"><a href="#å…¬å…±çš„å£°æ˜ï¼š" class="headerlink" title="å…¬å…±çš„å£°æ˜ï¼š"></a>å…¬å…±çš„å£°æ˜ï¼š</h5><p>å…¬å…±çš„å£°æ˜å¯ä»¥æ·»åŠ ä»»ä½•çš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ·»åŠ ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯æˆ–å…¶ä»–ä¸šåŠ¡éœ€è¦çš„å¿…è¦ä¿¡æ¯.ä½†ä¸å»ºè®®æ·»åŠ æ•æ„Ÿä¿¡æ¯ï¼Œå› ä¸ºè¯¥éƒ¨åˆ†åœ¨å®¢æˆ·ç«¯å¯è§£å¯†ã€‚</p><h5 id="ç§æœ‰çš„å£°æ˜ï¼š"><a href="#ç§æœ‰çš„å£°æ˜ï¼š" class="headerlink" title="ç§æœ‰çš„å£°æ˜ï¼š"></a>ç§æœ‰çš„å£°æ˜ï¼š</h5><p>ç§æœ‰å£°æ˜æ˜¯æä¾›è€…å’Œæ¶ˆè´¹è€…æ‰€å…±åŒå®šä¹‰çš„å£°æ˜ï¼Œä¸€èˆ¬ä¸å»ºè®®å­˜æ”¾æ•æ„Ÿä¿¡æ¯ï¼Œå› ä¸ºbase64æ˜¯å¯¹ç§°è§£å¯†çš„ï¼Œæ„å‘³ç€è¯¥éƒ¨åˆ†ä¿¡æ¯å¯ä»¥å½’ç±»ä¸ºæ˜æ–‡ä¿¡æ¯ã€‚</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>    <span class="token property">"iss"</span><span class="token operator">:</span> <span class="token string">"lion1ou JWT"</span><span class="token punctuation">,</span>    <span class="token property">"iat"</span><span class="token operator">:</span> <span class="token number">1441593502</span><span class="token punctuation">,</span>    <span class="token property">"exp"</span><span class="token operator">:</span> <span class="token number">1441594722</span><span class="token punctuation">,</span>    <span class="token property">"aud"</span><span class="token operator">:</span> <span class="token string">"www.example.com"</span><span class="token punctuation">,</span>    <span class="token property">"sub"</span><span class="token operator">:</span> <span class="token string">"lion1ou@163.com"</span><span class="token punctuation">&#125;</span><span class="token comment">// åŒ…æ‹¬éœ€è¦ä¼ é€’çš„ç”¨æˆ·ä¿¡æ¯ï¼›</span><span class="token punctuation">&#123;</span>   <span class="token property">"iss"</span><span class="token operator">:</span> <span class="token string">"Online JWT Builder"</span><span class="token punctuation">,</span>   <span class="token property">"iat"</span><span class="token operator">:</span> <span class="token number">1416797419</span><span class="token punctuation">,</span>   <span class="token property">"exp"</span><span class="token operator">:</span> <span class="token number">1448333419</span><span class="token punctuation">,</span>   <span class="token property">"aud"</span><span class="token operator">:</span> <span class="token string">"www.gusibi.com"</span><span class="token punctuation">,</span>   <span class="token property">"sub"</span><span class="token operator">:</span> <span class="token string">"uid"</span><span class="token punctuation">,</span>   <span class="token property">"nickname"</span><span class="token operator">:</span> <span class="token string">"goodspeed"</span><span class="token punctuation">,</span>   <span class="token property">"username"</span><span class="token operator">:</span> <span class="token string">"goodspeed"</span><span class="token punctuation">,</span>   <span class="token property">"scopes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"admin"</span><span class="token punctuation">,</span> <span class="token string">"user"</span> <span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>iss: è¯¥JWTçš„ç­¾å‘è€…ï¼Œæ˜¯å¦ä½¿ç”¨æ˜¯å¯é€‰çš„ï¼›</li><li>sub: è¯¥JWTæ‰€é¢å‘çš„ç”¨æˆ·ï¼Œæ˜¯å¦ä½¿ç”¨æ˜¯å¯é€‰çš„ï¼›</li><li>aud: æ¥æ”¶è¯¥JWTçš„ä¸€æ–¹ï¼Œæ˜¯å¦ä½¿ç”¨æ˜¯å¯é€‰çš„ï¼›</li><li>exp(expires): ä»€ä¹ˆæ—¶å€™è¿‡æœŸï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªUnixæ—¶é—´æˆ³ï¼Œæ˜¯å¦ä½¿ç”¨æ˜¯å¯é€‰çš„</li><li>iat(issued at): åœ¨ä»€ä¹ˆæ—¶å€™ç­¾å‘çš„(UNIXæ—¶é—´)ï¼Œæ˜¯å¦ä½¿ç”¨æ˜¯å¯é€‰çš„ï¼›</li><li>nbf (Not Before)ï¼šå¦‚æœå½“å‰æ—¶é—´åœ¨nbfé‡Œçš„æ—¶é—´ä¹‹å‰ï¼Œåˆ™Tokenä¸è¢«æ¥å—ï¼›ä¸€èˆ¬éƒ½ä¼šç•™ä¸€äº›ä½™åœ°ï¼Œæ¯”å¦‚å‡ åˆ†é’Ÿï¼›ï¼Œæ˜¯å¦ä½¿ç”¨æ˜¯å¯é€‰çš„ï¼›</li><li>jti: jwtçš„å”¯ä¸€èº«ä»½æ ‡è¯†ï¼Œä¸»è¦ç”¨æ¥ä½œä¸ºä¸€æ¬¡æ€§tokenï¼Œä»è€Œå›é¿é‡æ”¾æ”»å‡»ã€‚åŒæ ·çš„ï¼Œå®ƒä¼šä½¿ç”¨ Base64 ç¼–ç ç»„æˆ JWT ç»“æ„çš„ç¬¬äºŒéƒ¨åˆ†ã€‚</li><li>Signature ç­¾å<br>å‰é¢ä¸¤éƒ¨åˆ†éƒ½æ˜¯ä½¿ç”¨ Base64 è¿›è¡Œç¼–ç çš„ï¼Œå³å‰ç«¯å¯ä»¥è§£å¼€çŸ¥é“é‡Œé¢çš„ä¿¡æ¯ã€‚Signature éœ€è¦ä½¿ç”¨ç¼–ç åçš„ header å’Œ payload ä»¥åŠæˆ‘ä»¬æä¾›çš„ä¸€ä¸ªå¯†é’¥ï¼Œç„¶åä½¿ç”¨ header ä¸­æŒ‡å®šçš„ç­¾åç®—æ³•ï¼ˆHS256ï¼‰è¿›è¡Œç­¾åã€‚ç­¾åçš„ä½œç”¨æ˜¯ä¿è¯ JWT æ²¡æœ‰è¢«ç¯¡æ”¹è¿‡ã€‚</li></ul><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token comment">// æ ¹æ®algç®—æ³•ä¸ç§æœ‰ç§˜é’¥è¿›è¡ŒåŠ å¯†å¾—åˆ°çš„ç­¾åå­—ä¸²ï¼›</span><span class="token comment">// è¿™ä¸€æ®µæ˜¯æœ€é‡è¦çš„æ•æ„Ÿä¿¡æ¯ï¼Œåªèƒ½åœ¨æœåŠ¡ç«¯è§£å¯†ï¼›</span>HMACSHA256(      base64UrlEncode(header) + <span class="token string">"."</span> +    base64UrlEncode(payload)<span class="token punctuation">,</span>    SECREATE_KEY)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸‰ä¸ªéƒ¨åˆ†é€šè¿‡.è¿æ¥åœ¨ä¸€èµ·å°±æ˜¯æˆ‘ä»¬çš„ JWT äº†ï¼Œå®ƒå¯èƒ½é•¿è¿™ä¸ªæ ·å­ï¼Œé•¿åº¦è²Œä¼¼å’Œä½ çš„åŠ å¯†ç®—æ³•å’Œç§é’¥æœ‰å…³ç³»ã€‚</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjU3ZmVmMTY0ZTU0YWY2NGZmYzUzZGJkNSIsInhzcmYiOiI0ZWE1YzUwOGE2NTY2ZTc2MjQwNTQzZjhmZWIwNmZkNDU3Nzc3YmUzOTU0OWM0MDE2NDM2YWZkYTY1ZDIzMzBlIiwiaWF0IjoxNDc2NDI3OTMzfQ.PA3QjeyZSUh7H0GfE0vJaKW4LjKJuC3dVLQiY4hii8s<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç­¾åçš„ç›®çš„"><a href="#ç­¾åçš„ç›®çš„" class="headerlink" title="ç­¾åçš„ç›®çš„"></a>ç­¾åçš„ç›®çš„</h3><p>æœ€åä¸€æ­¥ç­¾åçš„è¿‡ç¨‹ï¼Œå®é™…ä¸Šæ˜¯å¯¹å¤´éƒ¨ä»¥åŠè´Ÿè½½å†…å®¹è¿›è¡Œç­¾åï¼Œé˜²æ­¢å†…å®¹è¢«çªœæ”¹ã€‚å¦‚æœæœ‰äººå¯¹å¤´éƒ¨ä»¥åŠè´Ÿè½½çš„å†…å®¹è§£ç ä¹‹åè¿›è¡Œä¿®æ”¹ï¼Œå†è¿›è¡Œç¼–ç ï¼Œæœ€ååŠ ä¸Šä¹‹å‰çš„ç­¾åç»„åˆå½¢æˆæ–°çš„JWTçš„è¯ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ç«¯ä¼šåˆ¤æ–­å‡ºæ–°çš„å¤´éƒ¨å’Œè´Ÿè½½å½¢æˆçš„ç­¾åå’ŒJWTé™„å¸¦ä¸Šçš„ç­¾åæ˜¯ä¸ä¸€æ ·çš„ã€‚å¦‚æœè¦å¯¹æ–°çš„å¤´éƒ¨å’Œè´Ÿè½½è¿›è¡Œç­¾åï¼Œåœ¨ä¸çŸ¥é“æœåŠ¡å™¨åŠ å¯†æ—¶ç”¨çš„å¯†é’¥çš„è¯ï¼Œå¾—å‡ºæ¥çš„ç­¾åä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><blockquote><p>itsdangerous(ä½¿ç”¨å›ºå®šå¯†é’¥/å­—ç¬¦ä¸²è¿›è¡ŒåŠ å¯†, jwt æœ‰å¤šç§åŠ å¯†æ–¹å¼, è¿™åªæ˜¯å…¶ä¸­ä¸€ç§, å»ºè®®å…ˆå»äº†è§£ä¸€ä¸‹)æ‰€ç”Ÿæˆçš„ token ä»ç„¶æ˜¯å¯ä»¥è¢«ç ´è¯‘ä»è€Œçœ‹åˆ° jwt çš„ payload(æœ‰æ•ˆè´Ÿè½½) é‡Œçš„æ•°æ®, åªä¸è¿‡å› ä¸ºç ´è¯‘è€…å¹¶ä¸çŸ¥é“åŠ å¯†çš„å¯†é’¥, ä¹Ÿå°±æ— æ³•å¯¹æ•°æ®è¿›è¡Œç¯¡æ”¹, æ‰€ä»¥å¦‚æœæ˜¯ç§å¯†çš„æ•°æ®, å°±ä¸åº”è¯¥ä½¿ç”¨ jwt è¿›è¡Œä¼ é€’, å¦‚ è´¦å·çš„å¯†ç , ä»¥é˜²æ­¢æ³„éœ². å¦‚æœéœ€è¦ä¼ é€’ç§å¯†æ•°æ®, è§£å†³åŠæ³•æ˜¯,å¯¹ payload çš„æ•°æ®è¿›è¡ŒåŠ å¯†,ä»è€Œæœç»éæ³•ç ´è¯‘è€…çœ‹åˆ° payload å†…çš„ä»»ä½•ä¿¡æ¯,ä½†æ˜¯ç›®å‰åŠ å¯†payloadçš„æ“ä½œä¸æ˜¯å¾ˆæ™®åŠ,åœ¨ä¸åŠ å¯† payload çš„å‰æä¸‹, jwt æ¯”è¾ƒé€‚åˆè¿›è¡Œéå—ä¿¡ä»»ç«¯çš„èº«ä»½éªŒè¯, æ­¤æ—¶å³ä½¿æ¥æ”¶æ–¹ç ´è¯‘äº† token, çœ‹åˆ°äº† payload çš„æ•°æ®, ä¹Ÿä¸ä¼šé€ æˆå¤ªå¤§çš„å½±å“, å› ä¸ºæ•°æ®æ˜¯æ— æ³•è¢«ç¯¡æ”¹çš„(å½“æ¥æ”¶æ–¹å°† token å€¼è¿”å›ç»™æœåŠ¡å™¨å, éœ€è¦ä½¿ç”¨ç›¸åŒçš„å¯†é’¥è¿›è¡Œè§£å¯†, æ‰€ä»¥æœåŠ¡å™¨çš„å¯†é’¥ä¸€å®šè¦ä¿ç®¡å¥½), åªè¦æ¥æ”¶æ–¹å°† token åŸå°ä¸åŠ¨çš„è¿”å›ç»™æœåŠ¡å™¨, é‚£ä¹ˆæœåŠ¡å™¨å°±å¯ä»¥æ ¹æ® token å€¼çš„å†…å®¹æ¥ç¡®è®¤æ¥æ”¶æ–¹èº«ä»½çš„åˆæ³•æ€§,è€Œä¸éœ€è¦å…³å¿ƒæ¥æ”¶æ–¹æ˜¯å¦çœ‹åˆ°è¿‡ payload çš„å†…å®¹.</p><p>ã€€ç®€è€Œè¨€ä¹‹, é™¤éé¢å¤–å¯¹ payload åŠ å¯†è¿‡, å¦åˆ™å°±ä¸è¦åœ¨ jwt ä¸­ä¼ é€’ä¸å¯è¢«ç¬¬ä¸‰æ–¹è·çŸ¥çš„ç§å¯†æ•°æ®</p></blockquote><h2 id="å®‰è£…python-jose"><a href="#å®‰è£…python-jose" class="headerlink" title="å®‰è£…python-jose"></a>å®‰è£…<code>python-jose</code></h2><p>éœ€è¦å®‰è£…<code>python-jose</code>ä»¥åœ¨Pythonä¸­ç”Ÿæˆå’Œæ ¡éªŒJWTä»¤ç‰Œï¼š</p><p><code>pip install python-jose</code></p><h2 id="ç”Ÿæˆå’Œè§£æjwt"><a href="#ç”Ÿæˆå’Œè§£æjwt" class="headerlink" title="ç”Ÿæˆå’Œè§£æjwt"></a>ç”Ÿæˆå’Œè§£æjwt</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#ä»joseå¯¼å…¥jwtï¼Œç”¨äºtokençš„ç”Ÿæˆå’ŒéªŒè¯</span><span class="token keyword">from</span> jose <span class="token keyword">import</span> jwt<span class="token comment">#å¯¼å…¥æ—¥æœŸæ¨¡å—ï¼Œç”¨æ¥è®¾ç½®å’ŒéªŒè¯tokençš„è¿‡æœŸæ—¶é—´</span><span class="token keyword">from</span> datetime <span class="token keyword">import</span>  datetime<span class="token punctuation">,</span>timedelta<span class="token comment">#å¯†é’¥ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œå¯ä»¥é€šè¿‡ä»–æ¥éªŒè¯æ˜¯å¦æ˜¯è‡ªå·±ç­¾å‘çš„token</span><span class="token comment">#å†…å®¹å¯ä»¥éšä¾¿å†™ï¼Œä¹Ÿå¯ä»¥ä¸å®šä¹‰å˜é‡</span>SECRT_KEY<span class="token operator">=</span><span class="token string">"hut@pty"</span><span class="token comment">#ç”Ÿæˆtokençš„ä»£ç ï¼Œtokenè¿‡æœŸæ—¶é•¿å®šä¹‰ä¸ºé»˜è®¤å‚æ•°ï¼Œå•ä½ä¸ºç§’</span><span class="token keyword">def</span> <span class="token function">create_token</span><span class="token punctuation">(</span>seconds<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#å®šä¹‰è¿‡æœŸæ—¶é—´ï¼Œå½“å‰æ—¶é—´+60ç§’</span>    expire <span class="token operator">=</span> datetime<span class="token punctuation">.</span>utcnow<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>timedelta<span class="token punctuation">(</span>seconds<span class="token operator">=</span>seconds<span class="token punctuation">)</span>    <span class="token comment">#å®šä¹‰ç­¾å‘æ—¶é—´</span>    iat <span class="token operator">=</span> datetime<span class="token punctuation">.</span>utcnow<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">#å®šä¹‰tokençš„payloadï¼Œè®¾ç½®äº†è¿‡æœŸæ—¶é—´,ç­¾å‘æ—¶é—´ï¼Œusernameï¼ˆè‡ªå®šä¹‰ï¼‰...</span>    <span class="token comment">#æ­¤å¤„çš„to_encodeè¿˜å¯ä»¥æ˜¯ç©ºçš„å­—å…¸ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™æ ·</span>    to_encode<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"expire"</span><span class="token punctuation">:</span>expire<span class="token punctuation">,</span><span class="token string">"username"</span><span class="token punctuation">:</span><span class="token string">"pty"</span><span class="token punctuation">,</span><span class="token string">"iat"</span><span class="token punctuation">:</span>iat<span class="token punctuation">&#125;</span>    <span class="token comment">#ä½¿ç”¨jwtç”Ÿæˆtokenï¼Œä¼ å…¥payloadã€ç­¾åã€éªŒè¯ç®—æ³•</span>    token <span class="token operator">=</span>jwt<span class="token punctuation">.</span>encode<span class="token punctuation">(</span>to_encode<span class="token punctuation">,</span>SECRT_KEY<span class="token punctuation">,</span><span class="token string">"HS256"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> token<span class="token comment">#è§£æjwt</span><span class="token keyword">def</span> <span class="token function">verify_token</span><span class="token punctuation">(</span>token<span class="token punctuation">:</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#è§£æjwtï¼Œéœ€è¦ä¼ å…¥tokenï¼Œç­¾åï¼ŒéªŒè¯ç®—æ³•ï¼Œè¿”å›tokençš„payload</span>    payload <span class="token operator">=</span> jwt<span class="token punctuation">.</span>decode<span class="token punctuation">(</span>token<span class="token punctuation">,</span>SECRT_KEY<span class="token punctuation">,</span><span class="token string">"HS256"</span><span class="token punctuation">)</span>    <span class="token comment">#å¯ä»¥å–å‡ºpayloadçš„å€¼</span>    username <span class="token operator">=</span> payload<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;Pythonåˆ›å»ºToken&quot;&gt;&lt;a href=&quot;#Pythonåˆ›å»ºToken&quot; class=&quot;headerlink&quot; title=&quot;Pythonåˆ›å»ºToken&quot;&gt;&lt;/a&gt;Pythonåˆ›å»ºToken&lt;/h1&gt;&lt;h2 id=&quot;å…³äº-JWT&quot;&gt;&lt;a href=&quot;#å…³äº-JWT&quot; class=&quot;headerlink&quot; title=&quot;å…³äº JWT&quot;&gt;&lt;/a&gt;å…³äº JWT&lt;/h2&gt;&lt;p&gt;JWT è¡¨ç¤º ã€ŒJSON Web Tokensã€ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒæ˜¯ä¸€ä¸ªå°† JSON å¯¹è±¡ç¼–ç ä¸ºå¯†é›†ä¸”æ²¡æœ‰ç©ºæ ¼çš„é•¿å­—ç¬¦ä¸²çš„æ ‡å‡†ã€‚å­—ç¬¦ä¸²çœ‹èµ·æ¥åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;pre class=&quot;line-numbers language-none&quot;&gt;&lt;code class=&quot;language-none&quot;&gt;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;</summary>
    
    
    
    
    <category term="å·¥å…·ç±»" scheme="http://example.com/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
    <category term="python" scheme="http://example.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Javaç”ŸæˆPdfæ–‡æ¡£</title>
    <link href="http://example.com/2021/04/28/Java%E7%94%9F%E6%88%90Pdf%E6%96%87%E6%A1%A3/"/>
    <id>http://example.com/2021/04/28/Java%E7%94%9F%E6%88%90Pdf%E6%96%87%E6%A1%A3/</id>
    <published>2021-04-28T11:54:50.929Z</published>
    <updated>2021-04-28T11:54:31.677Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Javaç”ŸæˆPdfæ–‡æ¡£"><a href="#Javaç”ŸæˆPdfæ–‡æ¡£" class="headerlink" title="Javaç”ŸæˆPdfæ–‡æ¡£"></a>Javaç”ŸæˆPdfæ–‡æ¡£</h3><h4 id="æ•…äº‹èƒŒæ™¯"><a href="#æ•…äº‹èƒŒæ™¯" class="headerlink" title="æ•…äº‹èƒŒæ™¯"></a>æ•…äº‹èƒŒæ™¯</h4><p>â€‹        åœ¨åšå¡«æŠ¥ç³»ç»Ÿçš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯å°†ç”¨æˆ·å¡«æŠ¥çš„ä¿¡æ¯ç”Ÿæˆä¸€ä¸ªpdfæ–‡æ¡£ï¼Œæœ¬æ¥æ˜¯æ‰“ç®—å‰ç«¯æ¥åšè¿™ä¸ªpdfçš„ï¼Œä½†æ˜¯åé¢å‰ç«¯è¯´ä»–ç”Ÿæˆçš„æ–‡æ¡£æ˜¾ç¤ºä¸å…¨ï¼Œäºæ˜¯æˆ‘å°±è¢«è¿«æ¥å—è¿™ä¸ªä»»åŠ¡ã€‚</p><p>â€‹        ç„¶ååœ¨ç™¾åº¦äº†ä¸€ä¸¤ä¸ªå°æ—¶åï¼Œå°±å¼€å§‹ç€æ‰‹ç”»pdfæ–‡æ¡£äº†ï¼Œæ³¨æ„æ˜¯ç”»ï¼Œä¸æ˜¯ç”Ÿæˆï¼Œå°±å’Œhtmlä¸€æ ·éœ€è¦è‡ªå·±ä¸€ä¸ªä¸€ä¸ªçš„å †ç›’å­ã€‚è€Œä¸”åˆšå¼€å§‹ç”»çš„æ—¶å€™ï¼Œå‡ºç°äº†å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚è¯´è¡¨æ ¼ä¸å‡ºç°ï¼Œä¸èƒ½æ§åˆ¶åˆ—å®½â€¦â€¦ç¬¬ä¸€å¤©æäº†3ä¸ªå¤šå°æ—¶ï¼Œå°±å†™å‡ºäº†ä¸ªæ ‡é¢˜ï¼Œå¥½åœ¨ç¬¬äºŒå¤©æœ‰äº†ç¬¬ä¸€å¤©çš„æ•™è®­ï¼Œæ‘¸æ¸…æ¥šäº†ä½¿ç”¨æ–¹æ³•ï¼ŒèŠ±äº†ä¸€ä¸ªä¸‹åˆç»™ç”»å¥½äº†ã€‚</p><a id="more"></a><p>â€‹            å†™ä¸‹è¿™ç¯‡åšå®¢ï¼Œæ¥è®°å½•ä¸‹ï¼Œé¡ºä¾¿åšä¸ªå·¥å…·ç±»ï¼Œä¸‡ä¸€ä»¥åè¿˜éœ€è¦ä½¿ç”¨ã€‚</p><h4 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.itextpdf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>itextpdf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.5.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.itextpdf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>itext-asian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éœ€è¦å¯¼å…¥ä»¥ä¸Šä¸¤ä¸ªä¾èµ–ã€‚</p><h4 id="å¿«é€Ÿå…¥é—¨"><a href="#å¿«é€Ÿå…¥é—¨" class="headerlink" title="å¿«é€Ÿå…¥é—¨"></a>å¿«é€Ÿå…¥é—¨</h4><ul><li>åˆ›å»ºdocumentå¯¹è±¡ </li><li>è·å–PdfWriterå®ä¾‹</li><li>æ‰“å¼€documentæ–‡æ¡£</li><li>å‘æ–‡æ¡£å†™å…¥å†…å®¹</li><li>å…³é—­æ–‡æ¡£</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span>pty</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">Document</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">DocumentException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">Paragraph</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span></span><span class="token class-name">PdfWriter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileNotFoundException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pdf</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">FileNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">DocumentException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºdocumentå¯¹è±¡</span>        <span class="token class-name">Document</span> document <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Document</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–Pdfwriterå®ä¾‹ï¼Œå°†ç”Ÿæˆçš„pdfå†™å…¥ D:\hello.pdf</span>        <span class="token class-name">PdfWriter</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"D:\\hello.pdf"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ‰“å¼€æ–‡æ¡£</span>        document<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å‘æ–‡æ¡£æ·»åŠ å†…å®¹</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span><span class="token string">"helloworld"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//å…³é—­æ–‡æ¡£</span>        document<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šè¿°æ˜¯ä¸€ä¸ªç®€å•çš„ç”Ÿæˆpdfçš„ç¨‹åºï¼Œå‘<code>D:\hello.pdf</code>å†™å…¥äº†helloworldå†…å®¹ã€‚</p><p>ä½†æ˜¯ä¸€èˆ¬æˆ‘ä»¬ç”Ÿæˆçš„pdfå¹¶ä¸ä¼šè¿™ä¹ˆç®€å•ï¼Œè¿˜éœ€è¦è¡¨æ ¼ç­‰ä¿¡æ¯ã€‚</p><h4 id="itextå¸¸ç”¨API"><a href="#itextå¸¸ç”¨API" class="headerlink" title="itextå¸¸ç”¨API"></a>itextå¸¸ç”¨API</h4><h5 id="æ®µè½"><a href="#æ®µè½" class="headerlink" title="æ®µè½"></a>æ®µè½</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//xxxä¸ºæ®µè½çš„å®é™…å†…å®¹ï¼Œfontchina18æ˜¯å­—ä½“ï¼Œè¿™ä¸ªæ˜¯ä¹‹å‰ä»£ç å·²ç»è®¾ç½®å¥½çš„ï¼Œä¸èƒ½é€šç”¨ï¼Œè¦è‡ªå·±è®¾ç½®</span><span class="token class-name">Paragraph</span> paragraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span><span class="token string">"xxxx"</span><span class="token punctuation">,</span>fontChina18<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®æ–‡å­—å¯¹é½æ–¹å¼ 0é å·¦å¯¹é½ï¼Œ1å±…ä¸­å¯¹é½ï¼Œ2é å³å¯¹é½</span>paragraph<span class="token punctuation">.</span><span class="token function">setAlignment</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®å·¦è¾¹ç¼©è¿›å‡ ä¸ªå­—ç¬¦</span>paragraph<span class="token punctuation">.</span><span class="token function">setIndentationLeft</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®å³è¾¹ç¼©è¿›å‡ ä¸ªå­—ç¬¦</span>paragraph<span class="token punctuation">.</span><span class="token function">setIndentationRight</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®é¦–è¡Œç¼©è¿›å‡ ä¸ªå­—ç¬¦</span>paragraph<span class="token punctuation">.</span><span class="token function">setFirstLineIndent</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¡Œé—´è·</span>paragraph<span class="token punctuation">.</span><span class="token function">setLeading</span><span class="token punctuation">(</span><span class="token number">20f</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®æ®µè½ä¸Šç©ºç™½</span>paragraph<span class="token punctuation">.</span><span class="token function">setSpacingBefore</span><span class="token punctuation">(</span><span class="token number">5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®æ®µè½ä¸‹ç©ºç™½</span>paragraph<span class="token punctuation">.</span><span class="token function">setSpacingAfter</span><span class="token punctuation">(</span><span class="token number">10f</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å°†æ®µè½æ·»åŠ åˆ°æ–‡æ¡£</span>document<span class="token punctuation">.</span><span class="token function">addd</span><span class="token punctuation">(</span>paragraph<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ ‡é¢˜ä¸€èˆ¬ç›´æ¥å±…ä¸­æ˜¾ç¤ºï¼ŒåŒæ—¶å¯ä»¥è®¾ç½®ä¸€ä¸ªç©ºçš„æ®µè½ï¼Œä»è€Œå®ç°ç©ºä¸€è¡Œçš„æ“ä½œ  Paragraph paragraph = new Paragraph(â€œ â€œ);  ,æ³¨æ„å¼•å·ä¹‹é—´æœ‰ä¸ªç©ºæ ¼ï¼Œæ²¡æœ‰ç©ºæ ¼å¥½åƒå¹¶ä¸èƒ½è¡¨ç¤ºä¸€ä¸ªç©ºçš„æ®µè½,è®¾ç½®å®Œæ®µè½åï¼Œåˆ«å¿˜äº†åŠ å…¥åˆ°æ–‡æ¡£</strong></p><h5 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//åˆ›å»ºæŒ‡å®šåˆ—çš„è¡¨æ ¼ï¼Œä¸‹é¢ä»£ç ä¸ºåˆ›å»ºåˆ—æ•°ä¸º3çš„è¡¨æ ¼</span><span class="token class-name">PdfPTable</span> table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPTable</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ›å»ºæŒ‡å®šåˆ—å®½çš„è¡¨æ ¼ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„ä¸ªæ•°å°±æ˜¯åˆ—çš„ä¸ªæ•°ï¼Œæ•°ç»„çš„æ•°å­—å°±æ˜¯åˆ—å®½</span><span class="token comment">//è‡ªå®šä¹‰åˆ—å®½çš„æ—¶å€™è¦è®¾ç½®LockedWidthä¸ºtrueï¼Œå°†å®½åº¦é”å®š</span><span class="token class-name">PdfPTable</span> table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>table<span class="token punctuation">.</span><span class="token function">setLockedWidth</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®è¡¨æ ¼çš„æ€»å®½åº¦</span>table<span class="token punctuation">.</span><span class="token function">setTotalWidth</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®è¡¨æ ¼çš„è¾¹æ¡†å®½åº¦ï¼Ÿ</span>table<span class="token punctuation">.</span><span class="token function">getDefaultCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBorder</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®è¡¨æ ¼å é¡µé¢çš„å¤šå°‘ï¼Œå¦‚å›¾è®¾ç½®ä¸º100%</span>table<span class="token punctuation">.</span><span class="token function">setWidthPercentage</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†è¡¨æ ¼æ·»åŠ åˆ°æ–‡æ¡£ä¸­</span>document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å•å…ƒæ ¼"><a href="#å•å…ƒæ ¼" class="headerlink" title="å•å…ƒæ ¼"></a>å•å…ƒæ ¼</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//åˆ›å»ºä¸€ä¸ªå•å…ƒæ ¼</span><span class="token class-name">PdfPCell</span> cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®å•å…ƒæ ¼è·¨å‡ åˆ—</span>cell<span class="token punctuation">.</span><span class="token function">setColspan</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®å•å…ƒæ ¼è·¨å‡ è¡Œ</span>cell<span class="token punctuation">.</span><span class="token function">setRowspan</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®å•å…ƒæ ¼è¾¹æ¡†å®½åº¦</span>cell<span class="token punctuation">.</span><span class="token function">setBorderWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®æ°´å¹³å±…ä¸­</span>cell<span class="token punctuation">.</span><span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_CENTER<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®å‚ç›´å±…ä¸­</span>cell<span class="token punctuation">.</span><span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_MIDDLE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®å•å…ƒæ ¼å†…å®¹</span>cell<span class="token punctuation">.</span><span class="token function">setPhrase</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">,</span>å­—ä½“<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†å•å…ƒæ ¼åŠ å…¥åˆ°è¡¨æ ¼ä¸­</span>table<span class="token punctuation">.</span><span class="token function">addcell</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ªæœ‰7åˆ—çš„è¡¨æ ¼ï¼Œä½†æ˜¯ä½ åªæ·»åŠ äº†6ä¸ªå•å…ƒæ ¼ï¼Œé‚£ä¹ˆè¡¨æ ¼çš„å†…å®¹æ˜¯ä¸ä¼šåœ¨é¡µé¢ä¸­æ˜¾ç¤ºå‡ºæ¥ï¼Œåªæœ‰å½“æ·»åŠ çš„å•å…ƒæ ¼çš„æ•°é‡å¤§äºåˆ—æ•°ï¼Œæ‰ä¼šæ˜¾ç¤ºå‡ºæ¥è¡¨æ ¼å†…å®¹ï¼Œæ²¡æ»¡ä¸€è¡Œçš„è¡¨æ ¼ä¸æ˜¾ç¤º</strong></p><h5 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//è§£å†³ä¸­æ–‡ä¸æ˜¾ç¤ºé—®é¢˜</span><span class="token class-name">BaseFont</span> bfChinese <span class="token operator">=</span> <span class="token class-name">BaseFont</span><span class="token punctuation">.</span><span class="token function">createFont</span><span class="token punctuation">(</span><span class="token string">"STSong-Light"</span><span class="token punctuation">,</span><span class="token string">"UniGB-UCS2-H"</span><span class="token punctuation">,</span> <span class="token class-name">BaseFont</span><span class="token punctuation">.</span>NOT_EMBEDDED<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Font</span> fontChina18 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Font</span> fontChina12 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿™é‡Œä¹Ÿæ˜¯è®¾ç½®å­—ä½“ï¼Œå®šä¹‰å…¨å±€éƒ½å¯ä»¥ä½¿ç”¨</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Font</span> titlefont<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Font</span> headfont<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Font</span> keyfont<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Font</span> textfont<span class="token punctuation">;</span>    <span class="token comment">// æœ€å¤§å®½åº¦</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> maxWidth <span class="token operator">=</span> <span class="token number">520</span><span class="token punctuation">;</span>    <span class="token comment">// é™æ€ä»£ç å—</span>    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// ä¸åŒå­—ä½“ï¼ˆè¿™é‡Œå®šä¹‰ä¸ºåŒä¸€ç§å­—ä½“ï¼šåŒ…å«ä¸åŒå­—å·ã€ä¸åŒstyleï¼‰</span>            <span class="token class-name">BaseFont</span> bfChinese <span class="token operator">=</span> <span class="token class-name">BaseFont</span><span class="token punctuation">.</span><span class="token function">createFont</span><span class="token punctuation">(</span><span class="token string">"STSong-Light"</span><span class="token punctuation">,</span> <span class="token string">"UniGB-UCS2-H"</span><span class="token punctuation">,</span> <span class="token class-name">BaseFont</span><span class="token punctuation">.</span>NOT_EMBEDDED<span class="token punctuation">)</span><span class="token punctuation">;</span>            titlefont <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">)</span><span class="token punctuation">;</span>            headfont <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">)</span><span class="token punctuation">;</span>            keyfont <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">)</span><span class="token punctuation">;</span>            textfont <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>NORMAL<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æˆæœ"><a href="#æˆæœ" class="headerlink" title="æˆæœ"></a>æˆæœ</h4><p>é™„ä¸Šè¿™ä¸€æ¬¡ç”»pdfçš„æˆæœï¼Œä»¥åä¹Ÿå¯ä»¥ç›´æ¥æ‹¿è¿™ä¸ªåšä¸€äº›è°ƒæ•´å³å¯</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span>pty</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span></span><span class="token class-name">BaseFont</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span></span><span class="token class-name">PdfPCell</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span></span><span class="token class-name">PdfPTable</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span></span><span class="token class-name">PdfWriter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> chapter <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Font</span> titlefont<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Font</span> headfont<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Font</span> keyfont<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Font</span> textfont<span class="token punctuation">;</span>    <span class="token comment">// æœ€å¤§å®½åº¦</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> maxWidth <span class="token operator">=</span> <span class="token number">520</span><span class="token punctuation">;</span>    <span class="token comment">// é™æ€ä»£ç å—</span>    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// ä¸åŒå­—ä½“ï¼ˆè¿™é‡Œå®šä¹‰ä¸ºåŒä¸€ç§å­—ä½“ï¼šåŒ…å«ä¸åŒå­—å·ã€ä¸åŒstyleï¼‰</span>            <span class="token class-name">BaseFont</span> bfChinese <span class="token operator">=</span> <span class="token class-name">BaseFont</span><span class="token punctuation">.</span><span class="token function">createFont</span><span class="token punctuation">(</span><span class="token string">"STSong-Light"</span><span class="token punctuation">,</span> <span class="token string">"UniGB-UCS2-H"</span><span class="token punctuation">,</span> <span class="token class-name">BaseFont</span><span class="token punctuation">.</span>NOT_EMBEDDED<span class="token punctuation">)</span><span class="token punctuation">;</span>            titlefont <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">)</span><span class="token punctuation">;</span>            headfont <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">)</span><span class="token punctuation">;</span>            keyfont <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">)</span><span class="token punctuation">;</span>            textfont <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>NORMAL<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">DocumentException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºdocumentå¯¹è±¡</span>        <span class="token class-name">Document</span> document <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Document</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–PdfWriterå®ä¾‹</span>        <span class="token class-name">PdfWriter</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"D:\\hello1.pdf"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ‰“å¼€æ–‡æ¡£</span>        document<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è§£å†³ä¸­æ–‡ä¸æ˜¾ç¤ºé—®é¢˜</span>        <span class="token class-name">BaseFont</span> bfChinese <span class="token operator">=</span> <span class="token class-name">BaseFont</span><span class="token punctuation">.</span><span class="token function">createFont</span><span class="token punctuation">(</span><span class="token string">"STSong-Light"</span><span class="token punctuation">,</span><span class="token string">"UniGB-UCS2-H"</span><span class="token punctuation">,</span> <span class="token class-name">BaseFont</span><span class="token punctuation">.</span>NOT_EMBEDDED<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Font</span> fontChina18 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Font</span> fontChina12 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>bfChinese<span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ ‡é¢˜</span>        <span class="token class-name">Paragraph</span> paragraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span><span class="token string">"æ¹–å—å·¥ä¸šå¤§å­¦2021-2023å¹´å²—ä½å®šçº§ç”³è¯·è¡¨"</span><span class="token punctuation">,</span>fontChina18<span class="token punctuation">)</span><span class="token punctuation">;</span>        paragraph<span class="token punctuation">.</span><span class="token function">setAlignment</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å±…ä¸­</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>paragraph<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Paragraph</span> blank <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>        chapter chapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">chapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¡¨æ ¼</span>        <span class="token class-name">PdfPTable</span> table <span class="token operator">=</span> chapter<span class="token punctuation">.</span><span class="token function">creteTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ä¸ªäººä¿¡æ¯</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"ä¸ªäººä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å§“å"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æ€§åˆ«"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"ç”·"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å½’å£å•ä½"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"è®¡ç®—æœºå­¦é™¢"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"ç°ä»»ä¸“ä¸šæŠ€æœ¯èŒåŠ¡"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æ•™æˆ"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å–å¾—æ—¶é—´"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"ä¸“ä¸šæŠ€æœ¯è¯ä¹¦ç¼–å·"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"ç”³è¯·å²—ä½ç±»åˆ«"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"ä¸“ä¸šæŠ€æœ¯å²—ä½"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"ç”³è¯·å²—ä½ç­‰çº§"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æ•™æˆå››çº§"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æ•™å¸ˆèµ„æ ¼è¯ä¹¦ç¼–å·"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å·¥ä½œä¸šç»©å–å¾—çš„å¹´åº¦"</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"2017å¹´   2018å¹´   2019å¹´   2020å¹´"</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¿…é€‰æ¡ä»¶</span>        <span class="token class-name">PdfPTable</span> table1 <span class="token operator">=</span> chapter<span class="token punctuation">.</span><span class="token function">creteTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">"å¿…é€‰æ¡ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å‘è¡¨ä¸­å¿ƒæ ¸å¿ƒæœŸåˆŠè®ºæ–‡3ç¯‡"</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"åºå·"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å‘è¡¨æ—¶é—´"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"è®ºæ–‡æ ‡é¢˜ï¼ˆä¹¦åï¼‰"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æ’å"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"åˆŠç‰©åç§°"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å®¡æ ¸äººç­¾å­—ç›–ç« "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"2017"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            table1<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>table1<span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä»»é€‰æ¡ä»¶</span>        <span class="token class-name">PdfPTable</span> table2 <span class="token operator">=</span> chapter<span class="token punctuation">.</span><span class="token function">creteTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//TODO è¿™é‡Œè·¨å‡ è¡Œåº”è¯¥æ ¹æ®å‰ç«¯ä¼ è¿‡æ¥çš„æ•°æ®åŠ¨æ€å˜åŒ–ï¼Œå…ˆå†™æ­»</span>        table2<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"ä»»é€‰æ¡ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//TODO è¿™é‡Œçš„åå­—åº”è¯¥ä¹Ÿæ˜¯åŠ¨æ€çš„ï¼Œå…ˆå†™æ­»</span>        chapter<span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span>table2<span class="token punctuation">,</span><span class="token string">"D01 æ¹–å—çœæ™®é€šé«˜æ ¡å­¦ç§‘å¸¦å¤´äººåŸ¹å…»å¯¹è±¡æˆ–å…¥é€‰çœâ€œæ€æƒ³æ”¿æ²»æ•™è‚²ä¸­é’å¹´æ°å‡ºäººæ‰æ”¯æŒè®¡åˆ’â€ã€æˆ–çœæ–‡è‰ºäººæ‰æ‰¶æŒâ€œä¸‰ç™¾å·¥ç¨‹"</span><span class="token punctuation">,</span><span class="token string">"è£èª‰ç§°å·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        chapter<span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span>table2<span class="token punctuation">,</span><span class="token string">"D05 çœéƒ¨çº§æ•™å­¦æˆæœä¸€ç­‰çº§å‰5åã€æˆ–äºŒç­‰å¥–å‰4åã€æˆ–ä¸‰ç­‰å¥–å‰2å"</span><span class="token punctuation">,</span><span class="token string">"å¥–é¡¹åç§°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        chapter<span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span>table2<span class="token punctuation">,</span><span class="token string">"D10 å›½å®¶çº§æ•™å­¦å·¥ç¨‹é¡¹ç›®çš„å‰6å"</span><span class="token punctuation">,</span><span class="token string">"é¡¹ç›®(ä¸“åˆ©åç§°)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        chapter<span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span>table2<span class="token punctuation">,</span><span class="token string">"D16 ä¸€ç­‰åˆŠæœŸã€æˆ–CSSCI/CSCDæœŸåˆŠè®ºæ–‡1ç¯‡ï¼Œæˆ–å›½å¤–ä¸“ä¸šå­¦æœ¯æœŸåˆŠè®ºæ–‡1ç¯‡ï¼Œæˆ–ä¸‰å¤§æ£€ç´¢æ”¶å½•è®ºæ–‡1ç¯‡ï¼Œæˆ–è¢«ã€Šæ–°åæ–‡æ©˜ã€‹/ã€Šä¸­å›½ç¤¾ä¼šç§‘å­¦æ–‡æ‘˜ã€‹/ã€Šäººå¤§å¤å°èµ„æ–™ã€‹å…¨æ–‡æ”¶å½•è®ºæ–‡1ç¯‡"</span><span class="token punctuation">,</span><span class="token string">"è®ºæ–‡æ ‡é¢˜ï¼ˆä¹¦åï¼‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>table2<span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ•™å­¦æƒ…å†µ</span>        <span class="token class-name">PdfPTable</span> table3 <span class="token operator">=</span> chapter<span class="token punctuation">.</span><span class="token function">creteTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table3<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"æ•™å­¦æƒ…å†µ"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table3<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"åºå·"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table3<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æ—¶é—´"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table3<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"è¯¾ç¨‹åç§°"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table3<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å·¥ä½œå®Œæˆé‡(ç§¯åˆ†)"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table3<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å®¡æ ¸äººç­¾å­—ç›–ç« "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//TODO è¿™é‡Œå¾ªç¯æ¬¡æ•°å’Œå¹´ä»½ä¹Ÿåº”è¯¥åŠ¨æ€å˜åŒ–</span>        <span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">2017</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            chapter<span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span>table3<span class="token punctuation">,</span>s<span class="token punctuation">,</span>year<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>table3<span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä¸ªäººæ‰¿è¯º</span>        <span class="token class-name">PdfPTable</span> table4 <span class="token operator">=</span> chapter<span class="token punctuation">.</span><span class="token function">creteTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">680</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table4<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"ä¸ªäººæ‰¿è¯º"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table4<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"\n\n\n\n\næœ¬äººä¿è¯æœ¬è¡¨æ‰€å¡«å†…å®¹æƒ…å†µå±å®ï¼Œå¦åˆ™æ„¿æ„æ‰¿æ‹…ä¸€åˆ‡åæœå’Œè´£ä»»ã€‚\n\n"</span><span class="token operator">+</span>                                               <span class="token string">"                                                        æœ¬äººç­¾å­—ï¼š"</span><span class="token operator">+</span><span class="token string">"\n\n"</span><span class="token operator">+</span>                                               <span class="token string">"                                                        å¹´      æœˆ     æ—¥\n\n\n\n\n"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>table4<span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ‰€åœ¨å•ä½æ¨èæ„è§</span>        <span class="token class-name">PdfPTable</span> table5 <span class="token operator">=</span> chapter<span class="token punctuation">.</span><span class="token function">creteTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">680</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table5<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æ‰€åœ¨å•ä½æ¨èæ„è§"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table5<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"\n\n\n\n\nç»æœ¬å•ä½è¯„è®®ï¼Œè¯¥åŒå¿—åœ¨æœ¬æ¬¡è€ƒæ ¸å®šçº§ä¸­ï¼Œ ç¬¦åˆå²—ä½çš„è˜ä»»æ¡ä»¶ï¼ŒåŒæ„æ¨èä¸ŠæŠ¥\n\n"</span><span class="token operator">+</span>                                            <span class="token string">"                                                        å•ä½è´Ÿè´£äººç­¾å­—ï¼ˆå•ä½å…¬ç« ï¼‰\n\n"</span><span class="token operator">+</span>                                            <span class="token string">"                                                        å¹´      æœˆ       æ—¥\n\n\n\n\n"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>table5<span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">PdfPTable</span> table6 <span class="token operator">=</span> chapter<span class="token punctuation">.</span><span class="token function">creteTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">680</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table6<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å­¦æ ¡å²—ä½å®šçº§å·¥ä½œé¢†å¯¼å°ç»„æ„è§"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table6<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>chapter<span class="token punctuation">.</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"\n\n\n\n\nç»å®¡æ ¸ï¼ŒåŒæ„æ ¸å‡†è¯¥åŒå¿—è˜ç”¨åˆ° å²—ä½ çº§ï¼Œè˜æœŸä¸º2020å¹´1æœˆ1æ—¥è‡³2023å¹´12æœˆ31æ—¥ã€‚\n\n"</span><span class="token operator">+</span>                <span class="token string">"                                                        ç­¾å­—ï¼ˆå…¬ç« ï¼‰\n\n"</span><span class="token operator">+</span>                <span class="token string">"                                                        å¹´      æœˆ       æ—¥\n\n\n\n\n\n\n"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>table6<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å…³é—­</span>        document<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç®€å•çš„å•å…ƒæ ¼</span>    <span class="token keyword">public</span> <span class="token class-name">PdfPCell</span> <span class="token function">createCell</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">PdfPCell</span> cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_MIDDLE<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setBorderWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_CENTER<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setPhrase</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>textfont<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setFixedHeight</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  cell<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç®€å•çš„å•å…ƒæ ¼</span>    <span class="token keyword">public</span> <span class="token class-name">PdfPCell</span> <span class="token function">createCell</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">,</span><span class="token keyword">boolean</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">PdfPCell</span> cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_MIDDLE<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setBorderWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_CENTER<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setPhrase</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>textfont<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  cell<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è·¨åˆ—çš„å•å…ƒæ ¼</span>    <span class="token keyword">public</span> <span class="token class-name">PdfPCell</span> <span class="token function">createCell</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">PdfPCell</span> cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_MIDDLE<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setColspan</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setBorderWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_CENTER<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setPhrase</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>textfont<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setFixedHeight</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  cell<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è·¨è¡Œçš„å•å…ƒæ ¼</span>    <span class="token keyword">public</span> <span class="token class-name">PdfPCell</span> <span class="token function">createCell</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token class-name">String</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">PdfPCell</span> cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_MIDDLE<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setRowspan</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setBorderWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_CENTER<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setPhrase</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>textfont<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setFixedHeight</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  cell<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è·¨åˆ—çš„ è‡ªå®šä¹‰å¯¹é½æ–¹å¼å•å…ƒæ ¼</span>    <span class="token keyword">public</span> <span class="token class-name">PdfPCell</span> <span class="token function">createCell</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">,</span><span class="token keyword">int</span> col<span class="token punctuation">,</span><span class="token keyword">int</span> alin<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">PdfPCell</span> cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">.</span>ALIGN_MIDDLE<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setColspan</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setBorderWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span>alin<span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setPhrase</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>textfont<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cell<span class="token punctuation">.</span><span class="token function">setFixedHeight</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  cell<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ›å»ºè¡¨æ ¼</span>    <span class="token keyword">public</span> <span class="token class-name">PdfPTable</span> <span class="token function">creteTable</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cols<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">PdfPTable</span> table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfPTable</span><span class="token punctuation">(</span>cols<span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">setTotalWidth</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">setLockedWidth</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">getDefaultCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBorder</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">setWidthPercentage</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> table<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ›å»ºä»»é€‰æ¡ä»¶æ—¶çš„è¡¨æ ¼</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createTable</span><span class="token punctuation">(</span><span class="token class-name">PdfPTable</span> table<span class="token punctuation">,</span><span class="token class-name">String</span> title<span class="token punctuation">,</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"åºå·"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å‘è¡¨æ—¶é—´"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æ’å"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"æˆäºˆç»„ç»‡"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"å®¡æ ¸äººç­¾å­—ç›–ç« "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">"2017"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ•™å­¦æƒ…å†µ</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createTable</span><span class="token punctuation">(</span><span class="token class-name">PdfPTable</span> table<span class="token punctuation">,</span><span class="token class-name">String</span> t<span class="token punctuation">,</span><span class="token keyword">int</span> year<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        table<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token function">createCell</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;Javaç”ŸæˆPdfæ–‡æ¡£&quot;&gt;&lt;a href=&quot;#Javaç”ŸæˆPdfæ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;Javaç”ŸæˆPdfæ–‡æ¡£&quot;&gt;&lt;/a&gt;Javaç”ŸæˆPdfæ–‡æ¡£&lt;/h3&gt;&lt;h4 id=&quot;æ•…äº‹èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#æ•…äº‹èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;æ•…äº‹èƒŒæ™¯&quot;&gt;&lt;/a&gt;æ•…äº‹èƒŒæ™¯&lt;/h4&gt;&lt;p&gt;â€‹        åœ¨åšå¡«æŠ¥ç³»ç»Ÿçš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯å°†ç”¨æˆ·å¡«æŠ¥çš„ä¿¡æ¯ç”Ÿæˆä¸€ä¸ªpdfæ–‡æ¡£ï¼Œæœ¬æ¥æ˜¯æ‰“ç®—å‰ç«¯æ¥åšè¿™ä¸ªpdfçš„ï¼Œä½†æ˜¯åé¢å‰ç«¯è¯´ä»–ç”Ÿæˆçš„æ–‡æ¡£æ˜¾ç¤ºä¸å…¨ï¼Œäºæ˜¯æˆ‘å°±è¢«è¿«æ¥å—è¿™ä¸ªä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;â€‹        ç„¶ååœ¨ç™¾åº¦äº†ä¸€ä¸¤ä¸ªå°æ—¶åï¼Œå°±å¼€å§‹ç€æ‰‹ç”»pdfæ–‡æ¡£äº†ï¼Œæ³¨æ„æ˜¯ç”»ï¼Œä¸æ˜¯ç”Ÿæˆï¼Œå°±å’Œhtmlä¸€æ ·éœ€è¦è‡ªå·±ä¸€ä¸ªä¸€ä¸ªçš„å †ç›’å­ã€‚è€Œä¸”åˆšå¼€å§‹ç”»çš„æ—¶å€™ï¼Œå‡ºç°äº†å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚è¯´è¡¨æ ¼ä¸å‡ºç°ï¼Œä¸èƒ½æ§åˆ¶åˆ—å®½â€¦â€¦ç¬¬ä¸€å¤©æäº†3ä¸ªå¤šå°æ—¶ï¼Œå°±å†™å‡ºäº†ä¸ªæ ‡é¢˜ï¼Œå¥½åœ¨ç¬¬äºŒå¤©æœ‰äº†ç¬¬ä¸€å¤©çš„æ•™è®­ï¼Œæ‘¸æ¸…æ¥šäº†ä½¿ç”¨æ–¹æ³•ï¼ŒèŠ±äº†ä¸€ä¸ªä¸‹åˆç»™ç”»å¥½äº†ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="å·¥å…·ç±»" scheme="http://example.com/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>javaç”ŸæˆäºŒç»´ç </title>
    <link href="http://example.com/2021/04/27/java%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81/"/>
    <id>http://example.com/2021/04/27/java%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81/</id>
    <published>2021-04-27T14:50:40.753Z</published>
    <updated>2021-04-28T11:58:39.971Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Javaç”ŸæˆäºŒç»´ç "><a href="#Javaç”ŸæˆäºŒç»´ç " class="headerlink" title="Javaç”ŸæˆäºŒç»´ç "></a>Javaç”ŸæˆäºŒç»´ç </h3><h4 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h4><a id="more"></a><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.google.zxing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.google.zxing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸å¸¦logo"><a href="#ä¸å¸¦logo" class="headerlink" title="ä¸å¸¦logo"></a>ä¸å¸¦logo</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span>pty</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span></span><span class="token class-name">BarcodeFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span></span><span class="token class-name">EncodeHintType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span></span><span class="token class-name">MultiFormatWriter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span></span><span class="token class-name">WriterException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span>client<span class="token punctuation">.</span>j2se<span class="token punctuation">.</span></span><span class="token class-name">MatrixToImageWriter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">BitMatrix</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span>qrcode<span class="token punctuation">.</span>decoder<span class="token punctuation">.</span></span><span class="token class-name">ErrorCorrectionLevel</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token class-name">Path</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QRCodeUtil</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// äºŒç»´ç å°ºå¯¸</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> QRCODE_SIZE <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>    <span class="token comment">// LOGOå®½åº¦</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> WIDTH <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>    <span class="token comment">// LOGOé«˜åº¦</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> HEIGHT <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">createQrcode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">WriterException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>       <span class="token comment">//äºŒç»´ç ä¸­çš„å†…å®¹ï¼Œè¿™ä¸ªå†…å®¹ä¸€èˆ¬éƒ½éœ€è¦ä¼ å‚è¿‡æ¥ï¼Œæˆ‘è¿™é‡Œå…ˆå†™æ­»</span>       <span class="token class-name">String</span> contents <span class="token operator">=</span> <span class="token string">"http://baidu.com"</span><span class="token punctuation">;</span>       <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è®¾ç½®å­—ç¬¦é›†</span>       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">.</span>CHARACTER_SET<span class="token punctuation">,</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è®¾ç½®çº é”™ç­‰çº§L/M/Q/H,ç­‰çº§è¶Šé«˜è¶Šä¸å®¹æ˜“è¯†åˆ«ï¼Œç­‰çº§æœ€é«˜ä¸ºH</span>       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">.</span>ERROR_CORRECTION<span class="token punctuation">,</span> <span class="token class-name">ErrorCorrectionLevel</span><span class="token punctuation">.</span><span class="token class-name">M</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è®¾ç½®è¾¹æ¡†</span>       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">.</span>MARGIN<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è®¾ç½®ç”Ÿæˆçš„å›¾ç‰‡çš„åç¼€å</span>       <span class="token class-name">String</span> format <span class="token operator">=</span> <span class="token string">"png"</span><span class="token punctuation">;</span>       <span class="token class-name">BitMatrix</span> bitMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MultiFormatWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>contents<span class="token punctuation">,</span> <span class="token class-name">BarcodeFormat</span><span class="token punctuation">.</span>QR_CODE<span class="token punctuation">,</span> WIDTH<span class="token punctuation">,</span> HEIGHT<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è®¾ç½®è¾“å‡ºåœ°å€</span>       <span class="token class-name">Path</span> file<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"D:/new.png"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">MatrixToImageWriter</span><span class="token punctuation">.</span><span class="token function">writeToPath</span><span class="token punctuation">(</span>bitMatrix<span class="token punctuation">,</span>format<span class="token punctuation">,</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸€èˆ¬æ¥è¯´ä¸Šé¢çš„å·¥å…·ç±»å·²ç»å¤Ÿç”¨äº†ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬æƒ³æç‚¹ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚è¯´åœ¨äºŒç»´ç ä¸Šé¢æ·»åŠ ä¸€ä¸ªlogoï¼Œè¿™æ ·è®©äºŒç»´ç çœ‹èµ·æ¥ä¸ä¸€æ ·ï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢è¿™ä¸ªå·¥å…·ç±»</p><h4 id="å¸¦logo"><a href="#å¸¦logo" class="headerlink" title="å¸¦logo"></a>å¸¦logo</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span>pty</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span></span><span class="token class-name">BarcodeFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span></span><span class="token class-name">EncodeHintType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span></span><span class="token class-name">MultiFormatWriter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span></span><span class="token class-name">WriterException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span>client<span class="token punctuation">.</span>j2se<span class="token punctuation">.</span></span><span class="token class-name">MatrixToImageConfig</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span>client<span class="token punctuation">.</span>j2se<span class="token punctuation">.</span></span><span class="token class-name">MatrixToImageWriter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>zxing<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">BitMatrix</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itextpdf<span class="token punctuation">.</span>text<span class="token punctuation">.</span>pdf<span class="token punctuation">.</span>qrcode<span class="token punctuation">.</span></span><span class="token class-name">ErrorCorrectionLevel</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>imageio<span class="token punctuation">.</span></span><span class="token class-name">ImageIO</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>geom<span class="token punctuation">.</span></span><span class="token class-name">RoundRectangle2D</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>image<span class="token punctuation">.</span></span><span class="token class-name">BufferedImage</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QRCodeUtil</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//äºŒç»´ç é«˜åº¦å’Œå®½åº¦</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> WIDTH <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> HEIGHT <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">createCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">WriterException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//äºŒç»´ç å†…å®¹</span>        <span class="token class-name">String</span> contents <span class="token operator">=</span> <span class="token string">"http://baidu.com"</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®å­—ç¬¦é›†</span>        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">.</span>CHARACTER_SET<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®çº é”™ç­‰çº§</span>        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">.</span>ERROR_CORRECTION<span class="token punctuation">,</span> <span class="token class-name">ErrorCorrectionLevel</span><span class="token punctuation">.</span><span class="token class-name">M</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®è¾¹æ¡†</span>        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">.</span>MARGIN<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç”ŸæˆäºŒç»´ç å¯¹åº”çš„ä½çŸ©é˜µå¯¹è±¡</span>        <span class="token class-name">BitMatrix</span> bitMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MultiFormatWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>contents<span class="token punctuation">,</span> <span class="token class-name">BarcodeFormat</span><span class="token punctuation">.</span>QR_CODE<span class="token punctuation">,</span> WIDTH<span class="token punctuation">,</span> HEIGHT<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®ä½çŸ©é˜µè½¬å›¾ç‰‡çš„å‚æ•°</span>        <span class="token class-name">MatrixToImageConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MatrixToImageConfig</span><span class="token punctuation">(</span><span class="token number">0xFF000001</span><span class="token punctuation">,</span> <span class="token number">0xFFFFFFFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ä½çŸ©é˜µå¯¹è±¡è½¬BufferedImageå¯¹è±¡</span>        <span class="token class-name">BufferedImage</span> qrcode <span class="token operator">=</span> <span class="token class-name">MatrixToImageWriter</span><span class="token punctuation">.</span><span class="token function">toBufferedImage</span><span class="token punctuation">(</span>bitMatrix<span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å°†ä¸å¸¦logoçš„è¾“å‡º</span>        <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>qrcode<span class="token punctuation">,</span> <span class="token string">"png"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"D://1.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BufferedImage</span> <span class="token class-name">QRcode</span> <span class="token operator">=</span> <span class="token function">createQRCodeWithLogo</span><span class="token punctuation">(</span>qrcode<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"D:\\logo.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†å¸¦logoçš„è¾“å‡º</span>        <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">QRcode</span><span class="token punctuation">,</span> <span class="token string">"png"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"D://code.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¾“å‡ºæˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">//å¢åŠ logo</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BufferedImage</span> <span class="token function">createQRCodeWithLogo</span><span class="token punctuation">(</span><span class="token class-name">BufferedImage</span> bufferedImage<span class="token punctuation">,</span> <span class="token class-name">File</span> logofile<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºç»˜å›¾å¯¹è±¡</span>        <span class="token class-name">Graphics2D</span> g2 <span class="token operator">=</span> bufferedImage<span class="token punctuation">.</span><span class="token function">createGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®logoçš„å®½é«˜,è¿™é‡Œé™¤4æ˜¯ä¸ºäº†è®©å›¾ç‰‡æ¯”äºŒç»´ç å°ï¼Œè¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œå¯èƒ½æ˜¯å› ä¸ºæˆ‘çš„é«˜å’Œå®½éƒ½è®¾ç½®ä¸º400ï¼Œæˆ‘ä¸€å¼€å§‹é™¤3ï¼Œå‘ç°ç”Ÿæˆçš„å¸¦logoçš„äºŒç»´ç æ— æ³•è¯†åˆ«ï¼Œæˆ‘çŒœæƒ³æ˜¯å› ä¸º400/3æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œå¯¼è‡´å›¾ç‰‡ä¸å…¨ï¼Œå½“æˆ‘é™¤4ã€ 5çš„æ—¶å€™å°±å¯ä»¥äº†ã€‚</span>        <span class="token keyword">int</span> height <span class="token operator">=</span> bufferedImage<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> width <span class="token operator">=</span> bufferedImage<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®logoåœ¨äºŒç»´ç å›¾ç‰‡ä¸Šçš„èµ·å§‹åæ ‡</span>        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token punctuation">(</span>bufferedImage<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>width<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token punctuation">(</span>bufferedImage<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>height<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>        <span class="token comment">//è¯»å–logoæ–‡ä»¶</span>        <span class="token class-name">BufferedImage</span> logo <span class="token operator">=</span> <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>logofile<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¼€å§‹ç»˜åˆ¶å›¾åƒ</span>        g2<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>logo<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>width<span class="token punctuation">,</span>height<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BasicStroke</span> stroke <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BasicStroke</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token class-name">BasicStroke</span><span class="token punctuation">.</span>CAP_ROUND<span class="token punctuation">,</span><span class="token class-name">BasicStroke</span><span class="token punctuation">.</span>JOIN_ROUND<span class="token punctuation">)</span><span class="token punctuation">;</span>        g2<span class="token punctuation">.</span><span class="token function">setStroke</span><span class="token punctuation">(</span>stroke<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è®¾ç½®ç¬”ç”»å¯¹è±¡</span>        <span class="token comment">//æŒ‡å®šå¼§åº¦çš„åœ†è§’çŸ©å½¢</span>        <span class="token class-name">RoundRectangle2D</span><span class="token punctuation">.</span><span class="token class-name">Float</span> round <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RoundRectangle2D</span><span class="token punctuation">.</span><span class="token class-name">Float</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>width<span class="token punctuation">,</span>height<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        g2<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŒ‡å®šåœ†å¼§è¾¹æ¡†çš„é¢œè‰²</span>        g2<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>round<span class="token punctuation">)</span><span class="token punctuation">;</span>        g2<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bufferedImage<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> bufferedImage<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç»æµ‹è¯•å‘ç°ï¼Œå¦‚æœåŠ å…¥äº†åœ†å¼§è¾¹æ¡†ï¼Œlogoå›¾ç‰‡è®¾ç½®ä¸ºäºŒç»´ç å¤§å°çš„1/4ä¹Ÿæ˜¯æ‰«ä¸å‡ºæ¥çš„ï¼Œ1/5å¯ä»¥æ‰«å‡ºæ¥</strong></p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;Javaç”ŸæˆäºŒç»´ç &quot;&gt;&lt;a href=&quot;#Javaç”ŸæˆäºŒç»´ç &quot; class=&quot;headerlink&quot; title=&quot;Javaç”ŸæˆäºŒç»´ç &quot;&gt;&lt;/a&gt;Javaç”ŸæˆäºŒç»´ç &lt;/h3&gt;&lt;h4 id=&quot;å¯¼å…¥ä¾èµ–&quot;&gt;&lt;a href=&quot;#å¯¼å…¥ä¾èµ–&quot; class=&quot;headerlink&quot; title=&quot;å¯¼å…¥ä¾èµ–&quot;&gt;&lt;/a&gt;å¯¼å…¥ä¾èµ–&lt;/h4&gt;</summary>
    
    
    
    
    <category term="å·¥å…·ç±»" scheme="http://example.com/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ</title>
    <link href="http://example.com/2021/04/12/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/"/>
    <id>http://example.com/2021/04/12/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/</id>
    <published>2021-04-12T05:18:46.812Z</published>
    <updated>2021-04-12T05:31:18.298Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ"><a href="#Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ" class="headerlink" title="Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ"></a>Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ</h3><h4 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h4><h5 id="è·å–mysql-YUMæº"><a href="#è·å–mysql-YUMæº" class="headerlink" title="è·å–mysql YUMæº"></a>è·å–mysql YUMæº</h5><ol><li>æ‰“å¼€ç½‘å€  <a href="https://dev.mysql.com/downloads/repo/yum/">Mysql yumå­˜å‚¨åº“</a></li><li>è¿›å…¥éœ€è¦ä¸‹è½½çš„æ–‡ä»¶ï¼Œç‚¹å‡»è¿™é‡Œï¼Œè·å–åˆ°é“¾æ¥åœ°å€ï¼Œè¿™æ ·å°±ä¸éœ€è¦æŠŠæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚</li></ol><a id="more"></a><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407095725914.png" alt="image-20210407095725914"></p><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407095911292.png" alt="image-20210407095911292"></p><h5 id="ä¸‹è½½å’Œå®‰è£…mysqlæº"><a href="#ä¸‹è½½å’Œå®‰è£…mysqlæº" class="headerlink" title="ä¸‹è½½å’Œå®‰è£…mysqlæº"></a>ä¸‹è½½å’Œå®‰è£…mysqlæº</h5><ol><li><p>å…ˆåˆ›å»ºä¸€ä¸ªMySQLçš„æ–‡ä»¶å¤¹ ï¼š<code>mkdir mysql</code>    </p></li><li><p>è®¾ç½®æƒé™ï¼š<code>chmod 777 mysql </code></p></li><li><p>è¿›å…¥mysqlæ–‡ä»¶å¤¹ï¼ŒwgetåŠ ä¸Šåˆšæ‰å¤åˆ¶çš„åœ°å€ï¼Œä¸‹è½½mysqlæº</p></li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407100358273.png" alt="image-20210407100358273"></p><ol start="4"><li>å¦‚æœæ˜¾ç¤ºwgetæœªæ‰¾åˆ°å‘½ä»¤ï¼Œåˆ™å…ˆå®‰è£…wgetï¼š<code>yum -y install wget</code>,ç„¶ååœ¨æ‰§è¡Œåˆšæ‰çš„å‘½ä»¤ã€‚</li><li>å®‰è£…mysqlæº ï¼š<code>yum -y localinstall mysql80-community-release-el8-1.noarch.rpm</code></li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407100801585.png" alt="image-20210407100801585"></p><h5 id="åœ¨çº¿å®‰è£…mysql"><a href="#åœ¨çº¿å®‰è£…mysql" class="headerlink" title="åœ¨çº¿å®‰è£…mysql"></a>åœ¨çº¿å®‰è£…mysql</h5><ol><li><code>yum -y install mysql-community-server</code>  ä¼šå®‰è£…mysqlæœåŠ¡å™¨(mysql-community-server) æ‰€éœ€è¦çš„ä¾èµ–å’Œç›¸å…³ç»„ä»¶ã€‚</li><li>ç›´æ¥è¾“å…¥è¿™ä¸ªå‘½ä»¤ä¼šæŠ¥é”™</li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407101844829.png" alt="image-20210407101844829"></p><ol start="3"><li>åœ¨ä½¿ç”¨è¿™ä¸ªå‘½ä»¤å‰ï¼Œå…ˆè¾“å…¥<code>yum module disable mysql</code></li><li>è¾“å…¥<code>yum -y install mysql-community-server</code>,ä¸‹è½½çš„æ—¶é—´ä¼šæœ‰ç‚¹é•¿ï¼Œå› ä¸ºéœ€è¦ä¸‹è½½å¾ˆå¤šä¸œè¥¿</li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407102007009.png" alt="image-20210407102007009"></p><h5 id="å¯åŠ¨mysql"><a href="#å¯åŠ¨mysql" class="headerlink" title="å¯åŠ¨mysql"></a>å¯åŠ¨mysql</h5><p><code>systemctl start mysqld</code></p><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407102153546.png" alt="image-20210407102153546"></p><h5 id="è®¾ç½®å¼€æœºè‡ªå¯åŠ¨"><a href="#è®¾ç½®å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="è®¾ç½®å¼€æœºè‡ªå¯åŠ¨"></a>è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</h5><p><code>systemctl enable mysqld</code>   <code>systemctl daemon-reload</code></p><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407102344314.png" alt="image-20210407102344314"></p><h5 id="ç™»å½•mysqlï¼Œå¹¶ä¸”ä¿®æ”¹å¯†ç "><a href="#ç™»å½•mysqlï¼Œå¹¶ä¸”ä¿®æ”¹å¯†ç " class="headerlink" title="ç™»å½•mysqlï¼Œå¹¶ä¸”ä¿®æ”¹å¯†ç "></a>ç™»å½•mysqlï¼Œå¹¶ä¸”ä¿®æ”¹å¯†ç </h5><ol><li>ç½‘ä¸Šçš„æ•™ç¨‹è¯´ä¼šéšæœºç”Ÿæˆä¸€ä¸ªå¯†ç ï¼Œä½†æ˜¯æˆ‘è¿™ä¸ªå¹¶æ²¡æœ‰ç”Ÿæˆå¯†ç ï¼Œä¹Ÿå°±æ˜¯åœ¨ç™»å½•çš„æ—¶å€™ä¸éœ€è¦è¾“å…¥å¯†ç <code>mysql -u root -p</code> ç™»å½•æ•°æ®åº“</li><li><strong>é€šè¿‡</strong> <strong>ALTER USER â€˜rootâ€™@â€™localhostâ€™ IDENTIFIED WITH mysql_native_password BY â€˜ä½ çš„å¯†ç â€™;</strong> <strong>å‘½ä»¤æ¥ä¿®æ”¹å¯†ç </strong></li></ol><h5 id="ä¿®æ”¹ç”¨æˆ·ç™»å½•æƒé™"><a href="#ä¿®æ”¹ç”¨æˆ·ç™»å½•æƒé™" class="headerlink" title="ä¿®æ”¹ç”¨æˆ·ç™»å½•æƒé™"></a>ä¿®æ”¹ç”¨æˆ·ç™»å½•æƒé™</h5><p>æˆ‘ä»¬ä½¿ç”¨rootç”¨æˆ·ç™»å½•mysqlï¼Œä½†æ˜¯åˆšåˆšéƒ¨ç½²çš„ç¯å¢ƒä¸­ï¼Œåªå…è®¸æœ¬æœºè®¿é—®æ•°æ®åº“ï¼Œä¸å…è®¸å…¶ä»–åœ°å€è®¿é—®ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹æƒé™ã€‚</p><ol><li>æŸ¥çœ‹ä¸€å…±æœ‰å“ªå‡ ä¸ªæ•°æ®åº“ï¼š<code>show databases;</code></li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407103023040.png" alt="image-20210407103023040"></p><ol start="2"><li>è¿›å…¥mysqlè¿™ä¸ªåº“:<code>use mysql</code>;</li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407103113302.png" alt="image-20210407103113302"></p><ol start="3"><li>æŸ¥è¯¢userå’Œhostï¼š<code>select user,host from user</code>,æˆ‘è¿™é‡Œå·²ç»ä¿®æ”¹è¿‡äº†ï¼Œæ­£å¸¸åˆšéƒ¨ç½²çš„æ—¶å€™ï¼Œrootåé¢çš„hostä¹Ÿæ˜¯localhostã€‚</li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407103209085.png" alt="image-20210407103209085"></p><ol start="4"><li>ä¿®æ”¹rootçš„hostï¼š<code>update user set host =&#39;%&#39; where user=root;</code></li></ol><h5 id="æœåŠ¡å™¨å¼€å¯3306ç«¯å£"><a href="#æœåŠ¡å™¨å¼€å¯3306ç«¯å£" class="headerlink" title="æœåŠ¡å™¨å¼€å¯3306ç«¯å£"></a>æœåŠ¡å™¨å¼€å¯3306ç«¯å£</h5><p>ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°ï¼Œåœ¨å®‰å…¨ç»„è§„åˆ™ä¸­æ·»åŠ è®¿é—®è§„åˆ™ï¼Œå¼€æ”¾3306ç«¯å£ã€‚å¼€å¯çš„æ—¶å€™æ³¨æ„æ˜¯åœ¨æœåŠ¡å™¨çš„å®ä¾‹çš„é‚£ä¸ªå®‰å…¨ç»„æ·»åŠ ï¼Œæˆ‘ä¸€å¼€å§‹å°±æ˜¯é‡æ–°åˆ›å»ºäº†ä¸€ä¸ªå®‰å…¨ç»„ï¼Œä½†æ˜¯é‚£ä¸ªå®‰å…¨ç»„å¹¶æ²¡æœ‰å¯¹åº”çš„å®ä¾‹ï¼Œæµªè´¹äº†å¥½ä¹…çš„æ—¶é—´ã€‚å¯ä»¥åœ¨æœ¬æœºdosçª—å£ä¸‹ä½¿ç”¨<code>tcping ipåœ°å€ ç«¯å£å·</code>æŸ¥çœ‹è¯¥ç«¯å£èƒ½ä¸èƒ½è®¿é—®ã€‚</p><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407103500323.png" alt="image-20210407103500323"></p><h5 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h5><p>å°±å¯ä»¥ç”¨navicatè¿æ¥æ•°æ®åº“äº†ã€‚</p><h4 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h4><h5 id="ä¸‹è½½redis"><a href="#ä¸‹è½½redis" class="headerlink" title="ä¸‹è½½redis"></a>ä¸‹è½½redis</h5><ol><li><p>è¿›å…¥å®˜æ–¹ç½‘ç«™ä¸‹è½½redisï¼š<a href="https://redis.io/download">ä¸‹è½½åœ°å€</a></p></li><li><p>è·å–ä¸‹è½½é“¾æ¥åœ°å€ï¼Œå¤åˆ¶é“¾æ¥ã€‚</p></li><li><p>ä½¿ç”¨wgetä¸‹è½½redisæ–‡ä»¶ï¼š<code>wget https://download.redis.io/releases/redis-6.2.1.tar.gz?_ga=2.218275550.693953461.1617763684-492675992.1602071540 </code>   wget+åˆšæ‰å¤åˆ¶çš„åœ°å€ã€‚</p></li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407105237017.png" alt="image-20210407105237017"></p><p><strong>æ³¨æ„ï¼šæˆ‘è¿™ä¸ªåœ°å€æ˜¯ç›´æ¥ä»å®˜ç½‘ä¸‹è½½åœ°å€å¤åˆ¶è¿‡æ¥çš„ï¼Œä½†æ˜¯ä»–åé¢å¤šäº†ä¸€ä¸²å­—ç¬¦ï¼Œä»â€?_ga=â€å¼€å§‹ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªæ–‡ä»¶é‡æ–°æ”¹åã€‚å¦‚æœåç¼€ç›´æ¥æ˜¯.tar.gzå°±ä¸éœ€è¦æ”¹åäº†</strong></p><ol start="4"><li>ä½¿ç”¨<code>mv åŸæ¥æ–‡ä»¶çš„åå­—  éœ€è¦ä¿®æ”¹çš„åå­—</code>ä¿®æ”¹æ–‡ä»¶çš„åå­—ã€‚</li></ol><h5 id="è§£å‹å¹¶ç§»åŠ¨redis"><a href="#è§£å‹å¹¶ç§»åŠ¨redis" class="headerlink" title="è§£å‹å¹¶ç§»åŠ¨redis"></a>è§£å‹å¹¶ç§»åŠ¨redis</h5><ol><li><p>ä½¿ç”¨<code>tar zvxf redis-6.2.1.tar.gz</code>è§£å‹æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å¤šå‡ºäº†redis-6.2.1è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚</p><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407110251832.png" alt="image-20210407110251832"></p></li><li><p>å°†redisç›®å½•ç§»åŠ¨åˆ°/usr/local/redisç›®å½•ä¸‹ï¼Œä½¿ç”¨<code>mv /root/redis-6.2.1 /usr/local/redis</code>ç§»åŠ¨æ–‡ä»¶ï¼Œè¯¥å‘½ä»¤ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªrediså­ç›®å½•ï¼Œå› æ­¤ä¸éœ€è¦æ‰‹åŠ¨å»åˆ›å»ºä¸€ä¸ªredisç›®å½•ã€‚</p></li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407110706199.png" alt="image-20210407110706199"></p><h5 id="ç¼–è¯‘å®‰è£…redis"><a href="#ç¼–è¯‘å®‰è£…redis" class="headerlink" title="ç¼–è¯‘å®‰è£…redis"></a>ç¼–è¯‘å®‰è£…redis</h5><ol><li>è¾“å…¥<code>make</code>æ‰§è¡Œç¼–è¯‘å‘½ä»¤ï¼Œæœ€ç»ˆä¼šå‡ºç°è¿™ä¸ªç»“æœï¼š</li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407111216978.png" alt="image-20210407111216978"></p><ol start="2"><li>ä½¿ç”¨<code>make PREFIX=/usr/local/redis install</code>å®‰è£…redis ã€‚<strong>è¿™é‡Œå¤šäº†ä¸€ä¸ªå…³é”®å­— <code>PREFIX=</code> ï¼Œè¿™ä¸ªå…³é”®å­—çš„ä½œç”¨æ˜¯ç¼–è¯‘çš„æ—¶å€™ç”¨äºæŒ‡å®šç¨‹åºå­˜æ”¾çš„è·¯å¾„ã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨å°±æ˜¯æŒ‡å®šäº†rediså¿…é¡»å­˜æ”¾åœ¨/usr/local/redisç›®å½•ã€‚å‡è®¾ä¸æ·»åŠ è¯¥å…³é”®å­—Linuxä¼šå°†å¯æ‰§è¡Œæ–‡ä»¶å­˜æ”¾åœ¨/usr/local/binç›®å½•ï¼Œåº“æ–‡ä»¶ä¼šå­˜æ”¾åœ¨/usr/local/libç›®å½•ã€‚é…ç½®æ–‡ä»¶ä¼šå­˜æ”¾åœ¨/usr/local/etcç›®å½•ã€‚å…¶ä»–çš„èµ„æºæ–‡ä»¶ä¼šå­˜æ”¾åœ¨usr/local/shareç›®å½•ã€‚è¿™é‡ŒæŒ‡å®šå·ç›®å½•ä¹Ÿæ–¹ä¾¿åç»­çš„å¸è½½ï¼Œåç»­ç›´æ¥rm -rf /usr/local/redis å³å¯åˆ é™¤redisã€‚</strong></li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407111505750.png" alt="image-20210407111505750"></p><h5 id="å¯åŠ¨redis"><a href="#å¯åŠ¨redis" class="headerlink" title="å¯åŠ¨redis"></a>å¯åŠ¨redis</h5><p>ä¸Šé¢çš„æ“ä½œå·²ç»å®Œæˆäº†redisçš„å®‰è£….</p><h6 id="å‰ç«¯å¯åŠ¨"><a href="#å‰ç«¯å¯åŠ¨" class="headerlink" title="å‰ç«¯å¯åŠ¨"></a>å‰ç«¯å¯åŠ¨</h6><p>åœ¨redisçš„å®‰è£…ç›®å½•ä¸‹ç›´æ¥å¯åŠ¨redisï¼šä½¿ç”¨<code>redis-server</code>å¯åŠ¨redisï¼Œ<strong>æ³¨æ„æ˜¯åœ¨/binè¿™ä¸ªç›®å½•ä¸‹</strong></p><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407112151333.png" alt="image-20210407112151333"></p><h6 id="åå°å¯åŠ¨"><a href="#åå°å¯åŠ¨" class="headerlink" title="åå°å¯åŠ¨"></a>åå°å¯åŠ¨</h6><ol><li>å°†redis.confå¤åˆ¶åˆ°/user/local/redis/bin ç›®å½•ä¸‹ <code>cp redis.conf /usr/local/redis/bin</code></li><li>ä¿®æ”¹redis.confé…ç½® ï¼Œè¿›å…¥/binç›®å½•  è¾“å…¥<code>vim redis.conf</code>è¿›å…¥ä¿®æ”¹ç•Œé¢ï¼Œå‘ä¸‹æ‰¾ï¼Œå°†daemonizeè®¾ç½®ä¸ºyesï¼ˆåŸæ¥ä¸ºnoï¼‰ã€‚</li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407112834813.png" alt="image-20210407112834813"></p><ol start="3"><li>å¯åŠ¨redis ï¼š/binç›®å½•ä¸‹ï¼Œ<code>./redis-server redis.conf</code></li><li>æŸ¥çœ‹redisæ˜¯å¦å¯åŠ¨ <code>ps aux|grep redis</code>  **ps:æƒ³è¦å…³é—­redisï¼Œ  <code>kill -9 44565</code>åé¢çš„æ•°å­—å°±æ˜¯å‰é¢é‚£ä¸ªå‘½ä»¤æ˜¾ç¤ºå‡ºæ¥çš„ç¬¬äºŒä¸ªã€‚</li></ol><p><img src="/images/Linux%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/image-20210407120052553.png" alt="image-20210407120052553"></p><h5 id="ä¿®æ”¹å¼€å¯æŒ‡ä»¤"><a href="#ä¿®æ”¹å¼€å¯æŒ‡ä»¤" class="headerlink" title="ä¿®æ”¹å¼€å¯æŒ‡ä»¤"></a>ä¿®æ”¹å¼€å¯æŒ‡ä»¤</h5><p>ç»è¿‡ä¸Šé¢çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>./redis-cli</code>è¿æ¥redisï¼Œä½†æ˜¯æ¯æ¬¡è¾“å…¥./æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å¯åŠ¨çš„å‘½ä»¤ï¼Œåœ¨ä»»æ„ç•Œé¢ä¸‹éƒ½å¯ä»¥å¼€å¯ï¼Œä¹Ÿå°±æ˜¯æ·»åŠ ä¸€ä¸ªç¯å¢ƒå˜é‡ã€‚</p><ol><li>ä¿®æ”¹profileæ–‡ä»¶ï¼š<code>vim /etc/profile</code></li><li>åœ¨æ–‡ä»¶çš„æœ€åæ·»åŠ å¦‚ä¸‹ä»£ç   <code>export PATH=$PATH:/usr/local/redis/src</code>ã€‚ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>redis-cli</code>è¿æ¥redisäº†ã€‚</li></ol><h5 id="å¼€å¯6379ç«¯å£"><a href="#å¼€å¯6379ç«¯å£" class="headerlink" title="å¼€å¯6379ç«¯å£"></a>å¼€å¯6379ç«¯å£</h5><p>æ³¨æ„è¦å¼€å¯6379ç«¯å£ï¼Œå¼€å¯æ–¹å¼å’Œmysqlä¸­å¼€å¯3306ç«¯å£ä¸€æ ·ã€‚</p><h5 id="é…ç½®redis-config"><a href="#é…ç½®redis-config" class="headerlink" title="é…ç½®redis.config"></a>é…ç½®redis.config</h5><p><code>vim redis.config</code> hao</p><ol><li>ä¿®æ”¹bind ä¸º0.0.0.0 </li><li>ä¿®æ”¹protected-mod ä¸ºno</li></ol><p>è¿æ¥redisï¼š<code>redis-cli</code>,ä½¿ç”¨<code>config set requirepass å¯†ç </code>è®¾ç½®å¯†ç ï¼Œä»Šååœ¨è¿›è¡Œæ“ä½œçš„æ—¶å€™å°±éœ€è¦å…ˆè¾“å…¥<code>AUTH å¯†ç </code>åœ¨è¿›è¡Œæ“ä½œã€‚</p><p><strong>æ³¨æ„ï¼šé˜¿é‡Œäº‘æœåŠ¡å™¨é»˜è®¤æ²¡æœ‰å¼€å¯8080ç«¯å£ï¼Œåªå¼€å¯äº†80ç«¯å£ï¼Œæˆ‘åœ¨éƒ¨ç½²springbooté¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°è¯·æ±‚è¶…æ—¶ï¼Œç„¶åå°±æƒ³åˆ°åº”è¯¥æ˜¯æ²¡æœ‰å¼€å¯8080ç«¯å£ï¼Œéœ€è¦åˆ°å®‰å…¨ç»„ä¸­é…ç½®è§„åˆ™ï¼Œä¸€å¼€å§‹ä»¥ä¸º80ç«¯å£å°±æ˜¯8080ç«¯å£ï¼Œè€Œä¸”åœ¨å¿«é€Ÿæ·»åŠ ä¸­ä¹Ÿæ²¡æœ‰8080ç«¯å£è¿™ä¸ªé€‰é¡¹ï¼Œæµªè´¹äº†å¥½ä¹…æ—¶é—´ï¼Œä»¥åè¦æ³¨æ„</strong></p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ&quot;&gt;&lt;/a&gt;Linuxéƒ¨ç½²å¼€å‘ç¯å¢ƒ&lt;/h3&gt;&lt;h4 id=&quot;Mysql&quot;&gt;&lt;a href=&quot;#Mysql&quot; class=&quot;headerlink&quot; title=&quot;Mysql&quot;&gt;&lt;/a&gt;Mysql&lt;/h4&gt;&lt;h5 id=&quot;è·å–mysql-YUMæº&quot;&gt;&lt;a href=&quot;#è·å–mysql-YUMæº&quot; class=&quot;headerlink&quot; title=&quot;è·å–mysql YUMæº&quot;&gt;&lt;/a&gt;è·å–mysql YUMæº&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;æ‰“å¼€ç½‘å€  &lt;a href=&quot;https://dev.mysql.com/downloads/repo/yum/&quot;&gt;Mysql yumå­˜å‚¨åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;è¿›å…¥éœ€è¦ä¸‹è½½çš„æ–‡ä»¶ï¼Œç‚¹å‡»è¿™é‡Œï¼Œè·å–åˆ°é“¾æ¥åœ°å€ï¼Œè¿™æ ·å°±ä¸éœ€è¦æŠŠæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="æ“ä½œç³»ç»Ÿ" scheme="http://example.com/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
    <category term="å¼€å‘ç¯å¢ƒ" scheme="http://example.com/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    
  </entry>
  
  <entry>
    <title>æ³¨è§£å’Œåå°„</title>
    <link href="http://example.com/2021/04/12/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84/"/>
    <id>http://example.com/2021/04/12/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84/</id>
    <published>2021-04-12T04:49:41.484Z</published>
    <updated>2021-04-12T05:17:04.313Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h3><h4 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h4><p>å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ï¼Œjavaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œä»–ä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶ä»–annotationç±»å‹åšè¯´æ˜ã€‚</p><ul><li>@Targetï¼šç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼ˆå³ï¼šè¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼‰</li><li>@Retentionï¼šè¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨è§£ä¿¡æ¯ï¼Œç”¨æˆ·æè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼ˆsource&lt;class&lt;runtime)</li><li>@Documentï¼šè¯´æ˜è¯¥æ³¨è§£å°†åŒ…å«åœ¨javadocä¸­</li><li>@Inheritedï¼šè¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£</li></ul><a id="more"></a><h4 id="è‡ªå®šä¹‰æ³¨è§£"><a href="#è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="è‡ªå®šä¹‰æ³¨è§£"></a>è‡ªå®šä¹‰æ³¨è§£</h4><p><strong>ä½¿ç”¨@Interfaceè‡ªå®šä¹‰æ³¨è§£</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ElementType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Retention</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Target</span><span class="token punctuation">;</span>i<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//å› ä¸ºageå·²ç»æœ‰äº†é»˜è®¤å€¼ï¼Œå¯ä»¥ä¸ç”¨å†èµ‹å€¼ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¿˜å¯ä»¥ç›´æ¥çœç•¥å‰é¢ä½ çš„å‚æ•°åï¼Œç›´æ¥å†™å‚æ•°</span>    <span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"pty"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¡¨ç¤ºè¿™ä¸ªæ³¨è§£æˆ‘ä»¬å¯ä»¥ç”¨åœ¨å“ªäº›åœ°æ–¹ï¼Œtypeè¡¨ç¤ºç±»ï¼Œmethodè¡¨ç¤ºæ–¹æ³•ï¼Œfieldè¡¨ç¤ºå±æ€§</span><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">)</span><span class="token comment">//è¡¨ç¤ºè¿™ä¸ªæ³¨è§£åœ¨ä»€ä¹ˆåœ°æ–¹è¿˜æœ‰æ•ˆ</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">&#123;</span>    <span class="token comment">//æ³¨è§£çš„å‚æ•°ï¼š å‚æ•°ç±»å‹+å‚æ•°å();</span>    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span>  <span class="token number">12</span><span class="token punctuation">;</span>  <span class="token comment">//è¿˜å¯ä»¥ä½¿ç”¨default "xxx" è®¾ç½®é»˜è®¤å€¼</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h3><h4 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><p><strong>åå°„æ˜¯javaè¢«è§†ä¸ºåŠ¨æ€è¯­è¨€çš„å…³é”®ï¼Œåå°„æœºåˆ¶å°±æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ï¼Œè¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚</strong></p><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸€ä¸ªç±»éƒ½æ˜¯å¯¹è±¡ã€‚åœ¨åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ï¼Œè¿™ä¸ªç±»å¯¹è±¡åŒ…å«äº†å®Œæˆçš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚</p><p><img src="/images/%E5%A4%9A%E7%BA%BF%E7%A8%8B/20170513133210763.png" alt="img"></p><h4 id="è·å¾—åå°„å¯¹è±¡"><a href="#è·å¾—åå°„å¯¹è±¡" class="headerlink" title="è·å¾—åå°„å¯¹è±¡"></a>è·å¾—åå°„å¯¹è±¡</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>reflection</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//é€šè¿‡åå°„è¿‡å»ç±»çš„Classå¯¹è±¡ï¼Œ ä½¿ç”¨.forname()æ–¹æ³•ï¼Œå‚æ•°ä¸ºå®ä½“ç±»çš„åŒ…å+ç±»å</span>        <span class="token class-name">Class</span> c1 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mp.demo.reflection.User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªClasså¯¹è±¡</strong>â€˜â€™</p><h4 id="Classç±»å¸¸ç”¨çš„æ–¹æ³•"><a href="#Classç±»å¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="Classç±»å¸¸ç”¨çš„æ–¹æ³•"></a>Classç±»å¸¸ç”¨çš„æ–¹æ³•</h4><p><img src="/images/%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20210411194627729.png" alt="image-20210411194627729"></p><h4 id="è·å¾—Classç±»å¯¹è±¡"><a href="#è·å¾—Classç±»å¯¹è±¡" class="headerlink" title="è·å¾—Classç±»å¯¹è±¡"></a>è·å¾—Classç±»å¯¹è±¡</h4><ul><li>å·²ç»çŸ¥é“å…·ä½“çš„ç±»ï¼Œé€šè¿‡ç±»çš„Classå±æ€§è·å–ã€‚æ¨èä½¿ç”¨è¿™ç§ï¼Œè¿™ç§æœ€ä¸ºå®‰å…¨å¯é ï¼Œç¨‹åºæ€§èƒ½é«˜</li></ul><p><code>Class c = User.class;</code> </p><ul><li>å·²ç»æœ‰æŸä¸ªç±»çš„å…·ä½“å¯¹è±¡ï¼Œéœ€è¦è·å–è¿™ä¸ªç±»çš„Classå¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨è¿™ä¸ªå…·ä½“å¯¹è±¡çš„getClassæ–¹æ³•</li></ul><p><code>Class c = user.getClass()</code>  useræ˜¯Userç±»å…·ä½“çš„å¯¹è±¡</p><ul><li>çŸ¥é“ä¸€ä¸ªç±»çš„å…¨ç±»åï¼ˆåŒ…å+ç±»åï¼‰,ä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯ä»¥é€šè¿‡Classç±»çš„é™æ€æ–¹æ³•forName()è·å–ï¼Œä½†æ˜¯å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li></ul><p><code>Class c1 = Class.forName(&quot;com.mp.demo.reflection.User&quot;);</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>reflection</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//é€šè¿‡.class æ–¹æ³•è·å–å®ä¾‹</span>        <span class="token class-name">Class</span> cl <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cl<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é€šè¿‡å…·ä½“å¯¹è±¡è°ƒç”¨getClassæ–¹æ³•åˆ›å»ºclasså®ä¾‹</span>        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Class</span> c2 <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä½¿ç”¨å…¨ç±»ååˆ›å»ºclasså¯¹è±¡</span>        <span class="token class-name">Class</span> c3 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mp.demo.reflection.User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–çˆ¶ç±»çš„classå¯¹è±¡</span>        <span class="token class-name">Class</span> c4 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c4<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç±»åŠ è½½å™¨ï¼ˆJVM-ç›®å‰å…ˆäº†è§£ï¼‰"><a href="#ç±»åŠ è½½å™¨ï¼ˆJVM-ç›®å‰å…ˆäº†è§£ï¼‰" class="headerlink" title="ç±»åŠ è½½å™¨ï¼ˆJVM   ç›®å‰å…ˆäº†è§£ï¼‰"></a>ç±»åŠ è½½å™¨ï¼ˆJVM   ç›®å‰å…ˆäº†è§£ï¼‰</h4><p>ä½œç”¨ï¼šå°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›æ™¯æ³°æ•°æ®è½¬æ¢æˆä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶çš„æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£ã€‚</p><p><img src="/images/%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20210411214155426.png" alt="image-20210411214155426"></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//è·å–ç³»ç»Ÿç±»çš„åŠ è½½å™¨</span>        <span class="token class-name">ClassLoader</span> systemClassLoader <span class="token operator">=</span> <span class="token class-name">ClassLoader</span><span class="token punctuation">.</span><span class="token function">getSystemClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>systemClassLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–ç³»ç»Ÿç±»åŠ è½½å™¨å¾—åˆ°çˆ¶ç±»åŠ è½½å™¨->æ‹“å±•ç±»åŠ è½½å™¨</span>        <span class="token class-name">ClassLoader</span> parent <span class="token operator">=</span> systemClassLoader<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–æ‹“å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨->æ ¹åŠ è½½å™¨ï¼ˆc/c++)   æ ¹ï¼ˆå¼•å¯¼ç±»ï¼‰åŠ è½½å™¨æ— æ³•è¯»å–åˆ°</span>        <span class="token class-name">ClassLoader</span> parent1 <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parent1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•å½“å‰ç±»æ˜¯å“ªä¸ªåŠ è½½å™¨åŠ è½½çš„</span>        <span class="token class-name">ClassLoader</span> classLoader <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20210411215250373.png" alt="image-20210411215250373"></p><h4 id="è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„ï¼ˆæ–¹æ³•ï¼Œå±æ€§ï¼Œç±»åï¼Œæ„é€ å™¨â€¦"><a href="#è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„ï¼ˆæ–¹æ³•ï¼Œå±æ€§ï¼Œç±»åï¼Œæ„é€ å™¨â€¦" class="headerlink" title="è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„ï¼ˆæ–¹æ³•ï¼Œå±æ€§ï¼Œç±»åï¼Œæ„é€ å™¨â€¦.)"></a>è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„ï¼ˆæ–¹æ³•ï¼Œå±æ€§ï¼Œç±»åï¼Œæ„é€ å™¨â€¦.)</h4><p>==è·å–å±æ€§å’Œæ–¹æ³•ã€æ„é€ å™¨çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ²¡åŠ Declaredçš„ï¼Œä¸€ç§æ˜¯åŠ äº†Declaredçš„ã€‚å‰è€…åªèƒ½è·å–åˆ°å…¬å…±çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨ï¼ˆå³ç”±publicä¿®é¥°çš„ï¼‰ï¼Œåè€…å¯ä»¥è·å–åˆ°æ‰€æœ‰çš„ï¼ŒåŒ…æ‹¬è¢«privateã€protectedä¿®é¥°çš„==</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Constructor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchFieldException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchMethodException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//è·å–userç±»å¯¹è±¡</span>        <span class="token class-name">Class</span> c1 <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=================åå­—========================"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–ç±»çš„åå­—</span>        <span class="token class-name">String</span> name <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å–ç±»çš„åŒ…å+ç±»å</span>        <span class="token class-name">String</span> name1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å–ç±»çš„ç±»å</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=================å±æ€§========================"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å¾—ç±»çš„å±æ€§</span>        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å¾—æ‰€æœ‰çš„å±æ€§</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> fields<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Field</span> name2 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//è·å–æŒ‡å®šçš„å±æ€§</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=================æ–¹æ³•========================"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–ç±»çš„æ–¹æ³•</span>        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredMethods <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å–æ‰€æœ‰çš„æ–¹æ³•</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Method</span> declaredMethod <span class="token operator">:</span> declaredMethods<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>declaredMethod<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è·å–æŒ‡å®šçš„æ–¹æ³•,å‚æ•°1æ˜¯æ–¹æ³•åï¼Œå‚æ•°äºŒæ˜¯å‚æ•°çš„ç±»å‹ï¼Œæ²¡æœ‰å‚æ•°å¡«å†™null</span>        <span class="token comment">//ä¸ºä»€ä¹ˆè¦å¡«å†™å‚æ•°ç±»å‹ï¼Œå› ä¸ºjavaå­˜åœ¨é‡è½½</span>        <span class="token class-name">Method</span> setName <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"setName"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>setName<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=================æ„é€ å™¨========================"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Constructor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredConstructors <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å–æ‰€æœ‰çš„æ„é€ å™¨</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Constructor</span> declaredConstructor <span class="token operator">:</span> declaredConstructors<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>declaredConstructor<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token comment">//æ­¤å¤„çš„å‚æ•°çš„ç±»å‹å¿…é¡»å’Œæ„é€ å™¨çš„å‚æ•°ç±»å‹ä¸€æ ·ã€‚ç”±äºæˆ‘ä½¿ç”¨äº†@AllArgsConstructoræ³¨è§£ï¼Œå› æ­¤å«æ‰€æœ‰å‚æ•°çš„æ„é€ å™¨çš„å‚æ•°ç±»å‹çš„é¡ºåºä¸ä½ å®šä¹‰å±æ€§æ—¶çš„é¡ºåºä¸€æ ·</span>        <span class="token class-name">Constructor</span> declaredConstructor <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>declaredConstructor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20210411222729261.png" alt="image-20210411222729261"></p><h4 id="åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€æ“ä½œå±æ€§"><a href="#åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€æ“ä½œå±æ€§" class="headerlink" title="åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€æ“ä½œå±æ€§"></a>åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€æ“ä½œå±æ€§</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Constructor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationTargetException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchFieldException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Class</span> c1 <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>        <span class="token comment">//ç›´æ¥ä½¿ç”¨newInstance()æ–¹æ³•ï¼Œè°ƒç”¨çš„æ˜¯æ— å‚æ„é€ å™¨ï¼Œå¦‚æœæ²¡æœ‰æ— å‚æ„é€ å™¨ï¼Œä¼šæŠ¥é”™</span>        <span class="token class-name">Object</span> user <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=================æ„é€ å™¨======================"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é€šè¿‡æ„é€ å™¨åˆ›å»ºå®ä¾‹</span>        <span class="token comment">//é€šè¿‡Classå¯¹è±¡è·å–æ„é€ å™¨</span>        <span class="token class-name">Constructor</span> constructor <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> constructor<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"pty"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é€šè¿‡æ„é€ å™¨åˆ›å»ºå®ä¾‹ï¼Œå‚æ•°ä¸ºæ„é€ å™¨æ‰€éœ€çš„å…·ä½“çš„å€¼</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"====================è°ƒç”¨æ™®é€šæ–¹æ³•================="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–æ™®é€šæ–¹æ³•</span>        <span class="token class-name">Method</span> setName <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"setName"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        setName<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>user1<span class="token punctuation">,</span> <span class="token string">"å½­å¤©æ€¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//é€šè¿‡invoke()æ–¹æ³•æ¿€æ´»æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ‰§è¡Œçš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯æ–¹æ³•éœ€è¦çš„å…·ä½“å‚æ•°</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"===================æ“ä½œå±æ€§====================="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–å±æ€§</span>        <span class="token class-name">Field</span> name <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å› ä¸ºnameè®¾ç½®ä¸ºç§æœ‰å±æ€§ï¼Œå› æ­¤ä¸èƒ½è¢«å¤–ç•Œè®¿é—®åˆ°ï¼Œä½¿ç”¨setAccessible(true)å¯ä»¥ä½¿å…¶è¢«è®¿é—®</span>        name<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        name<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>user1<span class="token punctuation">,</span><span class="token string">"pty1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®å±æ€§</span>        name<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">User</span><span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>æ„é€ å™¨<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token class-name">User</span><span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span>pty<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>è°ƒç”¨æ™®é€šæ–¹æ³•<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token class-name">User</span><span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span>å½­å¤©æ€¡<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>æ“ä½œå±æ€§<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token class-name">User</span><span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span>pty1<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ€»ç»“</strong></p><ul><li>å¦‚æœå®ä½“ç±»æ²¡æœ‰æ— å‚æ„é€ ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨newInstance()æ–¹æ³•ï¼Œä¼šæŠ¥é”™ï¼Œåº”è¯¥ä½¿ç”¨æ„é€ å™¨æ¥åˆ›å»ºå¯¹è±¡</li><li>ä½¿ç”¨<code>æ„é€ å™¨.newInstance()</code>åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå‚æ•°ä¸ºæ„é€ å™¨å…·ä½“éœ€è¦çš„å€¼</li><li>è·å–åˆ°æ–¹æ³•åï¼Œé€šè¿‡<code>æ–¹æ³•.invoke()</code>æ¥æ¿€æ´»æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ‰§è¡Œæ–¹æ³•çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯æ–¹æ³•æ‰€éœ€çš„å‚æ•°ã€‚</li><li>ç”±äºç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§ä¸èƒ½è¢«ç›´æ¥æ“ä½œï¼Œå› æ­¤éœ€è¦åœ¨æ“ä½œå‰ä½¿ç”¨<code>setAccessibel(true)</code>æ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥æ“ä½œprivateä¿®é¥°çš„æ–¹æ³•å’Œå±æ€§äº†ã€‚ï¼ˆsetAccessibel(true) ä¹Ÿç§°ä¸ºæš´åŠ›å¿½ç•¥ï¼‰</li><li><code>getMathod()</code>å’Œ<code>getField()</code>ä¸ä»…å¯ä»¥è·å–åˆ°æœ¬ç±»çš„æ–¹æ³•å’Œå±æ€§ï¼Œè¿˜å¯ä»¥è·å–åˆ°ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•å’Œå±æ€§ã€‚</li></ul><h4 id="åå°„æ“ä½œæ³›å‹"><a href="#åå°„æ“ä½œæ³›å‹" class="headerlink" title="åå°„æ“ä½œæ³›å‹"></a>åå°„æ“ä½œæ³›å‹</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">ParameterizedType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Type</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span>  <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">></span></span> map<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> list<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"test1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"test2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//è·å–Classå¯¹è±¡</span>        <span class="token class-name">Class</span> c1 <span class="token operator">=</span> <span class="token class-name">Test</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–å…·ä½“çš„æ–¹æ³•</span>        <span class="token class-name">Method</span> test1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"test1"</span><span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//getGenericParameterTypes()è¿”å›ä¸€ä¸ªTypeå¯¹è±¡æ•°ç»„ï¼Œè·å–æ–¹æ³•çš„å½¢å‚ç±»å‹ï¼Œå¦‚æœå‚æ•°æ˜¯æ³›å‹ï¼Œå°†ä¼šè¿”å›å®Œæ•´çš„æ³›å‹ä¿¡æ¯</span>        <span class="token class-name">Type</span><span class="token punctuation">[</span><span class="token punctuation">]</span> genericParameterTypes <span class="token operator">=</span> test1<span class="token punctuation">.</span><span class="token function">getGenericParameterTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Type</span> genericParameterType <span class="token operator">:</span> genericParameterTypes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>genericParameterType<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//åˆ¤æ–­å‚æ•°ç±»å‹æ˜¯å¦å±äºå‚æ•°åŒ–ç±»å‹ï¼ˆåªè¦æ˜¯æ³›å‹ï¼Œä¸”ä¸æ˜¯æ•°ç»„å’Œæœ¬ç±»ä¸Šå®šä¹‰çš„æ³›å‹ï¼‰</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>genericParameterType <span class="token keyword">instanceof</span> <span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//å°†genericParameterTypå¼ºè½¬ä¸ºParameterizedTypeç±»å‹ï¼Œå¹¶ä¸”è°ƒç”¨getActualTypeArguments()æ–¹æ³•è·å–å‚æ•°åŒ–ç±»å‹ä¸­çš„å®é™…å‚æ•°</span>                <span class="token class-name">Type</span><span class="token punctuation">[</span><span class="token punctuation">]</span> actualTypeArguments <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span> genericParameterType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActualTypeArguments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Type</span> actualTypeArgument <span class="token operator">:</span> actualTypeArguments<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>actualTypeArgument<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=============æ–¹æ³•è¿”å›å€¼çš„æ³›å‹============"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ“ä½œä¸è·å–ä¸Šé¢æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸€è‡´ï¼Œä¸åŒçš„æ˜¯è·å–çš„æ˜¯è¿”å›å€¼çš„å‚æ•°ç±»å‹ getGenericReturnType()</span>        <span class="token class-name">Method</span> test2 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"test2"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Type</span> genericReturnType <span class="token operator">=</span> test2<span class="token punctuation">.</span><span class="token function">getGenericReturnType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>genericReturnType<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>genericReturnType <span class="token keyword">instanceof</span>  <span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">Type</span><span class="token punctuation">[</span><span class="token punctuation">]</span> actualTypeArguments <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span> genericReturnType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActualTypeArguments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Type</span> actualTypeArgument <span class="token operator">:</span> actualTypeArguments<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>actualTypeArgument<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span><span class="token punctuation">,</span> com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>reflection<span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">></span></span>  <span class="token comment">//è·å¾—äº†å®Œæ•´çš„æ³›å‹ä¿¡æ¯</span><span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span>    <span class="token comment">//è·å¾—äº†æ³›å‹é‡Œé¢å…·ä½“çš„å‚æ•°ç±»å‹</span><span class="token keyword">class</span> com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>reflection<span class="token punctuation">.</span><span class="token class-name">User</span>java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>reflection<span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">></span></span><span class="token keyword">class</span> com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>reflection<span class="token punctuation">.</span><span class="token class-name">User</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>æ–¹æ³•è¿”å›å€¼çš„æ³›å‹<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span><span class="token punctuation">,</span> com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>reflection<span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">></span></span><span class="token keyword">class</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span><span class="token keyword">class</span> com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>reflection<span class="token punctuation">.</span><span class="token class-name">User</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åå°„æ“ä½œæ³¨è§£"><a href="#åå°„æ“ä½œæ³¨è§£" class="headerlink" title="åå°„æ“ä½œæ³¨è§£"></a>åå°„æ“ä½œæ³¨è§£</h4><p><strong>Userç±» + è‡ªå®šä¹‰æ³¨è§£</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ElementType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Retention</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Target</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·è¡¨"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@FieldUser</span><span class="token punctuation">(</span>columnName <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span>type <span class="token operator">=</span> <span class="token string">"int"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@FieldUser</span><span class="token punctuation">(</span>columnName <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">,</span>type <span class="token operator">=</span> <span class="token string">"String"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@FieldUser</span><span class="token punctuation">(</span>columnName <span class="token operator">=</span> <span class="token string">"age"</span><span class="token punctuation">,</span>type <span class="token operator">=</span> <span class="token string">"int"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è‡ªå®šä¹‰æ³¨è§£</span><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">)</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token annotation punctuation">@interface</span> <span class="token class-name">Table</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>FIELD<span class="token punctuation">)</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token annotation punctuation">@interface</span> <span class="token class-name">FieldUser</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">columnName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æµ‹è¯•ç±»</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Annotation</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchFieldException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Class</span> c1 <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–ç±»å…¨éƒ¨çš„æ³¨è§£</span>        <span class="token class-name">Annotation</span><span class="token punctuation">[</span><span class="token punctuation">]</span> annotations <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Annotation</span> annotation <span class="token operator">:</span> annotations<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>annotation<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è·å–ç±»ç‰¹å®šçš„æ³¨è§£,å¹¶å¼ºè½¬ä¸ºç‰¹å®šçš„ç±»å‹</span>        <span class="token class-name">Table</span> annotation <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Table</span><span class="token punctuation">)</span> c1<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Table</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> value <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–å±æ€§ç‰¹å®šçš„æ³¨è§£</span>        <span class="token comment">//å…ˆè·å–å±æ€§</span>        <span class="token class-name">Field</span> name <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–å±æ€§çš„æ³¨è§£ï¼Œè¿™é‡Œä¸éœ€è¦è¿›è¡Œå¼ºè½¬ï¼Œå·²ç»æ˜¯FieldUserç±»äº†</span>        <span class="token class-name">FieldUser</span> annotation1 <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">FieldUser</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–æ³¨è§£çš„å€¼</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>annotation1<span class="token punctuation">.</span><span class="token function">columnName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>annotation1<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>==åªæœ‰å½“æ³¨è§£çš„@Retention=RUNTIMEæ—¶ï¼Œæ‰èƒ½åœ¨åå°„ä¸­è¢«è·å–åˆ°==</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;æ³¨è§£&quot;&gt;&lt;a href=&quot;#æ³¨è§£&quot; class=&quot;headerlink&quot; title=&quot;æ³¨è§£&quot;&gt;&lt;/a&gt;æ³¨è§£&lt;/h3&gt;&lt;h4 id=&quot;å…ƒæ³¨è§£&quot;&gt;&lt;a href=&quot;#å…ƒæ³¨è§£&quot; class=&quot;headerlink&quot; title=&quot;å…ƒæ³¨è§£&quot;&gt;&lt;/a&gt;å…ƒæ³¨è§£&lt;/h4&gt;&lt;p&gt;å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ï¼Œjavaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œä»–ä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶ä»–annotationç±»å‹åšè¯´æ˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;@Targetï¼šç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼ˆå³ï¼šè¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼‰&lt;/li&gt;
&lt;li&gt;@Retentionï¼šè¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨è§£ä¿¡æ¯ï¼Œç”¨æˆ·æè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼ˆsource&amp;lt;class&amp;lt;runtime)&lt;/li&gt;
&lt;li&gt;@Documentï¼šè¯´æ˜è¯¥æ³¨è§£å°†åŒ…å«åœ¨javadocä¸­&lt;/li&gt;
&lt;li&gt;@Inheritedï¼šè¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="æ¡†æ¶" scheme="http://example.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
    <category term="åº•å±‚" scheme="http://example.com/tags/%E5%BA%95%E5%B1%82/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot</title>
    <link href="http://example.com/2020/10/14/Springboot/"/>
    <id>http://example.com/2020/10/14/Springboot/</id>
    <published>2020-10-14T11:56:42.455Z</published>
    <updated>2020-10-14T11:56:51.757Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€ä¸ªSpringBootç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªSpringBootç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªSpringBootç¨‹åº"></a>ç¬¬ä¸€ä¸ªSpringBootç¨‹åº</h2><p>å®˜æ–¹æä¾›äº†ä¸€ä¸ªå¿«é€Ÿç”Ÿæˆçš„ç½‘ç«™ï¼Œideaé›†æˆäº†è¿™ä¸ªç½‘ç«™ã€‚</p><a id="more"></a><p><img src="images/blog/image-20200927194923490.png" alt="image-20200927194923490"></p><h3 id="Hello-SpringBootç¨‹åº"><a href="#Hello-SpringBootç¨‹åº" class="headerlink" title="Hello,SpringBootç¨‹åº"></a>Hello,SpringBootç¨‹åº</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>helloworld</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span><span class="token comment">//ç¨‹åºçš„ä¸»å…¥å£</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloworldApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HelloworldApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>helloworld<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//æ¥å£ï¼šhttp://localhost:8080/hello</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token keyword">return</span> <span class="token string">"helloï¼ŒSpringBoot!"</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="mavenä¾èµ–"><a href="#mavenä¾èµ–" class="headerlink" title="mavenä¾èµ–"></a>mavenä¾èµ–</h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.3.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- lookup parent from repository --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>helloworld<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>helloworld<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span>Demo project for Spring Boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--webä¾èµ–ï¼štomcat,dispatcherServlet,xml--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--spring-boot-starter æ‰€æœ‰çš„springbootä¾èµ–éƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªå¼€å¤´çš„--></span>        <span class="token comment">&lt;!--å•å…ƒæµ‹è¯•--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.junit.vintage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit-vintage-engine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ‰“jaråŒ…æ’ä»¶--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="springbootç¨‹åºæ‰“åŒ…"><a href="#springbootç¨‹åºæ‰“åŒ…" class="headerlink" title="springbootç¨‹åºæ‰“åŒ…"></a>springbootç¨‹åºæ‰“åŒ…</h3><p>é¦–å…ˆéœ€è¦å¼•å…¥æ‰“jaråŒ…çš„æ’ä»¶ï¼ˆspringbootæ‰“æˆjaråŒ…ï¼Œä¹‹å‰æ˜¯waråŒ…ï¼‰</p><p>åœ¨mavenä¸­çš„Lifecycleä¸­ç‚¹å‡»package</p><p><img src="images/blog/image-20200927201339226.png" alt="image-20200927201339226"></p><p>å½“æ§åˆ¶å°å‡ºç°<code>BUILD SUCCESS</code>è¯´æ˜æ‰“åŒ…æˆåŠŸ</p><p>åœ¨è¯¥é¡¹ç›®çš„targetç›®å½•ä¸‹ä¼šå‡ºç°ä¸€ä¸ªjaræ–‡ä»¶ã€‚åœ¨dosçª—å£ä¸­ä½¿ç”¨<code>java -jar jaråŒ…çš„åå­—.jar</code>è¿è¡Œè¿™ä¸ªspringbootç¨‹åº</p><p>ä½¿ç”¨dosçª—å£è¿è¡Œçš„æ—¶å€™ï¼Œå¿…é¡»å…ˆå®šä½åˆ°jaråŒ…æ‰€åœ¨å¾—åˆ°ç›®å½•ä¸‹ã€‚</p><p><strong>å°æ’æ›²</strong></p><ul><li><p>åœ¨dosçª—å£ä¸­ï¼Œç›´æ¥è¾“å…¥ç›˜ç¬¦å’Œå†’å·å°±å¯ä»¥åˆ‡æ¢ç›˜ç¬¦</p><p><img src="images/blog/image-20200927202308137.png" alt="image-20200927202308137"></p></li><li><p>åˆ‡æ¢ç›˜ç¬¦åä½¿ç”¨cd ç›®å½•åç§°å¯ä»¥åˆ‡æ¢å·¥ä½œç›®å½•</p><p><img src="images/blog/image-20200927202619592.png" alt="image-20200927202619592"></p></li></ul><h3 id="å°å½©è›‹"><a href="#å°å½©è›‹" class="headerlink" title="å°å½©è›‹"></a>å°å½©è›‹</h3><ol><li><p>ä¿®æ”¹ç«¯å£å·</p><p>åœ¨application.propertiesä¸­é…ç½®</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">server.port=8081<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>ä¿®æ”¹æ§åˆ¶å°çš„springå¯åŠ¨æ ‡å¿—</p></li></ol><p><img src="images/blog/image-20200927203905671.png" alt="image-20200927203905671"></p><ul><li>ç™¾åº¦åœ¨çº¿æœç´¢springbanner : <a href="https://www.bootschool.net/ascii/">springbanner</a>ï¼Œç„¶åå¤åˆ¶è‡ªå·±æƒ³è¦çš„ã€‚<pre><code>- åœ¨springbootçš„resourceä¸‹é¢æ–°å»ºä¸€ä¸ªbanner.txt,ç²˜è´´å¤åˆ¶çš„å†…å®¹- é‡å¯springboot</code></pre></li></ul><h2 id="SpringBootè‡ªåŠ¨è£…é…åŸç†"><a href="#SpringBootè‡ªåŠ¨è£…é…åŸç†" class="headerlink" title="SpringBootè‡ªåŠ¨è£…é…åŸç†"></a>SpringBootè‡ªåŠ¨è£…é…åŸç†</h2><h3 id="å¯åŠ¨å™¨"><a href="#å¯åŠ¨å™¨" class="headerlink" title="å¯åŠ¨å™¨"></a>å¯åŠ¨å™¨</h3><ul><li>å½¢å¦‚<code>spring-boot-starter-xxx</code>è¿™æ ·çš„å°±æ˜¯å¯åŠ¨å™¨ï¼Œå¯åŠ¨å™¨è¯´ç™½äº†å°±æ˜¯springbootçš„å¯åŠ¨åœºæ™¯ã€‚</li><li>æ¯”å¦‚<code>spring-boot-starte-web</code>ï¼Œå®ƒå°±ä¼šå¸®æˆ‘ä»¬å¯¼å…¥webç¯å¢ƒæ‰€æœ‰çš„ä¾èµ–ï¼</li><li>springbootä¼šå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯éƒ½å˜æˆä¸€ä¸ªä¸ªçš„å¯åŠ¨å™¨ã€‚</li><li>æˆ‘ä»¬è¦æ˜¯ç”¨ä»€ä¹ˆåŠŸèƒ½ï¼Œå°±åªéœ€è¦æ‰¾åˆ°å¯¹åº”çš„å¯åŠ¨å™¨å°±å¯ä»¥äº†ã€‚</li></ul><h3 id="ä¸»ç¨‹åº"><a href="#ä¸»ç¨‹åº" class="headerlink" title="ä¸»ç¨‹åº"></a>ä¸»ç¨‹åº</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>helloworld</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span><span class="token comment">//ç¨‹åºçš„ä¸»å…¥å£</span><span class="token comment">//@SpringBootApplicationï¼šæ ‡æ³¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªSpringbootçš„ä¸»é…ç½®ç±»ï¼ŒSpringbootå°±åº”è¯¥è¿è¡Œè¿™ä¸ªç±»çš„mainæ–¹æ³•æ¥å¯åŠ¨springbootåº”ç”¨ã€‚</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloworldApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å°†springbootåº”ç”¨å¯åŠ¨</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HelloworldApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token annotation punctuation">@Documented</span><span class="token annotation punctuation">@Inherited</span><span class="token annotation punctuation">@SpringBootConfiguration</span><span class="token annotation punctuation">@EnableAutoConfiguration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>    excludeFilters <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>    type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>CUSTOM<span class="token punctuation">,</span>    classes <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token class-name">TypeExcludeFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>    type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>CUSTOM<span class="token punctuation">,</span>    classes <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token class-name">AutoConfigurationExcludeFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">SpringBootApplication</span> <span class="token punctuation">&#123;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>@SpringBootConfigurationï¼š</strong>SpringBootçš„é…ç½®ç±»ï¼›   </p><p>â€‹                æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpringBootçš„é…ç½®ç±»ï¼›</p><p>â€‹                @<strong>Configurationï¼š</strong>é…ç½®ç±»ä¸Šæ¥æ ‡æ³¨è¿™ä¸ªæ³¨è§£ï¼›</p><p>â€‹                            é…ç½®ç±»â€”â€”é…ç½®æ–‡ä»¶ï¼›é…ç½®ç±»ä¹Ÿæ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼›@Component</p><p>@<strong>EnableAutoConfigurationï¼š</strong>å¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½</p><p>â€‹            ä»¥å‰æˆ‘ä»¬éœ€è¦é…ç½®çš„ä¸œè¥¿ï¼ŒSpringBootå¸®æˆ‘ä»¬è‡ªåŠ¨é…ç½®ï¼›@<strong>EnableAutoConfiguration</strong>å‘Šè¯‰springbootå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼Œè¿™æ ·è‡ªåŠ¨é…ç½®æ‰èƒ½ç”Ÿæ•ˆï¼›</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@AutoConfigurationPackage</span><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token class-name">AutoConfigurationImportSelector</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">EnableAutoConfiguration</span> <span class="token punctuation">&#123;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>@<strong>AutoConfigurationPackageï¼š</strong>è‡ªåŠ¨é…ç½®åŒ…</p><p>â€‹        @Import(AutoConfigurationPackages.Registrar.class)ï¼š</p><p>â€‹        Springçš„åº•å±‚æ³¨è§£@Importï¼Œç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶ã€‚</p><p>â€‹        <strong>AutoConfigurationPackageçš„ä½œç”¨ï¼šå°†ä¸»é…ç½®ç±»ï¼ˆ@SpringBootApplicationæ ‡æ³¨çš„ç±»ï¼‰çš„æ‰€åœ¨åŒ…åŠä¸‹é¢æ‰€æœ‰çš„å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨</strong></p><p>@<strong>Import</strong>({AutoConfigurationImportSelector.class})</p><p>â€‹    ç»™å®¹å™¨ä¸­å¯¼å…¥ç»„ä»¶</p><p>â€‹    AutoConfigurationImportSelector:å¯¼å…¥å“ªäº›ç»„ä»¶çš„é€‰æ‹©å™¨ï¼›</p><p>â€‹    å°†æ‰€æœ‰éœ€è¦å¯¼å…¥çš„ç»„ä»¶ä»¥å…¨ç±»åçš„æ–¹å¼è¿”å›ï¼Œè¿™äº›ç»„ä»¶å°±ä¼šè¢«æ·»åŠ åˆ°å®¹å™¨ä¸­ã€‚</p><p>ä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±»ï¼ˆxxxAutoConfigurationï¼‰,å°±æ˜¯ç»™å®¹å™¨ä¸­å¯¼å…¥è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ã€‚</p><p><img src="images/blog/image-20201005220032627.png" alt="image-20201005220032627"></p><p>æœ‰äº†è‡ªåŠ¨é…ç½®ç±»ï¼Œå…å»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ³¨å…¥åŠŸèƒ½ç»„ä»¶ç­‰å·¥ä½œã€‚</p><p>SpringBootåœ¨å¯åŠ¨çš„æ—¶å€™ä»ç±»è·¯å¾„ä¸‹çš„META-INF/spring.factoriesä¸­è·å–EnableAutoConfigurationæŒ‡å®šçš„å€¼ã€‚å°†è¿™äº›å€¼ä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥åˆ°å®¹å™¨ä¸­ï¼Œè‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆäº†ï¼Œå¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œã€‚ä»¥å‰æˆ‘ä»¬éœ€è¦è‡ªå·±é…ç½®çš„ä¸œè¥¿ï¼Œè‡ªåŠ¨é…ç½®ç±»éƒ½å¸®æˆ‘ä»¬é…ç½®å¥½äº†ã€‚</p><p>J2EEçš„æ•´ä½“æ•´åˆè§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®éƒ½åœ¨<code>spring-boot-autoconfigure-2.3.3.RELEASE</code>  META-INF/spring.factories</p><p>ç»“è®ºï¼šspringbootæ‰€æœ‰è‡ªåŠ¨é…ç½®éƒ½æ˜¯åœ¨å¯åŠ¨çš„æ—¶å€™æ‰«æå¹¶åŠ è½½ï¼š<code>spring.factories</code>æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»éƒ½åœ¨è¿™é‡Œé¢ï¼Œä½†æ˜¯ä¸ä¸€å®šæ‰€æœ‰çš„é…ç½®éƒ½ä¼šç”Ÿæ•ˆï¼Œè¦åˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ã€‚åªè¦å¯¼å…¥äº†ç›¸åº”çš„starï¼Œå°±ä¼šæœ‰å¯¹åº”çš„å¯åŠ¨å™¨ï¼Œæœ‰äº†å¯åŠ¨å™¨ï¼Œæˆ‘ä»¬çš„è‡ªåŠ¨è£…é…å°±ä¼šç”Ÿæ•ˆï¼Œç„¶åå°±é…ç½®æˆåŠŸã€‚</p><h2 id="yamlè¯­æ³•è®²è§£"><a href="#yamlè¯­æ³•è®²è§£" class="headerlink" title="yamlè¯­æ³•è®²è§£"></a>yamlè¯­æ³•è®²è§£</h2><p>Springbootä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åç§°æ˜¯å›ºå®šçš„ï¼šapplication.propertiesæˆ–è€…application.yml</p><ul><li>application.properties<ul><li>è¯­æ³•ç»“æ„ï¼škey=value</li></ul></li><li>application.yml<ul><li>è¯­æ³•ç»“æ„ï¼škey:ï¼ˆç©ºæ ¼ï¼‰value</li></ul></li></ul><p><strong>é…ç½®æ–‡ä»¶çš„ä½œç”¨</strong>ï¼šä¿®æ”¹SpringBootè‡ªåŠ¨é…ç½®çš„é»˜è®¤å€¼ï¼Œå› ä¸ºSpringBootåœ¨åº•å±‚éƒ½ç»™æˆ‘ä»¬è‡ªåŠ¨é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å†™é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹é»˜è®¤é…ç½®ã€‚</p><h3 id="yamlè¯­æ³•"><a href="#yamlè¯­æ³•" class="headerlink" title="yamlè¯­æ³•"></a>yamlè¯­æ³•</h3><p><strong>å¯¹ç©ºæ ¼çš„è¦æ±‚ååˆ†è¦æ±‚ï¼Œä¸èƒ½ä¹±å†™ç©ºæ ¼ï¼ï¼ï¼ï¼</strong></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">#æ™®é€šçš„key-value</span><span class="token key atrule">name</span><span class="token punctuation">:</span> pty<span class="token comment">#å¯¹è±¡</span><span class="token key atrule">student</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> pty  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">12</span>  <span class="token key atrule">sex</span><span class="token punctuation">:</span> M<span class="token comment">#å¯¹è±¡çš„è¡Œå†…å†™æ³•</span><span class="token key atrule">student</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token key atrule">name</span><span class="token punctuation">:</span> pty<span class="token punctuation">,</span><span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span><span class="token key atrule">sex</span><span class="token punctuation">:</span> M<span class="token punctuation">&#125;</span><span class="token comment">#æ•°ç»„</span><span class="token key atrule">pets</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> dog  <span class="token punctuation">-</span> cat  <span class="token punctuation">-</span> pig    <span class="token comment">#æ•°ç»„çš„è¡Œå†…å†™æ³•</span><span class="token key atrule">pets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>cat<span class="token punctuation">,</span>dog<span class="token punctuation">,</span>pig<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="yamlç»™å®ä½“ç±»èµ‹å€¼"><a href="#yamlç»™å®ä½“ç±»èµ‹å€¼" class="headerlink" title="yamlç»™å®ä½“ç±»èµ‹å€¼"></a>yamlç»™å®ä½“ç±»èµ‹å€¼</h3><p>springä¸­èµ‹å€¼çš„æ–¹æ³•</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//å°†è¿™ä¸ªç±»æ³¨å†Œåˆ°iocå®¹å™¨é‡Œé¢ï¼Œç›¸å½“äºå†™äº†ä¸ª&lt;bean class="" id=""/></span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"æ—ºè´¢"</span><span class="token punctuation">)</span>   <span class="token comment">//ä½¿ç”¨@Valueæ³¨è§£ç»™å‚æ•°æ³¨å…¥å€¼ï¼Œ@Valueå¯ä»¥å†™åœ¨setæ–¹æ³•ä¸Šï¼Œ</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"14"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨yamlèµ‹å€¼</p><ul><li>åœ¨application.ymlä¸­å†™ä¸Šå±æ€§å¯¹åº”çš„å€¼</li></ul><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">dog</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> èƒœåˆ©  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">4</span>  <span class="token comment">#æ³¨æ„è¯­æ³•ï¼Œå†’å·åé¢æœ‰ç©ºæ ¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åœ¨å®ä½“ç±»ä¸Šå†™ä¸Š<code>@ConfigurationPropertiesï¼ˆprefix=&quot;&quot;ï¼‰</code>æ³¨è§£ã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//æ³¨å†Œåˆ°iocå®¹å™¨</span><span class="token annotation punctuation">@Component</span><span class="token comment">//prefixä¸­å†™ä¸Šè¯¥å®ä½“ç±»å±æ€§åœ¨ymlæ–‡ä»¶ä¸­çš„å¯¹è±¡åï¼Œå¹¶ä¸”prefixä¸­çš„å‚æ•°ä¸èƒ½å†™å¤§å†™ï¼Œå¦‚ä¸èƒ½å†™Dog</span><span class="token comment">//ä½†æ˜¯åœ¨application.ymlä¸­å¯ä»¥å¯ä»¥å†™å¤§å†™ï¼šDog</span><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"dog"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@ConfigurationPropertiesä½œç”¨ï¼šå°†é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ¯ä¸€ä¸ªå±æ€§çš„å€¼ï¼Œæ˜ å°„åˆ°è¿™ä¸ªç»„ä»¶ä¸­ï¼Œå‘Šè¯‰SpringBootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±æ€§å’Œé…ç½®æ–‡ä»¶ä¸­çš„ç›¸å…³é…ç½®è¿›è¡Œç»‘å®šï¼Œå‚æ•°<code>prefix=&quot;dog&quot;</code>ï¼šå°†é…ç½®æ–‡ä»¶ä¸­çš„dogä¸‹é¢çš„å±æ€§ä¸å®ä½“ç±»çš„å±æ€§ä¸€ä¸€å¯¹åº”ã€‚</p><p>@Value:è¿˜å¯ä»¥ä½¿ç”¨@Valueè¿›è¡Œèµ‹å€¼ã€‚</p><ul><li>è¯­æ³•ï¼š  ${key}  #{SpEL},ä»ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ä¸­è·å–å€¼</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;person.name&#125;"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"#&#123;11*2&#125;"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">person</span><span class="token punctuation">:</span>    <span class="token comment">#è¿™é‡Œå¯ä»¥å†™å¤§å†™ï¼Œä½†æ˜¯åœ¨prefix=""é‡Œé¢ä¸èƒ½å†™å¤§å†™</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> pty  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">12</span>  <span class="token key atrule">dog</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> èƒœåˆ©    <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">4</span>  <span class="token key atrule">list</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>lq<span class="token punctuation">,</span>ppq<span class="token punctuation">,</span>zq<span class="token punctuation">]</span>  <span class="token key atrule">map</span><span class="token punctuation">:</span>    <span class="token key atrule">k1</span><span class="token punctuation">:</span> v1    <span class="token key atrule">k2</span><span class="token punctuation">:</span> v2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@Valueå’Œ@ConfigurationPropertiesä¸ºå±æ€§æ³¨å€¼å¯¹æ¯”</p><table><thead><tr><th></th><th>@Value</th><th>@ConfigurationProperties</th></tr></thead><tbody><tr><td>åŠŸèƒ½</td><td>ä¸€ä¸ªä¸ªæŒ‡å®šæ³¨å…¥</td><td>æ‰¹é‡æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§</td></tr><tr><td>æ¾æ•£ç»‘å®š</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>SpEl</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>JSR-303æ•°æ®æ ¡éªŒ</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr></tbody></table><h3 id="JSR-303"><a href="#JSR-303" class="headerlink" title="JSR-303"></a>JSR-303</h3><p>JSR-303æ˜¯ç”¨æ¥å¯¹æ•°æ®çš„æ ¼å¼è¿›è¡Œæ ¡éªŒçš„ã€‚</p><p>è™½ç„¶è¯´å‰ç«¯å¯ä»¥æ•°æ®è¿›è¡Œæ ¡éªŒï¼Œä½†æœ€å¥½æ˜¯å‰åç«¯éƒ½è¿›è¡Œæ£€éªŒï¼Œè¿™æ ·ä¼šæ›´åŠ å®‰å…¨</p><ul><li>åœ¨springboot.2.3.0ä»¥åï¼Œéœ€è¦å¯¼å…¥åæ ‡æ‰èƒ½å¤Ÿä½¿ç”¨ã€‚</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.hibernate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>6.0.17.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åœ¨å®ä½“ç±»ä¸Šé¢å†™ä¸Š<code>@Validata</code>æ³¨è§£</li><li>åœ¨éœ€è¦æ£€éªŒæ ¼å¼çš„å±æ€§ä¸Šé¢å†™ä¸Šå¯¹åº”æ ¼å¼çš„æ³¨è§£</li></ul><p>å‚è€ƒè¿™ç¯‡åšå®¢ï¼š<a href="https://blog.csdn.net/qq_28867949/article/details/78922520">JSR-303</a></p><h3 id="å¤šç¯å¢ƒé…ç½®åŠé…ç½®æ–‡ä»¶ä½ç½®"><a href="#å¤šç¯å¢ƒé…ç½®åŠé…ç½®æ–‡ä»¶ä½ç½®" class="headerlink" title="å¤šç¯å¢ƒé…ç½®åŠé…ç½®æ–‡ä»¶ä½ç½®"></a>å¤šç¯å¢ƒé…ç½®åŠé…ç½®æ–‡ä»¶ä½ç½®</h3><h4 id="é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº"><a href="#é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº" class="headerlink" title="é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº"></a>é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº</h4><p>Applicationå±æ€§æ–‡ä»¶ï¼ŒæŒ‰ä¼˜å…ˆçº§é¡ºåºæ’åºï¼Œä½ç½®é«˜çš„å°†è¦†ç›–ä½ç½®ä½çš„</p><ol><li>å½“å‰é¡¹ç›®ç›®å½•ä¸‹çš„ä¸€ä¸ª/configå­ç›®å½•</li><li>å½“å‰é¡¹ç›®ç›®å½•</li><li>é¡¹ç›®çš„resourceså³ä¸€ä¸ªclasspathä¸‹çš„/configåŒ…</li><li>é¡¹ç›®çš„resourceså³classpathæ ¹è·¯å¾„ï¼ˆrootï¼‰</li></ol><p><img src="images/blog/image-20200928174407131.png" alt="image-20200928174407131"></p><p><strong>å¦‚æœåœ¨ä¸åŒçš„ç›®å½•ä¸­å­˜åœ¨å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œå®ƒçš„è¯»å–é¡ºåºæ˜¯ï¼š</strong></p><ol><li>config/application.propertiesï¼ˆé¡¹ç›®æ ¹ç›®å½•ä¸­configç›®å½•ä¸‹ï¼‰</li><li>config/application.yml</li><li>application.propertiesï¼ˆé¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼‰application.yml</li><li>resources/config/application.propertiesï¼ˆé¡¹ç›®resourcesç›®å½•ä¸­configç›®å½•ä¸‹ï¼‰</li><li>resources/config/application.yml</li><li>resources/application.propertiesï¼ˆé¡¹ç›®çš„resourcesç›®å½•ä¸‹ï¼‰</li><li>resources/application.yml</li></ol><p>å³ï¼šåœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œå…ˆåŠ è½½.propertiesæ–‡ä»¶ï¼Œå†åŠ è½½.ymlæ–‡ä»¶ã€‚</p><h4 id="å¤šç¯å¢ƒé…ç½®"><a href="#å¤šç¯å¢ƒé…ç½®" class="headerlink" title="å¤šç¯å¢ƒé…ç½®"></a>å¤šç¯å¢ƒé…ç½®</h4><p>yamlæ–‡ä»¶ä¸­é€šè¿‡â€”ï¼ˆ3æ¡æ ï¼‰æ¥åŒºåˆ†å¤šä¸ªç¯å¢ƒé…ç½®</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span> <span class="token comment">#é»˜è®¤ä½¿ç”¨æœ€ä¸Šé¢çš„è¿™ä¸ªé…ç½®æ–‡ä»¶</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev    <span class="token comment">#ä½¿ç”¨åå­—å«devçš„é…ç½®æ–‡ä»¶</span><span class="token punctuation">---</span>     <span class="token comment">#ä½¿ç”¨ä¸‰æ¡æ éš”å¼€ï¼Œè¡¨ç¤ºæ˜¯å¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚è¿™é‡Œé…ç½®äº†3ä¸ªé…ç½®æ–‡ä»¶</span><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev  <span class="token comment">#ç»™è¿™ä¸ªé…ç½®æ–‡ä»¶å–åå­—</span><span class="token punctuation">---</span><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8082</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> test<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç»“è®ºï¼š"><a href="#ç»“è®ºï¼š" class="headerlink" title="ç»“è®ºï¼š"></a>ç»“è®ºï¼š</h3><ul><li>é…ç½®ymlå’Œé…ç½®propertieséƒ½å¯ä»¥è·å–åˆ°æŒ‡ï¼Œå¼ºçƒˆæ¨èyml</li><li>å¦‚æœæˆ‘ä»¬åœ¨æŸä¸ªä¸šåŠ¡ä¸­ï¼Œåªéœ€è¦è·å–é…ç½®æ–‡ä»¶ä¸­çš„æŸä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨@value</li><li>å¦‚æœæˆ‘ä»¬ä¸“é—¨ç¼–å†™äº†ä¸€ä¸ªJavaBeanæ¥å’Œé…ç½®æ–‡ä»¶è¿›è¡Œæ˜ å°„ï¼Œå°±ç›´æ¥ä½¿ç”¨@configurationPropertiesï¼Œä¸è¦çŠ¹è±«ã€‚</li></ul><h2 id="SpringBoot-Webå¼€å‘"><a href="#SpringBoot-Webå¼€å‘" class="headerlink" title="SpringBoot Webå¼€å‘"></a>SpringBoot Webå¼€å‘</h2><h3 id="åŠ è½½é™æ€èµ„æº"><a href="#åŠ è½½é™æ€èµ„æº" class="headerlink" title="åŠ è½½é™æ€èµ„æº"></a>åŠ è½½é™æ€èµ„æº</h3><ol><li>åœ¨Springbootä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å¤„ç†é™æ€èµ„æº<ul><li>webjars   <code>localhost:8080/webjars/</code></li><li>publicã€staticã€/**ã€resources    <code>localhost:8080/</code></li></ul></li><li>ä¼˜å…ˆçº§ï¼šresources&gt;static&gt;public</li><li>templatesç›®å½•ä¸‹çš„æ–‡ä»¶ä¸èƒ½å¤Ÿç›´æ¥è®¿é—®ï¼Œåªèƒ½é€šè¿‡controlleræ¥è·³è½¬ã€‚</li></ol><h2 id="SpringBoot-æ‰©å±•SpringMvc"><a href="#SpringBoot-æ‰©å±•SpringMvc" class="headerlink" title="SpringBoot æ‰©å±•SpringMvc"></a>SpringBoot æ‰©å±•SpringMvc</h2><p>åœ¨spring bootä¸­ MVCè¿™éƒ¨åˆ†ä¹Ÿæœ‰é»˜è®¤è‡ªåŠ¨é…ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸ç”¨åšä»»ä½•é…ç½®ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯OKçš„ï¼Œè¿™ä¸ªé…ç½®ç±»å°±æ˜¯ WebMvcAutoConfigurationï¼Œä½†æ˜¯ä¹Ÿæ—¶å€™æˆ‘ä»¬æƒ³è®¾ç½®è‡ªå·±çš„springMvcé…ç½®æ€ä¹ˆåŠå‘¢ ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™ä¸ªè‡ªå·±çš„é…ç½®ç±»ï¼Œå®ç° WebMvcConfigureræ¥å£ï¼Œé‡å†™éœ€è¦çš„é…ç½®æ–¹æ³• ã€‚åœ¨spring boot æ—©æœŸæ˜¯ç»§æ‰¿WebMvcConfigurerAdapter ï¼Œä½†æ˜¯é«˜ç‰ˆå·²æ ‡ä¸Šæ³¨è§£@Deprecatedï¼Œ<strong>æ³¨æ„ï¼šåœ¨é…ç½®ç±»ä¸­ä¸è¦æ ‡æ³¨ï¼š@EnableWebMvcï¼Œå¦åˆ™ï¼Œspring bootçš„é…ç½®å…¨éƒ¨å¤±æ•ˆï¼Œåªç•™è‡ªå·±æ‰©å±•é…ç½®ã€‚</strong></p><p>Springbootåœ¨è‡ªåŠ¨é…ç½®çš„æ—¶å€™ï¼Œå…ˆçœ‹å®¹å™¨ä¸­æœ‰æ²¡æœ‰ç”¨æˆ·è‡ªå·±é…ç½®çš„ï¼Œå¦‚æœæœ‰ï¼Œå°±ç”¨ç”¨æˆ·è‡ªå·±é…ç½®çš„ï¼Œæ²¡æœ‰æ‰è‡ªåŠ¨é…ç½®ã€‚å¦‚æœæœ‰äº›ç»„ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼ˆViewResolver)å°†ç”¨æˆ·é…ç½®çš„å’Œspringbooté»˜è®¤çš„ç»„åˆèµ·æ¥ã€‚    </p><p>è‡ªå®šä¹‰è§†å›¾è·³è½¬</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>   <span class="token comment">//æ ‡å¿—è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªspringçš„é…ç½®ç±»</span><span class="token comment">//å®ç°WebMvcConfigureræ¥å£ï¼Œé‡å†™é‡Œé¢çš„æ–¹æ³•ï¼Œå®ç°åŠŸèƒ½</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMvcConfiig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span><span class="token class-name">ViewControllerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å½“æµè§ˆå™¨è¯·æ±‚/helloæ—¶ï¼Œè·³è½¬åˆ°testé¡µé¢</span>        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡ªå®šä¹‰è§†å›¾è§£æå™¨</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span> <span class="token comment">// æ ‡æ³¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMvcConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// å°†è§†å›¾è§£æå™¨é…ç½®åˆ°å®¹å™¨ä¸­</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">ViewResolver</span> <span class="token function">myViewResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyViewResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">// è‡ªå®šä¹‰ä¸€ä¸ªè§†å›¾è§£æå™¨</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MyViewResolver</span> <span class="token keyword">implements</span> <span class="token class-name">ViewResolver</span> <span class="token punctuation">&#123;</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token class-name">View</span> <span class="token function">resolveViewName</span><span class="token punctuation">(</span><span class="token class-name">String</span> viewName<span class="token punctuation">,</span> <span class="token class-name">Locale</span> locale<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šå¸¸æˆ‘ä»¬åœ¨é¦–é¡µä½¿ç”¨è‡ªå®šä¹‰è§†å›¾è·³è½¬ï¼Œå½“ç”¨æˆ·åªè¾“å…¥ä¸»æœº+ipæ—¶ä¹Ÿèƒ½å¤Ÿè®¿é—®åˆ°æˆ‘ä»¬çš„é¡¹ç›®ã€‚</p><p>æˆ‘ä¹‹å‰æ˜¯å°†æ‰€æœ‰çš„é™æ€æ–‡ä»¶æ”¾åœ¨staticç›®å½•ä¸‹ï¼Œç»è¿‡æµ‹è¯•å‘ç°addviewControllersæ— æ³•æ˜ å°„åˆ°staticç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¯ä»¥æ˜ å°„åˆ°templatesç›®å½•ä¸‹ã€‚</p><p>å…¶æ¬¡å½“æ˜ å°„æˆåŠŸäº†ä»¥åï¼Œæˆ‘å‘ç°é¡µé¢çš„CSSæ ·å¼ç­‰éƒ½æ— æ³•åŠ è½½ã€‚æŸ¥çœ‹ä»¥åå‘ç°è¿™äº›æ–‡ä»¶è¯·æ±‚çš„åœ°å€æ˜¯<code>localhost:8080/static/css/...</code>ï¼Œä½†æ˜¯é»˜è®¤è®¿é—®cssçš„åœ°å€æ˜¯<code>localhost:8080/css/...</code>,æ‰€ä»¥éœ€è¦åœ¨é¡µé¢ä¸­ä¿®æ”¹å¼•å…¥cssæ ·å¼çš„åœ°å€ï¼Œç”±<code>&quot;../static/css/login.css&quot;</code>ä¿®æ”¹ä¸º<code>&quot;/css/login.css&quot;</code>ã€‚</p><p>ç»è¿‡æµ‹è¯•å‘ç°ï¼Œä¸Šè¿°æ–¹æ³•éœ€è¦å¯¼å…¥thymeleafã€‚springbooté»˜è®¤staticç”¨æ¥æ”¾é™æ€èµ„æºï¼Œtemplatesç”¨æ¥æ”¾åŠ¨æ€èµ„æºï¼Œä½¿ç”¨è¯•å›¾è·³è½¬åçš„é¡µé¢åº”è¯¥å±äºåŠ¨æ€çš„ï¼Œæ‰€ä»¥è®¿é—®ä¸äº†staticç›®å½•ä¸‹çš„é¡µé¢ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå·±æ¥è®¾ç½®è§†å›¾è§£æå™¨çš„å‰åç¼€æ¥å®ç°è·³è½¬åˆ°staticç›®å½•ä¸‹ã€‚</p><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#propertieså†™æ³•</span><span class="token attr-name">spring.mvc.view.prefix</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span class="token attr-name">spring.mvc.view.suffix</span><span class="token punctuation">=</span><span class="token attr-value">.html</span><span class="token comment">#yamlå†™æ³•</span><span class="token attr-name">spring</span><span class="token punctuation">:</span><span class="token attr-name">  mvc</span><span class="token punctuation">:</span><span class="token attr-name">    view</span><span class="token punctuation">:</span><span class="token attr-name">      prefix</span><span class="token punctuation">:</span> <span class="token attr-value">/</span><span class="token attr-name">      suffix</span><span class="token punctuation">:</span> <span class="token attr-value">.html</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”±äºspringbootä¼šé»˜è®¤åœ¨staticä¸‹æ‰¾é™æ€èµ„æºï¼Œæ‰€ä»¥è®¿é—®staticç›®å½•ä¸‹çš„åœ°å€æ˜¯<code>localhost:8080/</code>,å› æ­¤æˆ‘ä»¬çš„å‰ç¼€åªè¦æ˜¯ä¸€ä¸ª<code>/</code>å³å¯ï¼Œè€Œåç¼€å°±æ˜¯.html (æˆ‘ä¸€å¼€å§‹æ²¡è®¾ç½®åç¼€è·³è½¬ä¸æˆåŠŸï¼Œæ‰¾ä¸åˆ°æ–‡ä»¶)ï¼Œè¿™ç§æ–¹æ³•ä¸éœ€è¦å¯¼å…¥thymeleafã€‚</p><h2 id="SpringBootæ¨èæ·»åŠ ç»„ä»¶çš„æ–¹å¼"><a href="#SpringBootæ¨èæ·»åŠ ç»„ä»¶çš„æ–¹å¼" class="headerlink" title="SpringBootæ¨èæ·»åŠ ç»„ä»¶çš„æ–¹å¼"></a>SpringBootæ¨èæ·»åŠ ç»„ä»¶çš„æ–¹å¼</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>@ImportResource(locations=&#123;&quot;classpath:xxxxz&quot;&#125;)</code>æ¥å¼•å…¥è‡ªå·±å†™çš„springçš„é…ç½®æ–‡ä»¶</p><p>ä½†æ˜¯springbootæ¨èæˆ‘ä»¬ä½¿ç”¨å…¨æ³¨è§£çš„æ–¹å¼ï¼š</p><ol><li>é…ç½®ç±»========Springçš„é…ç½®æ–‡ä»¶</li><li>ä½¿ç”¨@Beanç»™å®¹å™¨æ·»åŠ ç»„ä»¶</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token comment">/** * @Configuration:  æŒ‡æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œå°±æ˜¯ç”¨æ¥æ›¿ä»£ä¹‹å‰çš„Springçš„é…ç½®æ–‡ä»¶ * * * åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨&lt;bean>&lt;/bean>æ ‡ç­¾æ¥æ·»åŠ ç»„ä»¶ * åœ¨é…ç½®ç±»ä¸­ä½¿ç”¨@Beanæ¥æ·»åŠ ç»„ä»¶ */</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMvcConfiig</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//å°†æ–¹æ³•çš„è¿”å›å€¼æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼Œå®¹å™¨ä¸­çš„è¿™ä¸ªç»„ä»¶é»˜è®¤çš„idå°±æ˜¯æ–¹æ³•åã€‚</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">HelloService</span> <span class="token function">helloService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HelloService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ç¬¬ä¸€ä¸ªSpringBootç¨‹åº&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€ä¸ªSpringBootç¨‹åº&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€ä¸ªSpringBootç¨‹åº&quot;&gt;&lt;/a&gt;ç¬¬ä¸€ä¸ªSpringBootç¨‹åº&lt;/h2&gt;&lt;p&gt;å®˜æ–¹æä¾›äº†ä¸€ä¸ªå¿«é€Ÿç”Ÿæˆçš„ç½‘ç«™ï¼Œideaé›†æˆäº†è¿™ä¸ªç½‘ç«™ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="ç¬”è®°" scheme="http://example.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="springboot" scheme="http://example.com/tags/springboot/"/>
    
    <category term="åç«¯" scheme="http://example.com/tags/%E5%90%8E%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯è®¾è®¡å¼€å‘</title>
    <link href="http://example.com/2020/10/12/%E5%89%8D%E7%AB%AF/"/>
    <id>http://example.com/2020/10/12/%E5%89%8D%E7%AB%AF/</id>
    <published>2020-10-12T11:46:30.504Z</published>
    <updated>2020-10-14T11:55:27.573Z</updated>
    
    <content type="html"><![CDATA[<h2 id="html"><a href="#html" class="headerlink" title="html"></a>html</h2><h3 id="1-1åŸºæœ¬æ ‡ç­¾"><a href="#1-1åŸºæœ¬æ ‡ç­¾" class="headerlink" title="1.1åŸºæœ¬æ ‡ç­¾"></a>1.1åŸºæœ¬æ ‡ç­¾</h3><ul><li><p>h æ ‡ç­¾ ï¼šæ ‡é¢˜ï¼Œä¸€å…±æœ‰å…­çº§ï¼Œä»h1åˆ°h6</p></li><li><p>p æ ‡ç­¾ï¼š æ®µè½</p></li><li><p>br æ ‡ç­¾ï¼šæ¢è¡Œ</p></li><li><p>æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾</p><a id="more"></a><ul><li>strongï¼šç²—ä½“</li><li>emï¼š æ–œä½“</li><li>insï¼šä¸‹åˆ’çº¿</li><li>delï¼š åˆ é™¤çº¿</li></ul></li><li><p>imgï¼šå›¾åƒæ ‡ç­¾ï¼Œç”¨æ¥å®šä¹‰ä¸€ä¸ªå›¾åƒï¼Œå…¶ä¸­imgæ ‡ç­¾ä¸­æœ‰ä¸€äº›å±æ€§ï¼š</p><ul><li>srcï¼šå›¾ç‰‡çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯æœ¬åœ°çš„å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘ä¸Šçš„å›¾ç‰‡ã€‚æœ¬åœ°çš„è·¯å¾„å¯ä»¥å†™ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥å†™ç»å¯¹è·¯å¾„ï¼Œæ¨èä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚</li><li>altï¼šå›¾ç‰‡çš„æ›¿ä»£æ–‡æœ¬ï¼Œå½“å›¾ç‰‡ä¸èƒ½å¤Ÿæ˜¾ç¤ºçš„æ—¶å€™ä¼šæ˜¾ç¤ºå‡ºaltä¸­çš„å€¼</li><li>titleï¼šå½“å›¾ç‰‡æ˜¾ç¤ºçš„æ—¶å€™ï¼ŒæŠŠé¼ æ ‡æ”¾åœ¨å›¾ç‰‡ä¸Šé¢ä¼šæ˜¾ç¤ºå‡ºtitleä¸­çš„å€¼</li><li>heightã€widthï¼šè®¾ç½®å›¾ç‰‡çš„é«˜åº¦æˆ–å®½åº¦ï¼Œå•ä½æ˜¯åƒç´ (px)ï¼Œæ¨èåªè®¾ç½®ä¸€ä¸ªï¼Œå¦‚æœåªè®¾ç½®å®½åº¦ï¼ˆé«˜åº¦ï¼‰ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªå°±ä¼šç­‰æ¯”ä¾‹çš„æ”¾å¤§ç¼©å°ï¼›å¦‚æœè®¾ç½®äº†ä¸¤ä¸ªï¼Œå°±ä¼šä½¿å›¾åƒå¤±çœŸã€‚</li></ul></li><li><p>a æ ‡ç­¾ï¼šè¶…é“¾æ¥æ ‡ç­¾ï¼Œä»ä¸€ä¸ªé¡µé¢è·³åˆ°å¦ä¸€ä¸ªé¡µé¢  </p><ul><li>hrefï¼šè·³è½¬é¡µé¢çš„urlåœ°å€ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„</li><li>targetï¼šç”¨äºæŒ‡å®šé“¾æ¥é¡µé¢çš„æ‰“å¼€æ–¹å¼ï¼Œå…¶ä¸­_selfä¸ºé»˜è®¤å€¼ï¼Œåœ¨å½“å‰é¡µé¢æ‰“å¼€ï¼Œ _blankåœ¨æ–°çª—å£ä¸­æ‰“å¼€é¡µé¢</li><li>åœ¨hrefçš„å€¼ä¸­ä½¿ç”¨ # æ¥è¿›è¡Œå ä½ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç©ºé“¾æ¥ã€‚ <code>&lt;a href=&quot;#&quot;/&gt;</code>ã€‚</li><li>å¦‚æœåœ¨hrefé‡Œé¢çš„åœ°å€æ˜¯ä¸€ä¸ªæ–‡ä»¶æ¹–ç•”è¿™å‹ç¼©åŒ…ï¼Œä¼šä¸‹è½½è¿™ä¸ªæ–‡ä»¶ã€‚</li><li>ç½‘é¡µä¸­çš„å„ç§å…ƒç´ ï¼Œå¦‚æ–‡æœ¬ã€å›¾åƒã€è¡¨æ ¼ã€éŸ³é¢‘ã€è§†é¢‘ç­‰éƒ½å¯ä»¥æ·»åŠ è¶…é“¾æ¥ã€‚</li><li>é”šç‚¹è¿æ¥ï¼šå½“æˆ‘ä»¬ç‚¹å‡»é“¾æ¥ï¼Œå¯ä»¥å¿«é€Ÿå®šä½åˆ°é¡µé¢ä¸­çš„æŸä¸ªä½ç½®ï¼Œå¯ä»¥ç”¨æ¥åšä¹¦ç­¾<ul><li>æ‰¾åˆ°ç›®æ ‡ä½ç½®æ ‡ç­¾ï¼Œä¸ºå…¶æ·»åŠ ä¸€ä¸ªidå±æ€§=xxx,å¦‚<code>&lt;h1 id=two&gt;ç¬¬äºŒé›†ä»‹ç»&lt;/h1&gt;</code></li><li>åœ¨é“¾æ¥æ–‡æœ¬çš„hrefå±æ€§ä¸­ï¼Œè®¾ç½®å±æ€§å€¼ä¸º **#åå­— **çš„å½¢å¼ï¼Œå¦‚<code>&lt;a href=&quot;#two&quot;&gt;ç¬¬äºŒé›†&lt;/a&gt;</code></li></ul></li></ul></li><li><p>table æ ‡ç­¾ï¼šè¡¨æ ¼æ ‡ç­¾ï¼Œè¡¨æ ¼ä¸»è¦ç”¨äºæ˜¾ç¤ºã€å±•ç¤ºæ•°æ®ã€‚</p><ul><li>tr æ ‡ç­¾ç”¨äºå®šä¹‰è¡¨æ ¼ä¸­çš„è¡Œï¼Œå¿…é¡»åµŒå¥—åœ¨tableæ ‡ç­¾ä¸­ã€‚</li><li>td æ ‡ç­¾ç”¨äºå®šä¹‰è¡¨æ ¼ä¸­çš„å•å…ƒæ ¼ï¼Œå¿…é¡»åµŒå¥—åœ¨tr æ ‡ç­¾ä¸­ï¼Œtdä¸­çš„æ–‡æœ¬å°±æ˜¯è¡¨æ ¼çš„æ•°æ®</li><li>th æ ‡ç­¾è¡¨ç¤ºhtmlè¡¨æ ¼çš„è¡¨å¤´éƒ¨åˆ†ï¼Œthæ ‡ç­¾çš„æ–‡æœ¬ä¼šåŠ ç²—å±…ä¸­æ˜¾ç¤ºã€‚ä¸€èˆ¬ç¬¬ä¸€è¡Œçš„æ–‡æœ¬ä¼šç”¨thè€Œä¸æ˜¯tdã€‚</li><li>theadï¼šç”¨äºå®šä¹‰å¤´éƒ¨ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¾ç¤ºï¼Œåªæ˜¯ä¸ºäº†æ›´å¥½åŒºåˆ†è¡¨æ ¼çš„ç»“æ„ï¼Œtheadå†…éƒ¨å¿…é¡»æ‹¥æœ‰træ ‡ç­¾ã€‚</li><li>tbodyï¼šç”¨äºå®šä¹‰è¡¨æ ¼çš„ä¸»é¢˜ï¼Œä¸»è¦ç”¨äºæ”¾æ•°æ®æœ¬ä½“ã€‚</li><li>ä¸‹é¢æ˜¯tableæ ‡ç­¾çš„ä¸€äº›å±æ€§ï¼Œè¦å†™åœ¨tableæ ‡ç­¾å†…ï¼ŒåæœŸä¼šä½¿ç”¨cssæ¥ä¿®æ”¹è¿™äº›æ ·å¼<ul><li>alignï¼šè®¾ç½®è¡¨æ ¼çš„ä½ç½®ï¼šå±…ä¸­ï¼Œé å·¦å¯¹é½ï¼Œé å³å¯¹é½â€¦.</li><li>borderï¼šè®¾ç½®è¡¨æ ¼è¾¹æ¡†</li><li>cellpaddingï¼šè®¾ç½®æ–‡å­—ä¸å•å…ƒè¾¹æ²¿çš„è·ç¦»ï¼Œå¯ä»¥ç†è§£ä¸ºè®¾ç½®å•å…ƒæ ¼çš„é•¿åº¦</li><li>cellspacingï¼šè®¾ç½®å•å…ƒæ ¼ä¹‹å‰çš„ç©ºç™½</li><li>widthã€heightï¼šè®¾ç½®è¡¨æ ¼çš„å®½åº¦æˆ–é«˜åº¦ã€‚</li><li>caption: è®¾ç½®è¡¨æ ¼çš„æ ‡é¢˜</li><li>rowspan:çºµå‘åˆå¹¶å•å…ƒæ ¼ï¼Œrowspan=â€xxxâ€ï¼Œå¡«å†™åˆå¹¶å•å…ƒæ ¼çš„æ•°é‡ï¼ŒåŒæ—¶å°†è¢«åˆå¹¶çš„å•å…ƒæ ¼tdåˆ æ‰ã€‚</li><li>colspan:æ¨ªå‘åˆå¹¶å•å…ƒæ ¼ï¼Œcolspan=â€xxxâ€ï¼Œå¡«å†™åˆå¹¶å•å…ƒæ ¼çš„æ•°é‡ï¼ŒåŒæ—¶å°†è¢«åˆå¹¶çš„å•å…ƒæ ¼tdåˆ æ‰ã€‚</li></ul></li></ul><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">cellpadding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">cellspacing</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>æ€§åˆ«<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>å¹´é¾„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>pty<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>åˆ˜å¾·å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>åˆ—è¡¨æ ‡ç­¾</p><ul><li>æ— åºåˆ—è¡¨ï¼š<code>&lt;ul&gt;</code>ï¼Œä¸€èˆ¬ä»¥é¡¹ç›®ç¬¦å·å‘ˆç°åˆ—è¡¨é¡¹ï¼Œåˆ—è¡¨é¡¹ä½¿ç”¨<code>&lt;li&gt;</code>æ ‡ç­¾å®šä¹‰ã€‚<ul><li>ulæ ‡ç­¾ä¸­åªèƒ½é¥¿åµŒå¥— li æ ‡ç­¾ï¼Œä¸èƒ½ç›´æ¥è¾“å…¥æ–‡å­—æˆ–è€…ä½¿ç”¨å…¶ä»–æ ‡ç­¾ã€‚</li><li>li æ ‡ç­¾ç›¸å½“äºä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢å¯ä»¥è¾“å…¥æ–‡å­—æˆ–ä½¿ç”¨å…¶ä»–æ ‡ç­¾ã€‚</li></ul></li><li>æœ‰åºåˆ—è¡¨ï¼š<code>&lt;ol&gt;</code>ï¼Œæœ‰æ’åˆ—é¡ºåºçš„åˆ—è¡¨ï¼Œå…¶å„ä¸ªåˆ—è¡¨é¡¹ä¼šæŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—ï¼Œåˆ—è¡¨é¡¹ç”¨<code>&lt;li&gt;</code>æ ‡ç­¾å®šä¹‰ã€‚<ul><li>olæ ‡ç­¾ä¸­åªèƒ½é¥¿åµŒå¥— li æ ‡ç­¾ï¼Œä¸èƒ½ç›´æ¥è¾“å…¥æ–‡å­—æˆ–è€…ä½¿ç”¨å…¶ä»–æ ‡ç­¾ã€‚</li><li>li æ ‡ç­¾ç›¸å½“äºä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢å¯ä»¥è¾“å…¥æ–‡å­—æˆ–ä½¿ç”¨å…¶ä»–æ ‡ç­¾ã€‚</li></ul></li><li>è‡ªå®šä¹‰åˆ—è¡¨ï¼š<code>&lt;dl&gt;</code>ï¼Œç”¨äºå®šä¹‰æè¿°åˆ—è¡¨ï¼Œè¿™ä¸ªä¸<code>&lt;dt&gt;</code>(å®šä¹‰é¡¹ç›®/åå­—)å’Œ<code>&lt;dd&gt;</code>(æè¿°æ¯ä¸€ä¸ªé¡¹ç›®/åå­—)ä¸€èµ·ä½¿ç”¨<ul><li>dl é‡Œé¢åªèƒ½å‡ºç°dt å’Œdd</li><li>dtå’Œddä¸ªæ•°æ²¡æœ‰é™åˆ¶ï¼Œç»å¸¸æ˜¯ä¸€ä¸ªdtå¯¹åº”å¤šä¸ªddã€‚</li></ul></li></ul></li><li><p>è¡¨å•æ ‡ç­¾</p><ul><li>è¡¨å•åŸŸï¼šä½¿ç”¨formæ ‡ç­¾æ¥å®šä¹‰è¡¨å•åŸŸï¼Œformä¼šæŠŠä»–èŒƒå›´å†…çš„è¡¨å•å…ƒç´ ä¿¡æ¯æäº¤ç»™æœåŠ¡å™¨</li></ul><pre class="line-numbers language-html" data-language="html"><code class="language-html">&lt;form action="urlåœ°å€ï¼šè¡¨å•æ•°æ®æäº¤çš„æœåŠ¡å™¨åœ°å€" method="æäº¤æ–¹å¼ï¼šget/post" name="è¡¨å•åŸŸåç§°"      å„ç§è¡¨å•å…ƒç´ æ§ä»¶      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¡¨å•å…ƒç´ æ§ä»¶ï¼š</p><ul><li>inputï¼šinputåŒ…å«ä¸€ä¸ªtypeå±æ€§å€¼ï¼Œå¯ä»¥è®¾ç½®ä¸åŒçš„typeå±æ€§å€¼æ¥æŒ‡å®šä¸åŒçš„æ§ä»¶ç±»å‹ã€‚<ul><li>textï¼šæ–‡æœ¬æ¡†ï¼Œå¯ä»¥è¾“å…¥ä»»ä½•æ–‡å­—ã€‚</li><li>passwordï¼šå¯†ç æ¡†ï¼Œè¾“å…¥çš„æ–‡å­—ä¼šè¢«æ©ç›–ï¼Œçœ‹ä¸åˆ°çœŸå®å†…å®¹ã€‚</li><li>radioï¼šå•é€‰æ¡†ï¼Œå®ç°å¤šé€‰ä¸€ï¼Œå•é€‰æ¡†çš„é€‰é¡¹éœ€è¦æœ‰ç›¸åŒçš„nameå±æ€§å€¼æ‰èƒ½å¤Ÿå®ç°å¤šé€‰ä¸€ã€‚</li><li>checkboxï¼šå¤é€‰æ¡†ï¼Œå®ç°å¤šé€‰æ•ˆæœ ï¼Œå¤é€‰æ¡†ä¹Ÿéœ€è¦ç›¸åŒçš„nameå±æ€§å€¼ã€‚</li><li>checkedï¼šç”¨äºå¤é€‰æ¡†å’Œå•é€‰æ¡†ï¼Œè®¾ç½®è¿™ä¸ªå±æ€§åï¼Œè¢«è®¾ç½®çš„å±æ€§åœ¨åŠ è½½çš„æ—¶å€™å°±ä¼šé€‰ä¸­ã€‚<code>checked=&quot;checked&quot;</code></li><li>submitï¼šæäº¤æŒ‰é’®ï¼Œä¼šæŠŠè¡¨å•åŸŸçš„ä¿¡æ¯æäº¤ç»™æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨valueä¿®æ”¹æŒ‰é’®é‡Œé¢çš„å€¼ã€‚</li><li>resetï¼šé‡ç½®æŒ‰é’®ï¼Œè¿˜åŸè¡¨å•å…ƒç´ åˆå§‹çš„é»˜è®¤çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨valueä¿®æ”¹æŒ‰é’®é‡Œé¢çš„å€¼ã€‚</li><li>buttonï¼šæ™®é€šæŒ‰é’®ï¼ŒåæœŸç»“åˆjs,å¯ä»¥ä½œä¸ºjsçš„å¯åŠ¨æŒ‰é’®ã€‚</li><li>fileï¼šæ–‡ä»¶åŸŸï¼Œä¸Šä¼ æ–‡ä»¶ä½¿ç”¨çš„ã€‚</li><li>labelï¼šç”¨äºç»‘å®šä¸€ä¸ªè¡¨å•å…ƒç´ ï¼Œå½“ç‚¹å‡»labelæ ‡ç­¾å†…çš„æ–‡æœ¬æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†ç„¦ç‚¹è½¬åˆ°æˆ–è€…é€‰æ‹©å¯¹åº”çš„è¡¨å•å…ƒç´ ä¸Šï¼Œç”¨æ¥å¢åŠ ç”¨æˆ·ä½“éªŒã€‚</li></ul></li></ul><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token comment">&lt;!--labelæ ‡ç­¾çš„forå±æ€§å€¼åº”ä¸inputæ ‡ç­¾çš„idå±æ€§å€¼ç›¸åŒ,å°†æœ¬æ¥æ”¾åœ¨å¤–é¢çš„æ–‡æœ¬ä½¿ç”¨labelæ ‡ç­¾åŒ…å›´--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>man<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>man<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>woman<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>woman<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å¥³<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>selectè¡¨å•å…ƒç´ ï¼šå¦‚æœæœ‰å¤šä¸ªé€‰é¡¹è®©ç”¨æˆ·é€‰æ‹©ï¼Œå¹¶ä¸”æƒ³è¦èŠ‚çº¦ç©ºé—´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<select>æ ‡ç­¾å®šä¹‰ä¸‹æ‹‰åˆ—è¡¨</select></li></ul><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>é€‰é¡¹1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>é€‰é¡¹2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>é€‰é¡¹3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>é€‰é¡¹4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>----------------------------------------------------------------------------------------ç±è´¯ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selected<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ¹–å—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>æ¹–åŒ—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>ä¸Šæµ·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token punctuation">></span></span>åŒ—äº¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><ul><li>selectä¸­è‡³å°‘åŒ…å«ä¸€å¯¹<option></option></li><li>åœ¨<option>ä¸­å®šä¹‰selected=â€selectedâ€æ˜¯ï¼Œå½“å‰é€‰é¡¹ä¸ºé»˜è®¤é€‰ä¸­é¡¹ã€‚</option></li></ul></li><li><p>textareaè¡¨å•å…ƒç´ ï¼šå½“è¾“å…¥çš„æ–‡å­—å¾ˆå¤šçš„æ—¶å€™ï¼Œæ–‡æœ¬æ¡†<input type="text">ä¸åœ¨é€‚ç”¨ï¼Œè¿™æ—¶å€™åº”è¯¥ä½¿ç”¨textareaæ ‡ç­¾ï¼Œå¸¸ç”¨äºè¯„è®ºï¼Œç•™è¨€ã€‚</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xxx<span class="token punctuation">"</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xxx<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ–‡æœ¬å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span>-------------------------------------------------------------------------------------ç•™è¨€æ¿ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>cols=â€æ¯è¡Œä¸­è¾“å…¥çš„å­—ç¬¦æ•°â€ï¼Œrow=â€æ˜¾ç¤ºçš„è¡Œæ•°â€ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨cssæ ·å¼æ¥æ”¹å˜å¤§å°</li></ul></li></ul></li></ul><h3 id="1-2æ ‡ç­¾å±æ€§çš„æ³¨æ„ç‚¹"><a href="#1-2æ ‡ç­¾å±æ€§çš„æ³¨æ„ç‚¹" class="headerlink" title="1.2æ ‡ç­¾å±æ€§çš„æ³¨æ„ç‚¹"></a>1.2æ ‡ç­¾å±æ€§çš„æ³¨æ„ç‚¹</h3><ol><li>ä¸€ä¸ªæ ‡ç­¾å¯ä»¥æœ‰å¤šä¸ªå±æ€§ï¼Œå±æ€§å¿…é¡»å†™åœ¨æ ‡ç­¾åçš„åé¢</li><li>å±æ€§ä¹‹é—´ä¸åˆ†å…ˆåé¡ºåºï¼Œä½†å¿…é¡»ä½¿ç”¨ç©ºæ ¼é—´éš”</li><li>å±æ€§é‡‡å–é”®å€¼å¯¹çš„æ ¼å¼ï¼Œå³<code>key=&quot;value&quot;</code>ã€‚</li></ol><h3 id="1-3-ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„"><a href="#1-3-ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„" class="headerlink" title="1.3 ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„"></a>1.3 ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„</h3><ul><li><p>ç›¸å¯¹è·¯å¾„ï¼šä»¥å¼•ç”¨æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸ºåŸºç¡€ï¼Œè€Œå»ºç«‹å‡ºçš„ç›®å½•è·¯å¾„ã€‚</p><table><thead><tr><th>../</th><th>ä¸Šä¸€çº§è·¯å¾„</th></tr></thead><tbody><tr><td>/</td><td>ä¸‹ä¸€çº§è·¯å¾„</td></tr></tbody></table></li></ul><ul><li>ç»å¯¹è·¯å¾„ï¼šæŒ‡è¿™ä¸ªæ–‡ä»¶çš„ç»å¯¹ä½ç½®ï¼Œç›´æ¥åˆ°è¾¾ç›®æ ‡ä½ç½®ï¼Œé€šå¸¸æ˜¯ä»¥ç›˜ç¬¦å¼€å§‹çš„è·¯å¾„</li></ul><h2 id="CSSæ ·å¼"><a href="#CSSæ ·å¼" class="headerlink" title="CSSæ ·å¼"></a>CSSæ ·å¼</h2><h3 id="cssè¯­æ³•è§„èŒƒ"><a href="#cssè¯­æ³•è§„èŒƒ" class="headerlink" title="cssè¯­æ³•è§„èŒƒ"></a>cssè¯­æ³•è§„èŒƒ</h3><p>cssç”±ä¸¤ä¸ªä¸»è¦çš„éƒ¨åˆ†æ„æˆï¼šé€‰æ‹©å™¨ä»¥åŠä¸€æ¡æˆ–å¤šæ¡å£°æ˜ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">é€‰æ‹©å™¨ <span class="token punctuation">&#123;</span>æ ·å¼ä¸€<span class="token punctuation">;</span>æ ·å¼äºŒ<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">#æ ·å¼ä½¿ç”¨é”®å€¼å¯¹çš„æ–¹å¼  key:value,é€‰æ‹©å™¨ç”¨äºæŒ‡å®šç»™å“ªä¸ªæ ‡ç­¾è®¾ç½®æ ·å¼ï¼ŒèŠ±æ‹¬å·é‡Œé¢æ˜¯è¯¥å¯¹è±¡è®¾ç½®çš„å…·ä½“æ ·å¼ã€‚</span><span class="token comment">#å¤šä¸ªé”®å€¼å¯¹ä¹‹é—´ä½¿ç”¨åˆ†å·ï¼ˆ;ï¼‰é—´éš”</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="cssé€‰æ‹©å™¨"><a href="#cssé€‰æ‹©å™¨" class="headerlink" title="cssé€‰æ‹©å™¨"></a>cssé€‰æ‹©å™¨</h3><h4 id="åŸºç¡€é€‰æ‹©å™¨"><a href="#åŸºç¡€é€‰æ‹©å™¨" class="headerlink" title="åŸºç¡€é€‰æ‹©å™¨"></a>åŸºç¡€é€‰æ‹©å™¨</h4><h5 id="æ ‡ç­¾é€‰æ‹©å™¨"><a href="#æ ‡ç­¾é€‰æ‹©å™¨" class="headerlink" title="æ ‡ç­¾é€‰æ‹©å™¨"></a>æ ‡ç­¾é€‰æ‹©å™¨</h5><p>æ ‡ç­¾é€‰æ‹©å™¨æ˜¯æŒ‡ç”¨HTMLæ ‡ç­¾åä½œä¸ºé€‰æ‹©å™¨ï¼ŒæŒ‰ç…§æ ‡ç­¾åç§°åˆ†ç±»ï¼Œä¸ºé¡µé¢ä¸­çš„æŸä¸€ç±»æ ‡ç­¾æŒ‡å®šç»Ÿä¸€çš„CSSæ ·å¼ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">æ ‡ç­¾å&#123;å±æ€§1: å±æ€§å€¼1;å±æ€§2: å±æ€§å€¼2;å±æ€§3: å±æ€§å€¼3;å±æ€§4: å±æ€§å€¼4;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ç±»é€‰æ‹©å™¨"><a href="#ç±»é€‰æ‹©å™¨" class="headerlink" title="ç±»é€‰æ‹©å™¨"></a>ç±»é€‰æ‹©å™¨</h5><p>å®ç°å·®å¼‚åŒ–é€‰æ‹©ï¼Œæ¯”å¦‚è¯´åªè¦ä¿®æ”¹pæ ‡ç­¾é‡Œé¢çš„å…¶ä¸­å‡ ä¸ªã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">.ç±»å&#123;å±æ€§1: å±æ€§å€¼1;å±æ€§2: å±æ€§å€¼2;å±æ€§3: å±æ€§å€¼3;å±æ€§4: å±æ€§å€¼4;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼š</p><ul><li>ç±»é€‰æ‹©å™¨ä½¿ç”¨<code>.</code>è¿›è¡Œæ ‡è¯†ï¼Œåé¢ç´§è·Ÿç±»åï¼ˆæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ï¼Œä¸è¦ä½¿ç”¨htmlæ ‡ç­¾ä½œä¸ºç±»åï¼‰ã€‚</li><li>ä½¿ç”¨<code>class</code>ä¸ºæ ‡ç­¾æ·»åŠ ç±»åï¼Œå¤šä¸ªæ ‡ç­¾å¯ä»¥å…·æœ‰ç›¸åŒçš„ç±»åï¼Œç›¸å½“äºç»™æ ‡ç­¾åˆ†äº†ä¸€ä¸ªç»„ã€‚</li><li>ä¸è¦ä½¿ç”¨çº¯æ•°å­—ã€ä¸­æ–‡ç­‰å‘½åï¼ˆçº¯æ•°å­—å¥½åƒä¸èµ·ä½œç”¨ï¼‰ã€‚</li></ul><h5 id="ç±»é€‰æ‹©å™¨â€“å¤šç±»å"><a href="#ç±»é€‰æ‹©å™¨â€“å¤šç±»å" class="headerlink" title="ç±»é€‰æ‹©å™¨â€“å¤šç±»å"></a>ç±»é€‰æ‹©å™¨â€“å¤šç±»å</h5><p>ä¸€ä¸ªæ ‡ç­¾å…·æœ‰å¤šä¸ªç±»ï¼Œç›¸å½“äºä¸€ä¸ªæ ‡ç­¾å…·æœ‰å¤šä¸ªåˆ†ç»„</p><p>å¤šç±»åå®šä¹‰æ ¼å¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>æ ‡ç­¾å <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"ç±»å1 ç±»å2 ç±»å3 ..."</span><span class="token operator">></span>xxx<span class="token operator">&lt;</span>/div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åœ¨æ ‡ç­¾classå±æ€§ä¸­å†™å¤šä¸ªç±»åã€‚</li><li>å¤šä¸ªç±»åä¹‹å‰ä½¿ç”¨ç©ºæ ¼åˆ†å¼€ã€‚</li><li>è¿™ä¸ªæ ‡ç­¾å°±ä¼šå…·æœ‰ä¸¤ä¸ªç±»çš„æ ·å¼</li></ul><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><span class="token selector">.font12</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.red</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>red font12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>pty<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!--åŒæ—¶å…·æœ‰redç±»å’Œfont12ä¸¤ä¸ªç±»çš„æ ·å¼--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="idé€‰æ‹©å™¨"><a href="#idé€‰æ‹©å™¨" class="headerlink" title="idé€‰æ‹©å™¨"></a>idé€‰æ‹©å™¨</h5><p>idé€‰æ‹©å™¨å¯ä»¥ä¸ºæ ‡æœ‰ç‰¹å®šidçš„htmlæ ‡ç­¾æŒ‡å®šç‰¹æœ‰çš„æ ·å¼ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">#idå&#123;å±æ€§1: å±æ€§å€¼1;å±æ€§2: å±æ€§å€¼2;å±æ€§3: å±æ€§å€¼3;å±æ€§4: å±æ€§å€¼4;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>idé€‰æ‹©å™¨ä½¿ç”¨<code>#</code>æ¥æ ‡è¯†ï¼Œåé¢ç´§è·Ÿidåï¼ˆè‡ªå®šä¹‰ï¼Œä¸è¦ä½¿ç”¨htmlæ ‡ç­¾åä½œä¸ºidåï¼‰</li><li>ä½¿ç”¨idå±æ€§ä¸ºæ ‡ç­¾è®¾ç½®idåï¼Œidåæ˜¯å”¯ä¸€çš„ï¼Œä¸¤ä¸ªæ ‡ç­¾æ˜¯ä¸èƒ½æ‹¥æœ‰ç›¸åŒçš„idã€‚ç±»ä¼¼äºèº«ä»½è¯å·ã€‚</li><li>ç±»é€‰æ‹©å™¨åœ¨ä¿®æ”¹æ ·å¼çš„æ—¶å€™ä½¿ç”¨çš„æœ€å¤šï¼Œidé€‰æ‹©å™¨ä¸€èˆ¬ç”¨äºé¡µé¢å”¯ä¸€æ€§çš„å…ƒç´ ä¸Šï¼Œç»å¸¸å’Œjsæ­é…ä½¿ç”¨ã€‚                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </li></ul><h5 id="é€šé…ç¬¦é€‰æ‹©å™¨"><a href="#é€šé…ç¬¦é€‰æ‹©å™¨" class="headerlink" title="é€šé…ç¬¦é€‰æ‹©å™¨"></a>é€šé…ç¬¦é€‰æ‹©å™¨</h5><p>é€šé…ç¬¦é€‰æ‹©å™¨é€‰å–é¡µé¢ä¸­æ‰€æœ‰æ ‡ç­¾</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">*&#123;å±æ€§1: å±æ€§å€¼1;å±æ€§2: å±æ€§å€¼2;å±æ€§3: å±æ€§å€¼3;å±æ€§4: å±æ€§å€¼4;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>é€šé…ç¬¦é€‰æ‹©å™¨ä½¿ç”¨<code>*</code>æ¥æ ‡è¯†ï¼Œå¯ä»¥é€‰æ‹©é¡µé¢ä¸­çš„æ‰€æœ‰æ ‡ç­¾</li></ul><h4 id="å¤åˆé€‰æ‹©å™¨"><a href="#å¤åˆé€‰æ‹©å™¨" class="headerlink" title="å¤åˆé€‰æ‹©å™¨"></a>å¤åˆé€‰æ‹©å™¨</h4><p>å¤åˆé€‰æ‹©å™¨ç”±ä¸¤ä¸ªåŠä»¥ä¸Šçš„åŸºç¡€é€‰æ‹©å™¨é€šè¿‡ä¸åŒæ–¹å¼ç»„åˆåœ¨ä¸€èµ·ã€‚</p><h5 id="åä»£é€‰æ‹©å™¨ï¼ˆé‡è¦ï¼‰"><a href="#åä»£é€‰æ‹©å™¨ï¼ˆé‡è¦ï¼‰" class="headerlink" title="åä»£é€‰æ‹©å™¨ï¼ˆé‡è¦ï¼‰"></a>åä»£é€‰æ‹©å™¨ï¼ˆé‡è¦ï¼‰</h5><p>åä»£é€‰æ‹©å™¨å¯ä»¥é€‰æ‹©çˆ¶å…ƒç´ é‡Œé¢çš„åä»£å…ƒç´ ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">å…ƒç´ 1 å…ƒç´ 2<span class="token punctuation">&#123;</span>æ ·å¼å£°æ˜<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>é€‰æ‹©å…ƒç´ 1é‡Œé¢çš„å…ƒç´ 2è¿›è¡Œä¿®æ”¹</li><li>ä¸¤ä¸ªå…ƒç´ ä¸­é—´ä½¿ç”¨<strong>ç©ºæ ¼</strong>éš”å¼€</li><li>å…ƒç´ 1ä¸ºçˆ¶å…ƒç´ ï¼Œå…ƒç´ 2ä¸ºåä»£å…ƒç´ ã€‚</li><li>å…ƒç´ 1å’Œå…ƒç´ 2å¯ä»¥ä¸ºä»»æ„çš„åŸºç¡€é€‰æ‹©å™¨</li></ul><h5 id="å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆé‡è¦ï¼‰"><a href="#å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆé‡è¦ï¼‰" class="headerlink" title="å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆé‡è¦ï¼‰"></a>å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆé‡è¦ï¼‰</h5><p>é€‰æ‹©çˆ¶å…ƒç´ ä¸­çš„å­å…ƒç´ ï¼ˆåªé€‰æ‹©å­å…ƒç´ )</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">å…ƒç´ <span class="token operator"><span class="token file-descriptor important">1</span>></span>å…ƒç´ 2<span class="token punctuation">&#123;</span>æ ·å¼å£°æ˜<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åªé€‰æ‹©çˆ¶å…ƒç´ é‡Œé¢çš„å­å…ƒç´ ï¼Œä¸ä¼šé€‰æ‹©å­™å­å…ƒç´ ï¼ˆå­å…ƒç´ çš„å­å…ƒç´ ï¼‰ï¼Œè¿™æ˜¯å’Œåä»£é€‰æ‹©å™¨ä¸åŒçš„åœ°æ–¹ã€‚</li><li>ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ä½¿ç”¨&gt;éš”å¼€ã€‚</li><li>ä¿®æ”¹çš„æ˜¯å…ƒç´ 2è€Œä¸æ˜¯å…ƒç´ 1ã€‚</li></ul><h5 id="å¹¶é›†é€‰æ‹©å™¨"><a href="#å¹¶é›†é€‰æ‹©å™¨" class="headerlink" title="å¹¶é›†é€‰æ‹©å™¨"></a>å¹¶é›†é€‰æ‹©å™¨</h5><p>å¹¶é›†é€‰æ‹©å™¨å¯ä»¥é€‰æ‹©å¤šç»„æ ‡ç­¾ï¼Œå¹¶ä¸ºä»–ä»¬å®šä¹‰ç›¸åŒçš„æ ·å¼ï¼Œé€šå¸¸ç”¨äºé›†ä½“å£°æ˜ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">å…ƒç´ 1,å…ƒç´ 2<span class="token punctuation">&#123;</span>æ ·å¼å£°æ˜<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>é€‰æ‹©å…ƒç´ 1å’Œå…ƒç´ 2ä¸€èµ·è¿›è¡Œä¿®æ”¹ã€‚</li><li>ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ä½¿ç”¨é€—å·éš”å¼€ï¼Œé€—å·å¯ä»¥ç†è§£æˆå’Œçš„æ„æ€ã€‚</li><li>ä»»ä½•å½¢å¼çš„é€‰æ‹©å™¨éƒ½å¯ä»¥ä½œä¸ºå¹¶é›†é€‰æ‹©å™¨çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ä¸Šé¢è¯´çš„å­å…ƒç´ é€‰æ‹©å™¨å’Œåä»£é€‰æ‹©å™¨ã€‚</li></ul><h3 id="csså­—ä½“å±æ€§"><a href="#csså­—ä½“å±æ€§" class="headerlink" title="csså­—ä½“å±æ€§"></a>csså­—ä½“å±æ€§</h3><p>å­—ä½“å±æ€§ç”¨äºå®šä¹‰å­—ä½“ã€å¤§å°ã€ç²—ç»†ã€æ–‡å­—æ ·å¼â€¦..</p><h4 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h4><p>ä½¿ç”¨font-familyå±æ€§å®šä¹‰æ–‡æœ¬çš„å­—ä½“ã€‚</p><p>è¯­æ³•ï¼š</p><pre><code>        é€‰æ‹©å™¨&#123;            font-family:å­—ä½“1,å­—ä½“2 ;        &#125;</code></pre><ul><li>font-familyåé¢å¯ä»¥å¡«å†™å¤šç§å­—ä½“ï¼Œå„ç§å­—ä½“ä¹‹é—´å¿…é¡»ä½¿ç”¨è‹±æ–‡çŠ¶æ€ä¸‹çš„é€—å·éš”å¼€ã€‚</li><li>å¦‚æœå†™äº†å¤šç§å­—ä½“ï¼Œä¼šä¼˜å…ˆä½¿ç”¨ç¬¬ä¸€ç§å­—ä½“ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…è¿™ç§å­—ä½“ï¼Œå°±ä¼šå»ä½¿ç”¨ç¬¬äºŒç§ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li><li>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæœ‰ç©ºæ ¼éš”å¼€çš„å¤šä¸ªå•è¯ç»„æˆçš„å­—ä½“åç§°ï¼Œä½¿ç”¨å¼•å·å°†å…¶æ‹¬èµ·æ¥ï¼Œå•åŒå¼•å·å‡å¯ã€‚</li><li>å¼€å‘ä¸­é€šå¸¸æ˜¯ç›´æ¥ç»™bodyè®¾ç½®å­—ä½“ã€‚</li></ul><h4 id="å­—ä½“å¤§å°"><a href="#å­—ä½“å¤§å°" class="headerlink" title="å­—ä½“å¤§å°"></a>å­—ä½“å¤§å°</h4><p>ä½¿ç”¨font-sizeå±æ€§å®šä¹‰å­—ä½“å¤§å°</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">é€‰æ‹©å™¨&#123;font-size: xxpx;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>px(åƒç´ )å¤§å°ä¼¼ä¹æˆ‘ä»¬ç½‘é¡µçš„æœ€å¸¸ç”¨çš„å•ä½ã€‚</li><li>ä¸åŒæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å¤§å°ä¸ä¸€è‡´ï¼Œå°½é‡ç»™å­—ä½“è®¾ç½®ä¸€ä¸ªå‡†ç¡®å€¼ã€‚</li><li>é€šå¸¸ç›´æ¥ç»™bodyè®¾ç½®å­—ä½“å¤§å°ã€‚</li></ul><h4 id="å­—ä½“ç²—ç»†"><a href="#å­—ä½“ç²—ç»†" class="headerlink" title="å­—ä½“ç²—ç»†"></a>å­—ä½“ç²—ç»†</h4><p>ä½¿ç”¨font-weightå±æ€§è®¾ç½®æ–‡æœ¬å­—ä½“çš„ç²—ç»†ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">é€‰æ‹©å™¨&#123;font-weight: normal/bold/ç›´æ¥å†™æ•°å­—;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>å¸¸ç”¨çš„æœ‰ä¸‰ç§è¡¨ç°å½¢å¼ normal/bold/ç›´æ¥å†™æ•°å­—ï¼Œæ¨èç›´æ¥å†™æ•°å­—ã€‚</li><li>normalç›¸å½“äºç›´æ¥å†™æ•°å­—çš„ 400ï¼Œæ˜¯é»˜è®¤çš„ç²—ç»†ã€‚</li><li>boldå®šä¹‰ç²—ä½“ï¼Œç›¸å½“äºç›´æ¥å†™æ•°å­—çš„700ã€‚</li><li>ç›´æ¥å†™æ•°å­—æ¥è®¾ç½®å­—ä½“çš„ç²—ç»†ï¼Œåé¢ä¸ç”¨åŠ pxï¼Œå¦‚<code>font-weight: 700</code>ã€‚</li></ul><h4 id="æ–‡æœ¬æ ·å¼"><a href="#æ–‡æœ¬æ ·å¼" class="headerlink" title="æ–‡æœ¬æ ·å¼"></a>æ–‡æœ¬æ ·å¼</h4><p>è¯­æ³•</p><pre><code>    é€‰æ‹©å™¨&#123;        font-style: normal/italic    &#125;</code></pre><ul><li>nomalä¸ºæ­£å¸¸æ ·å¼ã€‚</li><li>italicä¸ºæ–œä½“ã€‚</li></ul><h4 id="å­—ä½“çš„å¤åˆå±æ€§"><a href="#å­—ä½“çš„å¤åˆå±æ€§" class="headerlink" title="å­—ä½“çš„å¤åˆå±æ€§"></a>å­—ä½“çš„å¤åˆå±æ€§</h4><p>ä¸Šé¢æˆ‘ä»¬å­¦äº†csså¦‚ä½•å®šä¹‰å­—ä½“å±æ€§ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨ä¸Šé¢çš„æ ¼å¼ä»£ç å¤ªå†—é•¿äº†ï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸å°†ä¸Šè¿°å±æ€§å†™åœ¨ä¸€èµ·ã€‚</p><p>è¯­æ³•</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">é€‰æ‹©å™¨&#123;font: font-style font-weight font-size/line-height font-family;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>å¤åˆå±æ€§å…¶å®å°±æ˜¯ç®€å†™çš„æ–¹å¼ã€‚</li><li>ä½¿ç”¨fontå±æ€§æ—¶ï¼Œå¿…é¡»æŒ‰ç…§ä¸Šé¢è¯­æ³•æ ¼å¼ä¸­çš„é¡ºåºä¹¦å†™ï¼Œä¸èƒ½æ›´æ¢é¡ºåºï¼Œå¹¶ä¸”å„ä¸ªå±æ€§é—´ä»¥ç©ºæ ¼éš”å¼€ã€‚</li><li>ä¸éœ€è¦è®¾ç½®çš„å±æ€§å¯ä»¥çœç•¥ï¼ˆå–é»˜è®¤å€¼ï¼‰ï¼Œä½†å¿…é¡»ä¿ç•™font-sizeå’Œfont-familyå±æ€§ã€‚å¦åˆ™fontå°†ä¸èµ·ä½œç”¨ã€‚</li></ul><h3 id="cssæ–‡æœ¬å±æ€§"><a href="#cssæ–‡æœ¬å±æ€§" class="headerlink" title="cssæ–‡æœ¬å±æ€§"></a>cssæ–‡æœ¬å±æ€§</h3><p>css Text(æ–‡æœ¬)å±æ€§å¯ä»¥å®šä¹‰æ–‡æœ¬çš„å¤–è§‚ï¼Œæ¯”å¦‚æ–‡æœ¬çš„é¢œè‰²ï¼Œå¯¹é½æ–‡æœ¬ï¼Œè£…é¥°æ–‡æœ¬ï¼Œæ–‡æœ¬ç¼©è¿›ï¼Œè¡Œé—´è·ç­‰ç­‰ã€‚</p><h4 id="æ–‡æœ¬é¢œè‰²"><a href="#æ–‡æœ¬é¢œè‰²" class="headerlink" title="æ–‡æœ¬é¢œè‰²"></a>æ–‡æœ¬é¢œè‰²</h4><p>colorå±æ€§ç”¨äºå®šä¹‰æ–‡æœ¬çš„é¢œè‰²</p><p>è¯­æ³•</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">é€‰æ‹©å™¨&#123;color: é¢„å®šä¹‰çš„é¢œè‰²å€¼/åå…­è¿›åˆ¶/RGBä»£ç &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>é¢„å®šä¹‰çš„é¢œè‰²å€¼ å³ä¸€äº›é¢œè‰²çš„è‹±æ–‡åï¼Œå¦‚red,blue,greenã€‚</li><li>åå…­è¿›åˆ¶ #FF0000,#FF6600  ä½¿ç”¨6ä½åå…­è¿›åˆ¶çš„æ•°æ¥è¡¨ç¤ºã€‚</li><li>RGBä»£ç   rgb(255,0,0)</li><li>è¿™äº›é¢œè‰²ä¸éœ€è¦è®°ï¼Œå¼€å‘ä¸­ä½¿ç”¨å–è‰²å™¨æ¥å–è‰²ï¼Œæœ€å¸¸ç”¨çš„æ˜¯åå…­è¿›åˆ¶è¡¨ç¤ºã€‚</li></ul><h4 id="å¯¹é½æ–‡æœ¬"><a href="#å¯¹é½æ–‡æœ¬" class="headerlink" title="å¯¹é½æ–‡æœ¬"></a>å¯¹é½æ–‡æœ¬</h4><p>text-alignå±æ€§ç”¨äºè®¾ç½®å…ƒç´ æ–‡æœ¬å†…å®¹çš„æ°´å¹³å¯¹é½æ–¹å¼ï¼ˆå·¦å¯¹é½ï¼Œå±…ä¸­å¯¹é½ï¼Œå³å¯¹é½ï¼‰</p><pre><code>é€‰æ‹©å™¨&#123;    text-align: left/center/right&#125;</code></pre><ul><li>left å·¦å¯¹é½ é»˜è®¤</li><li>center å±…ä¸­å¯¹é½</li><li>right å³å¯¹é½</li></ul><h4 id="è£…é¥°æ–‡æœ¬"><a href="#è£…é¥°æ–‡æœ¬" class="headerlink" title="è£…é¥°æ–‡æœ¬"></a>è£…é¥°æ–‡æœ¬</h4><p>text-decorationå±æ€§è§„å®šæ·»åŠ åˆ°æ–‡æœ¬çš„ä¿®é¥°ã€‚å¯ä»¥ç»™æ–‡æœ¬æ·»åŠ ä¸‹åˆ’çº¿ã€åˆ é™¤çº¿ã€ä¸Šåˆ’çº¿ç­‰ã€‚</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">é€‰æ‹©å™¨&#123;text-decoration: none/underline/overline/line-through&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><p>none æ²¡æœ‰è£…é¥°çº¿ é»˜è®¤å€¼  <em>æœ€å¸¸ç”¨</em></p></li><li><p>underline ä¸‹åˆ’çº¿ ï¼Œaæ ‡ç­¾è‡ªå¸¦ä¸‹åˆ’çº¿ <em>å¸¸ç”¨</em></p></li><li><p>overline ä¸Šåˆ’çº¿ <em>å‡ ä¹ä¸ç”¨</em></p></li><li><p>line-through åˆ é™¤çº¿  <em>ä¸å¸¸ç”¨</em></p><h4 id="æ–‡æœ¬ç¼©è¿›"><a href="#æ–‡æœ¬ç¼©è¿›" class="headerlink" title="æ–‡æœ¬ç¼©è¿›"></a>æ–‡æœ¬ç¼©è¿›</h4></li></ul><p>text-indentå±æ€§ç”¨æ¥æŒ‡å®šæ–‡æœ¬çš„ç¬¬ä¸€è¡Œçš„ç¼©è¿›ï¼Œé€šå¸¸æ˜¯å°†æ®µè½çš„é¦–è¡Œç¼©è¿›ã€‚</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">é€‰æ‹©å™¨&#123;text-indent: xxxem;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>emæ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œå°±æ˜¯å½“å‰ä¸€ä¸ªå­—ä½“çš„å¤§å°ã€‚å¦‚æœå½“å‰å­—ä½“æ²¡æœ‰è®¾ç½®å¤§å°ï¼Œå°±ä¼šæŒ‰ç…§çˆ¶å…ƒç´ çš„æ–‡å­—å¤§å°ã€‚</li><li>æ®µè½é¦–è¡Œç¼©è¿›ä¸¤ä¸ªå­—ï¼Œ<code>text-indent: 2em</code>ï¼Œä¸ç®¡å­—ä½“æœ‰å¤šå¤§ï¼Œéƒ½æ˜¯ç¼©è¿›ä¸¤ä¸ªå­—ç¬¦ã€‚</li></ul><h4 id="è¡Œé—´è·"><a href="#è¡Œé—´è·" class="headerlink" title="è¡Œé—´è·"></a>è¡Œé—´è·</h4><p>line-heightå±æ€§ç”¨å›½è¯­è®¾ç½®è¡Œé—´çš„è·ç¦»ï¼ˆè¡Œé«˜ï¼‰ï¼Œå¯ä»¥æ§åˆ¶æ–‡å­—ä¸è¡Œä¹‹é—´çš„è·ç¦»ã€‚</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">é€‰æ‹©å™¨&#123;line-height: xxxpx;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="cssçš„å¼•å…¥æ–¹å¼"><a href="#cssçš„å¼•å…¥æ–¹å¼" class="headerlink" title="cssçš„å¼•å…¥æ–¹å¼"></a>cssçš„å¼•å…¥æ–¹å¼</h3><h4 id="å†…éƒ¨æ ·å¼è¡¨"><a href="#å†…éƒ¨æ ·å¼è¡¨" class="headerlink" title="å†…éƒ¨æ ·å¼è¡¨"></a>å†…éƒ¨æ ·å¼è¡¨</h4><p>å†…éƒ¨æ ·å¼è¡¨æ˜¯å†™åˆ°htmlé¡µé¢å†…éƒ¨ï¼Œå°†æ‰€æœ‰çš„cssä»£ç æŠ½å–å‡ºæ¥ï¼Œå•ç‹¬æ”¾åˆ°ä¸€ä¸ª<style>æ ‡ç­¾ä¸­ã€‚</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><span class="token selector">a</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">p</span><span class="token punctuation">&#123;</span><span class="token property">text-indent</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¯ä»¥æ§åˆ¶æ•´ä¸ªé¡µé¢çš„æ ·å¼ã€‚</li></ul><h4 id="è¡Œå†…æ ·å¼è¡¨"><a href="#è¡Œå†…æ ·å¼è¡¨" class="headerlink" title="è¡Œå†…æ ·å¼è¡¨"></a>è¡Œå†…æ ·å¼è¡¨</h4><p>è¡Œå†…æ ·å¼è¡¨æ˜¯åœ¨å…ƒç´ æ ‡ç­¾å†…éƒ¨çš„styleå±æ€§ä¸­è®¾å®šcssæ ·å¼ï¼Œé€‚åˆäºä¿®æ”¹ç®€å•çš„æ ·å¼ã€‚</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç™¾åº¦<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>styleå…¶å®å°±æ˜¯æ ‡ç­¾çš„å±æ€§ã€‚</li><li>å¯ä»¥æ§åˆ¶å½“å‰çš„æ ‡ç­¾çš„æ ·å¼ã€‚</li></ul><h4 id="å¤–éƒ¨æ ·å¼è¡¨"><a href="#å¤–éƒ¨æ ·å¼è¡¨" class="headerlink" title="å¤–éƒ¨æ ·å¼è¡¨"></a>å¤–éƒ¨æ ·å¼è¡¨</h4><p>æ ·å¼å•ç‹¬å†™åˆ°cssæ–‡ä»¶ä¸­ï¼Œä¹‹åæŠŠcssæ–‡ä»¶å¼•å…¥åˆ°HTMLé¡µé¢ä¸­ä½¿ç”¨ã€‚å¼€å‘ä¸­ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯è¿™ç§ã€‚</p><p>å¼•å…¥å¤–éƒ¨æ ·å¼è¡¨åˆ†ä¸ºä¸¤æ­¥ï¼š</p><ol><li>æ–°å»ºä¸€ä¸ªåç¼€åä¸º.cssçš„æ ·å¼æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰çš„cssä»£ç éƒ½æ”¾å…¥ä»æ–‡ä»¶ä¸­ã€‚</li><li>åœ¨htmlä¸­ä½¿ç”¨<link>æ ‡ç­¾å¼•å…¥cssæ–‡ä»¶ã€‚</li></ol><h3 id="Emmetè¯­æ³•"><a href="#Emmetè¯­æ³•" class="headerlink" title="Emmetè¯­æ³•"></a>Emmetè¯­æ³•</h3><h4 id="å¿«é€Ÿç”ŸæˆHTMLç»“æ„è¯­æ³•"><a href="#å¿«é€Ÿç”ŸæˆHTMLç»“æ„è¯­æ³•" class="headerlink" title="å¿«é€Ÿç”ŸæˆHTMLç»“æ„è¯­æ³•"></a>å¿«é€Ÿç”ŸæˆHTMLç»“æ„è¯­æ³•</h4><ol><li>ç”Ÿæˆæ ‡ç­¾ï¼Œç›´æ¥è¾“å…¥æ ‡ç­¾å+tabé”®å³å¯ï¼Œæ¯”å¦‚div ç„¶åtabé”®ï¼Œå°±å¯ä»¥ç”Ÿæˆ<div> </div>ã€‚</li><li>å¦‚æœæƒ³è¦åŒæ—¶ç”Ÿæˆå¤šä¸ªç›¸åŒæ ‡ç­¾ï¼ŒåŠ ä¸Š*å°±å¯ä»¥äº†ï¼Œå¦‚div * 3 +tab,å°±å¯ä»¥å¿«é€Ÿç”Ÿæˆ3ä¸ªdivã€‚</li><li>å¦‚æœæ˜¯æœ‰çˆ¶å­å…³ç³»çš„æ ‡ç­¾ï¼Œå¯ä»¥ç”¨&gt;,æ¯”å¦‚ ul&gt;li +tabå°±å¯ä»¥äº†ã€‚</li><li>å¦‚æœæ˜¯æœ‰å…„å¼Ÿå…³ç³»çš„æ ‡ç­¾ï¼Œå¯ä»¥ç”¨+ æ¯”å¦‚div+p  tabã€‚</li><li>å¦‚æœç”Ÿæˆå¸¦æœ‰ç±»åæˆ–è€…idåçš„æ ‡ç­¾ï¼Œç›´æ¥å†™ æ ‡ç­¾å.ç±»å æˆ–è€… æ ‡ç­¾å#idå tabé”®å°±å¯ä»¥äº†ã€‚</li><li>å¦‚æœç”Ÿæˆçš„divçš„ç±»åæ˜¯æœ‰é¡ºåºçš„ï¼Œå¯ä»¥ç”¨è‡ªå¢ç¬¦å·$ å¦‚.demo$*5  ç”Ÿæˆ5ä¸ªdivæ ‡ç­¾ï¼Œclassä¸ºdemo1-demo5ã€‚</li><li>å¦‚æœæƒ³è¦åœ¨ç”Ÿæˆçš„æ ‡ç­¾å†…éƒ¨å†™å†…å®¹å¯ä»¥ç”¨{}ã€‚</li></ol><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--  div+tab  --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--  p*5 tab  --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- ul>li*5 tab--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- div+p tab--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- .demo   p#two tab--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>two<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- div.demo$*5 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- div&#123;hahah&#125;*5 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>hahah<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>hahah<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>hahah<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>hahah<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>hahah<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¿«é€Ÿç”ŸæˆCSSæ ·å¼"><a href="#å¿«é€Ÿç”ŸæˆCSSæ ·å¼" class="headerlink" title="å¿«é€Ÿç”ŸæˆCSSæ ·å¼"></a>å¿«é€Ÿç”ŸæˆCSSæ ·å¼</h4><p>é‡‡å–ç®€å†™å½¢å¼å³å¯ã€‚</p><ol><li>æ¯”å¦‚w200 æŒ‰tabå¯ä»¥ç”Ÿæˆwidth:200px;</li><li>td æŒ‰ tabå¯ä»¥ç”Ÿæˆtext-decoration: none;</li></ol></style></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;html&quot;&gt;&lt;a href=&quot;#html&quot; class=&quot;headerlink&quot; title=&quot;html&quot;&gt;&lt;/a&gt;html&lt;/h2&gt;&lt;h3 id=&quot;1-1åŸºæœ¬æ ‡ç­¾&quot;&gt;&lt;a href=&quot;#1-1åŸºæœ¬æ ‡ç­¾&quot; class=&quot;headerlink&quot; title=&quot;1.1åŸºæœ¬æ ‡ç­¾&quot;&gt;&lt;/a&gt;1.1åŸºæœ¬æ ‡ç­¾&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;h æ ‡ç­¾ ï¼šæ ‡é¢˜ï¼Œä¸€å…±æœ‰å…­çº§ï¼Œä»h1åˆ°h6&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;p æ ‡ç­¾ï¼š æ®µè½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;br æ ‡ç­¾ï¼šæ¢è¡Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</summary>
    
    
    
    <category term="å‰ç«¯" scheme="http://example.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="html" scheme="http://example.com/tags/html/"/>
    
    <category term="css" scheme="http://example.com/tags/css/"/>
    
    <category term="js" scheme="http://example.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>ä»Šå¹´ä¸€å®šè¿‡å››çº§</title>
    <link href="http://example.com/2020/10/12/%E8%8B%B1%E8%AF%AD/"/>
    <id>http://example.com/2020/10/12/%E8%8B%B1%E8%AF%AD/</id>
    <published>2020-10-12T11:46:25.882Z</published>
    <updated>2020-10-14T11:54:50.735Z</updated>
    
    <content type="html"><![CDATA[<ol><li><p><strong>stabilityï¼š</strong> n  ç¨³å®šï¼ˆæ€§ï¼‰ã€ç¨³å›ºï¼ˆæ€§ï¼‰</p><ul><li>social stability          ç¤¾ä¼šç¨³å®š</li><li>stable        adj  ç¨³å®šçš„    n é©¬å©ï¼Œç‰›æ£š</li></ul><a id="more"></a></li><li><p><strong>traceï¼š</strong> n   ç—•è¿¹ã€è¸ªè¿¹ã€è¶³è¿¹ã€å¾®é‡ã€è¿½æŸ¥ï¼›v   ä»”ç»†å¯»æ‰¾ã€è¿½è¸ªã€ç ”ç©¶â€¦.çš„å†å²ã€æ¢ç©¶â€¦..çš„å‘å±•;  v æç»˜</p><ul><li>trace back       è¿½æº¯</li><li>a trace of   å°‘é‡çš„ï¼Œä¸€ä¸çš„</li><li>without trace  äº†æ— è¸ªè¿¹</li></ul></li><li><p><strong>admissionï¼š</strong> n  å…è®¸åŠ å…¥ï¼Œè®¸å¯ï¼›å…¥åœºè´¹ï¼›æ‰¿è®¤</p><ul><li>admit   vt  æ‰¿è®¤ï¼Œå…è®¸è¿›å…¥ï¼›vi æ‰¿è®¤ï¼Œå®¹è®¸</li><li>admission office     æ‹›ç”ŸåŠ</li><li>permission   n    å…è®¸ï¼Œè®¸å¯</li></ul></li><li><p><strong>arrivalï¼š</strong>  n    åˆ°è¾¾ï¼ŒæŠµè¾¾ï¼Œåˆ°è¾¾è€…</p><ul><li>cash on arrival   è´§åˆ°ä»˜æ¬¾</li><li>with the arrival of    éšç€â€¦çš„åˆ°æ¥</li><li>arrive  vi åˆ°è¾¾</li></ul></li><li><p><strong>fiftyï¼š</strong>   n   äº”åå‡ ï¼Œäº”åå¹´ä»£ï¼›num  äº”å ï¼›adj è®¸å¤šçš„</p><ul><li>fiftieth    ç¬¬äº”åçš„ï¼Œäº”ååˆ†ä¹‹ä¸€çš„</li></ul></li><li><p><strong>pollutionï¼š</strong> n æ±¡æŸ“ï¼Œæ±¡æŸ“ç‰©ï¼Œåƒåœ¾</p><ul><li>to reduce levels of environmental pollution    é™ä½ç¯å¢ƒæ±¡æŸ“çš„ç¨‹åº¦</li><li>environmental pollution   ç¯å¢ƒæ±¡æŸ“</li><li>popular  n   æµè¡Œ</li><li>population  n  äººå£</li></ul></li><li><p><strong>mileï¼š</strong> n  è‹±é‡Œï¼Œå¾ˆè¿œçš„è·ç¦» </p><ul><li>meter   n  ç±³</li><li>mile better  å¥½å¾—å¤š  ï¼š sheâ€™s felling mile better today.   å¥¹ä»Šå¤©è§‰å¾—å¥½å¤šäº†</li><li>stand out a mile æ˜¾è€Œæ˜“è§</li><li>kilometer  å…¬é‡Œ</li></ul></li><li><p><strong>gloveï¼š</strong>  n   æ‰‹å¥— ï¼›  v  ç»™æˆ´æ‰‹å¥—</p><ul><li>a pair of gloves   ä¸€å‰¯æ‰‹å¥—</li><li>fitâ€¦..like a glove    æ°å½“ï¼Œåˆèº«,å¯¹â€¦.æ¥è¯´å¾ˆåˆé€‚</li><li>as right as my glove  å®Œå…¨æ­£ç¡®</li></ul></li><li><p><strong>romanticï¼š</strong>  adj  æµªæ¼«çš„ï¼Œçˆ±æƒ…çš„ï¼›n æµªæ¼«çš„äººï¼Œè€½äºå¹»æƒ³çš„äºº</p><ul><li>Iâ€˜m not interested in a romantic relationship   æˆ‘å¯¹è°ˆæƒ…è¯´çˆ±ä¸æ„Ÿå…´è¶£</li><li>romantic notions    å¼‚æƒ³å¤©å¼€çš„å¿µå¤´</li><li>romance   æµªæ¼«å²ï¼Œçˆ±æƒ…å°è¯´ï¼Œæ‹çˆ±å…³ç³»</li><li>romantic movement  n  æµªæ¼«ä¸»ä¹‰è¿åŠ¨</li></ul></li><li><p><strong>angleï¼š</strong> n  è§’ï¼Œè§’åº¦ï¼Œè§‚ç‚¹ï¼Œæ–œè§’   v.é’“é±¼</p><ul><li>eye angle    è§†é‡</li><li>angle for  è°‹å–   angle for promotion   è°‹æ±‚å‡èŒ</li><li>triangle   ä¸‰è§’å½¢</li><li>anger  ç”Ÿæ°”ï¼›  angel  å¤©ä½¿</li></ul></li><li><p><strong>lawnï¼š</strong> n  è‰åªï¼Œè‰åœ°ï¼Œä¸Šç­‰ç»†æ£‰å¸ƒ</p><ul><li>He spent a whole afternoon mowing the lawn in front of his house  ä»–èŠ±äº†ä¸€ä¸‹åˆçš„æ—¶é—´ä¿®å‰ªé—¨å‰çš„è‰åª</li><li>lawn mower  å‰²è‰æœº</li><li>meadow  è‰åŸ</li></ul></li><li><p><strong>biteï¼š</strong>  v  å’¬ï¼Œå®ï¼› n  å’¬ï¼Œå°‘é‡é£Ÿç‰©</p><ul><li>Stop biting your nails   åˆ«å’¬æŒ‡ç”²äº†</li><li>bite the dust  ç¢°ç“·äº†</li></ul></li><li><p><strong>brilliantï¼š</strong> adj  èªé¢–çš„ï¼Œæ‰åæ¨ªæº¢çš„ï¼Œä¼˜ç§€çš„ï¼Œå“è¶Šçš„ï¼›  n  é’»çŸ³</p><ul><li>a brilliant performance  ç²¾å½©çš„è¡¨æ¼”</li><li>a brilliant culture  ç¿çƒ‚çš„æ–‡åŒ–</li><li>a brilliant sunshine  ç¿çƒ‚çš„é˜³å…‰</li><li>brilliant idea é«˜æ‹›ï¼Œç»å¦™çš„ä¸»æ„   He came up a brilliant idea. ä»–æƒ³å‡ºäº†ä¸€ä¸ªç»å¦™çš„ä¸»æ„ã€‚</li></ul></li><li><p><strong>vitalï¼š</strong> adj  é‡è¦çš„ï¼Œå¿…ä¸å¯å°‘çš„ï¼Œç”Ÿæœºå‹ƒå‹ƒçš„</p><ul><li>The police play a vital role in our society   è­¦å¯Ÿåœ¨æˆ‘ä»¬çš„ç¤¾ä¼šä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚</li><li>vitality   n  ç²¾ç¥ï¼Œæ´»åŠ›ï¼ŒåŠ›é‡ï¼Œç”Ÿå‘½åŠ›</li><li>vital issue  è‡³å…³é‡è¦çš„é—®é¢˜</li></ul></li><li><p><strong>convertï¼š</strong>  v  ï¼ˆä½¿ï¼‰è½¬å˜ï¼Œï¼ˆä½¿ï¼‰æ”¹å˜ä¿¡ä»° ;   n  çšˆä¾è€…</p><ul><li>convertâ€¦into   å°†â€¦æ”¹å˜æˆ   convert stocks into cash   å°†è‚¡ç¥¨å…‘æ¢æˆç°é‡‘</li><li>unconverted   adj  ä¸æ”¹å˜çš„</li><li>converter  è½¬æ¢å™¨</li><li>conversation  äº¤è°ˆ</li></ul></li><li><p><strong>comprehensiveï¼š</strong> adj  ç»¼åˆçš„ï¼Œå…¨é¢çš„ï¼Œæœ‰ç†è§£åŠ›çš„</p><ul><li>They did a comprehensive study on leanring styles  ä»–ä»¬å¯¹å­¦ä¹ æ–¹å¼åšäº†å…¨é¢çš„ç ”ç©¶</li><li>comprehension  n  ç†è§£åŠ›ï¼Œç†è§£</li><li>comprehensive university  ç»¼åˆæ€§å¤§å­¦</li><li>comprehensive  quality  ç»¼åˆç´ è´¨</li><li>prehensive  adj  æ¡ä½çš„ï¼ŒæŠ“ä½çš„</li></ul></li><li><p><strong>prominentï¼š</strong> adj æ°å‡ºçš„ï¼Œæ˜¾è‘—çš„ï¼Œçªå‡ºçš„</p><ul><li>As the leader,he played a prominent part in the teamâ€™s victory.  ä½œä¸ºé˜Ÿé•¿ï¼Œä»–åœ¨å°ç»„çš„èƒœåˆ©ä¸­å‘æŒ¥äº†é‡è¦çš„ä½œç”¨</li><li>prominently  æ˜¾è‘—çš„ï¼Œæ˜æ˜¾çš„</li></ul></li><li><p><strong>loadï¼š</strong> v  è£…å¡«ï¼Œè£…è½½  n  è´Ÿè·ï¼Œè´Ÿæ‹…</p><ul><li>The trucks watied at the warehouse to pick up their loads.è´§è½¦åœ¨ä»“åº“ç­‰ç€è£…è½½è´§ç‰©ã€‚</li><li>a load of å¤§é‡ï¼Œè®¸å¤š</li><li>study load å­¦ä¹ ä»»åŠ¡</li></ul></li><li><p><strong>introductionï¼š</strong> n  å¼•å…¥ï¼Œå¼•è¿›ï¼Œé‡‡ç”¨ï¼Œä»‹ç»ï¼Œå…¥é—¨</p><ul><li>the introduction of new manufacturing methods æ–°åˆ¶é€ æ–¹æ³•çš„é‡‡ç”¨</li><li>recommend  vt  æ¨èï¼Œä»‹ç»ï¼ŒåŠå‘Š </li><li>letter of introduction   ä»‹ç»ä¿¡</li><li>brief introduction  ç®€ä»‹ï¼Œç®€çŸ­ä»‹ç»</li><li>introduce  vt æå‡º ä»‹ç»</li></ul></li><li><p><strong>pretendï¼š</strong> v å‡è£… ä½¯è£… è‡ªç§° æ¨¡æ‹Ÿï¼›  adj å‡è£…çš„ï¼Œæƒ³è±¡çš„</p><ul><li>Iâ€™m tired of having to pretend all the time  æˆ‘åŒå€¦äº†ä¸€ç›´å‡è£…</li><li>pretend to å‡è£… </li><li>pretend anger å‡è£…ç”Ÿæ°” </li><li>pretend to be   å‡è£…æ˜¯</li><li>pretend to do sth   å‡è£…åšæŸäº‹</li></ul></li></ol>]]></content>
    
    
    <summary type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;stabilityï¼š&lt;/strong&gt; n  ç¨³å®šï¼ˆæ€§ï¼‰ã€ç¨³å›ºï¼ˆæ€§ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;social stability          ç¤¾ä¼šç¨³å®š&lt;/li&gt;
&lt;li&gt;stable        adj  ç¨³å®šçš„    n é©¬å©ï¼Œç‰›æ£š&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;</summary>
    
    
    
    
    <category term="å•è¯" scheme="http://example.com/tags/%E5%8D%95%E8%AF%8D/"/>
    
    <category term="è‹±è¯­" scheme="http://example.com/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>Linux</title>
    <link href="http://example.com/2020/10/12/Linux/"/>
    <id>http://example.com/2020/10/12/Linux/</id>
    <published>2020-10-12T11:46:21.879Z</published>
    <updated>2020-10-16T02:00:19.496Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¿æ¥æœåŠ¡å™¨"><a href="#è¿æ¥æœåŠ¡å™¨" class="headerlink" title="è¿æ¥æœåŠ¡å™¨"></a>è¿æ¥æœåŠ¡å™¨</h2><p>ä½¿ç”¨xshellå·¥å…·åœ¨windowsç³»ç»Ÿä¸Šè¿æ¥Linuxäº‘æœåŠ¡å™¨</p><a id="more"></a><ol><li>æ–°å»ºè¿æ¥</li></ol><p><img src="images/blog/image-20201008124927869.png" alt="image-20201008124927869"></p><ol start="2"><li>å»ºç«‹è¿æ¥</li></ol><p><img src="images/blog/image-20201008125328043.png" alt="image-20201008125328043"></p><ol start="3"><li>ç„¶åç‚¹å‡»ä¼šè¯ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç å³å¯è¿æ¥æˆåŠŸã€‚</li></ol><h2 id="ä¸Šä¼ æ–‡ä»¶"><a href="#ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶"></a>ä¸Šä¼ æ–‡ä»¶</h2><p>ä½¿ç”¨xftpå·¥å…·å°†æœ¬åœ°çš„æ–‡ä»¶ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨</p><p><img src="images/blog/image-20201008130105924.png" alt="image-20201008130105924"></p><h2 id="èµ°è¿›Linux"><a href="#èµ°è¿›Linux" class="headerlink" title="èµ°è¿›Linux"></a>èµ°è¿›Linux</h2><h3 id="å¼€æœºç™»å½•"><a href="#å¼€æœºç™»å½•" class="headerlink" title="å¼€æœºç™»å½•"></a>å¼€æœºç™»å½•</h3><p>å¼€æœºä¼šå¯åŠ¨è®¸å¤šç¨‹åºï¼Œå®ƒä»¬åœ¨Windowså«åšæœåŠ¡ï¼Œåœ¨Linuxä¸­å«åšå®ˆæŠ¤è¿›ç¨‹</p><p>å¼€æœºæˆåŠŸåï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ªæ–‡æœ¬ç™»å½•ç•Œé¢ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„ç™»å½•ç•Œé¢ã€‚</p><p>åœ¨Linuxä¸­æœ€é«˜æƒé™è´¦æˆ·ä¸ºrootï¼Œå¯ä»¥æ“ä½œä¸€åˆ‡ï¼</p><h3 id="å…³æœº"><a href="#å…³æœº" class="headerlink" title="å…³æœº"></a>å…³æœº</h3><p><strong>Linuxä¸­æ²¡æœ‰é”™è¯¯å°±ä»£è¡¨æ“ä½œæˆåŠŸ</strong></p><p>å…³æœºæŒ‡ä»¤ä¸ºï¼šshutdown</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sync</span> <span class="token comment"># å°†æ•°æ®ç”±å†…å­˜åŒæ­¥åˆ°ç¡¬ç›˜ä¸­ã€‚</span><span class="token function">shutdown</span> <span class="token comment"># å…³æœºæŒ‡ä»¤ï¼Œä½ å¯ä»¥man shutdown æ¥çœ‹ä¸€ä¸‹å¸®åŠ©æ–‡æ¡£ã€‚ä¾‹å¦‚ä½ å¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤å…³æœºï¼š</span><span class="token function">shutdown</span> â€“h <span class="token number">10</span> <span class="token comment"># è¿™ä¸ªå‘½ä»¤å‘Šè¯‰å¤§å®¶ï¼Œè®¡ç®—æœºå°†åœ¨10åˆ†é’Ÿåå…³æœº</span><span class="token function">shutdown</span> â€“h now <span class="token comment"># ç«‹é©¬å…³æœº</span><span class="token function">shutdown</span> â€“h <span class="token number">20</span>:25 <span class="token comment"># ç³»ç»Ÿä¼šåœ¨ä»Šå¤©20:25å…³æœº</span><span class="token function">shutdown</span> â€“h +10 <span class="token comment"># ååˆ†é’Ÿåå…³æœº</span><span class="token function">shutdown</span> â€“r now <span class="token comment"># ç³»ç»Ÿç«‹é©¬é‡å¯</span><span class="token function">shutdown</span> â€“r +10 <span class="token comment"># ç³»ç»Ÿååˆ†é’Ÿåé‡å¯</span><span class="token function">reboot</span> <span class="token comment"># å°±æ˜¯é‡å¯ï¼Œç­‰åŒäº shutdown â€“r now</span><span class="token function">halt</span> <span class="token comment"># å…³é—­ç³»ç»Ÿï¼Œç­‰åŒäºshutdown â€“h now å’Œ poweroff</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼š<strong>ä¸ç®¡æ˜¯é‡å¯ç³»ç»Ÿè¿˜æ˜¯å…³é—­ç³»ç»Ÿï¼Œé¦–å…ˆè¦è¿è¡Œsyncå‘½ä»¤ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®å†™åˆ°ç£ç›˜ä¸­</strong></p><h3 id="ç³»ç»Ÿç›®å½•ç»“æ„"><a href="#ç³»ç»Ÿç›®å½•ç»“æ„" class="headerlink" title="ç³»ç»Ÿç›®å½•ç»“æ„"></a>ç³»ç»Ÿç›®å½•ç»“æ„</h3><ol><li>ä¸€åˆ‡çš†æ–‡ä»¶</li><li>æ ¹ç›®å½• /ï¼Œ æ‰€æœ‰çš„æ–‡ä»¶éƒ½æŒ‚è½½åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸‹</li></ol><p>ç™»å½•ç³»ç»Ÿåï¼Œåœ¨å½“å‰å‘½ä»¤çª—å£ä¸‹è¾“å…¥å‘½ä»¤ï¼š</p><p><code>ls /</code></p><p>å°±ä¼šçœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šå¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„æ–‡ä»¶ç›®å½•</p><p><img src="images/blog/image-20201008132435573.png" alt="image-20201008132435573"></p><p>æ ‘çŠ¶ç›®å½•ç»“æ„ï¼šï¼ˆLinuxçš„ä¸€åˆ‡èµ„æºéƒ½æŒ‚è½½åœ¨è¿™ä¸ª / æ ¹èŠ‚ç‚¹ä¸‹ï¼‰</p><p><img src="images/blog/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20201008132509.jpg" alt="ç³»ç»Ÿç»“æ„ç›®å½•"></p><p><strong>ä»¥ä¸‹æ˜¯å¯¹è¿™äº›ç›®å½•çš„è§£é‡Šï¼š</strong></p><ul><li><strong>/bin</strong>ï¼šbinæ˜¯Binaryçš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚</li><li><strong>/bootï¼š</strong> è¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨Linuxæ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚<em>ä¸è¦åŠ¨</em></li><li><strong>/dev ï¼š</strong> devæ˜¯Device(è®¾å¤‡)çš„ç¼©å†™, å­˜æ”¾çš„æ˜¯Linuxçš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨Linuxä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚</li><li>==<strong>/etcï¼š</strong> è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•==ã€‚</li><li>==<strong>/home</strong>ï¼šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨Linuxä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ã€‚==</li><li><strong>/lib</strong>ï¼šè¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºWindowsé‡Œçš„DLLæ–‡ä»¶ã€‚<em>ä¸è¦åŠ¨</em></li><li><strong>/lost+found</strong>ï¼šè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚<em>å­˜æ”¾çªç„¶å…³æœºçš„ä¸€äº›æ–‡ä»¶</em></li><li><strong>/media</strong>ï¼šlinuxç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼Œlinuxä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚</li><li><strong>/mnt</strong>ï¼šç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨/mnt/ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚<em>ä¼šæŠŠä¸€äº›æœ¬åœ°æ–‡ä»¶æŒ‚è½½åœ¨è¿™ä¸ªç›®å½•ä¸‹</em></li><li>==<strong>/opt</strong>ï¼šè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚æ¯”å¦‚ä½ å®‰è£…ä¸€ä¸ªORACLEæ•°æ®åº“åˆ™å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚==</li><li><strong>/proc</strong>ï¼šè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚<em>ä¸ç”¨ç®¡</em></li><li>==<strong>/root</strong>ï¼šè¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚==</li><li><strong>/sbin</strong>ï¼šså°±æ˜¯Super Userçš„æ„æ€ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚</li><li><strong>/srv</strong>ï¼šè¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚</li><li><strong>/sys</strong>ï¼šè¿™æ˜¯linux2.6å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº†2.6å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚</li><li>==<strong>/tmp</strong>ï¼šè¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚<em>ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚ç”¨å®Œå³ä¸¢çš„æ–‡ä»¶ï¼Œå¯ä»¥æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œæ¯”å¦‚è¯´å®‰è£…åŒ…</em>==</li><li>==<strong>/usr</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼äºwindowsä¸‹çš„program filesç›®å½•ã€‚==</li><li><strong>/usr/binï¼š</strong> ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚</li><li><strong>/usr/sbinï¼š</strong> è¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚</li><li><strong>/usr/srcï¼š</strong> å†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•ã€‚</li><li>==<strong>/var</strong>ï¼šè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚==</li><li><strong>/run</strong>ï¼šæ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚</li><li>==<strong>wwwï¼š</strong>å­˜æ”¾æœåŠ¡å™¨ç½‘ç«™ç›¸å…³çš„èµ„æºï¼Œç¯å¢ƒï¼Œç½‘ç«™çš„é¡¹ç›®==</li></ul><h2 id="å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤"><a href="#å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤"></a>å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤</h2><h3 id="ç›®å½•ç®¡ç†"><a href="#ç›®å½•ç®¡ç†" class="headerlink" title="ç›®å½•ç®¡ç†"></a>ç›®å½•ç®¡ç†</h3><blockquote><p>ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„</p></blockquote><p>æˆ‘ä»¬çŸ¥é“Linuxçš„ç›®å½•ç»“æ„ä¸ºæ ‘çŠ¶ç»“æ„ï¼Œæœ€é¡¶çº§çš„ç›®å½•ä¸ºæ ¹ç›®å½• /ã€‚</p><p>å…¶ä»–ç›®å½•é€šè¿‡æŒ‚è½½å¯ä»¥å°†å®ƒä»¬æ·»åŠ åˆ°æ ‘ä¸­ï¼Œé€šè¿‡è§£é™¤æŒ‚è½½å¯ä»¥ç§»é™¤å®ƒä»¬ã€‚</p><p>åœ¨å¼€å§‹æœ¬æ•™ç¨‹å‰æˆ‘ä»¬éœ€è¦å…ˆçŸ¥é“ä»€ä¹ˆæ˜¯ç»å¯¹è·¯å¾„ä¸ç›¸å¯¹è·¯å¾„ã€‚</p><p><strong>ç»å¯¹è·¯å¾„ï¼š</strong></p><p>è·¯å¾„çš„å†™æ³•ï¼Œç”±æ ¹ç›®å½• / å†™èµ·ï¼Œä¾‹å¦‚ï¼š/usr/share/doc è¿™ä¸ªç›®å½•ã€‚</p><p><strong>ç›¸å¯¹è·¯å¾„ï¼š</strong></p><p>è·¯å¾„çš„å†™æ³•ï¼Œä¸æ˜¯ç”± / å†™èµ·ï¼Œä¾‹å¦‚ç”± /usr/share/doc è¦åˆ° /usr/share/man åº•ä¸‹æ—¶ï¼Œå¯ä»¥å†™æˆï¼šcd ../man è¿™å°±æ˜¯ç›¸å¯¹è·¯å¾„çš„å†™æ³•å•¦ï¼</p><blockquote><p>å¤„ç†ç›®å½•çš„å¸¸ç”¨å‘½ä»¤</p></blockquote><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹å‡ ä¸ªå¸¸è§çš„å¤„ç†ç›®å½•çš„å‘½ä»¤å§ï¼š</p><ul><li>ls: åˆ—å‡ºç›®å½•</li><li>cdï¼šåˆ‡æ¢ç›®å½•</li><li>pwdï¼šæ˜¾ç¤ºç›®å‰çš„ç›®å½•</li><li>mkdirï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•</li><li>rmdirï¼šåˆ é™¤ä¸€ä¸ªç©ºçš„ç›®å½•</li><li>cp: å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•</li><li>rm: ç§»é™¤æ–‡ä»¶æˆ–ç›®å½•</li><li>mv: ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•ï¼Œæˆ–ä¿®æ”¹æ–‡ä»¶ä¸ç›®å½•çš„åç§°</li></ul><p>ä½ å¯ä»¥ä½¿ç”¨ <em>man [å‘½ä»¤]</em> æ¥æŸ¥çœ‹å„ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ–‡æ¡£ï¼Œå¦‚ ï¼šman cpã€‚</p><blockquote><p>ls ï¼ˆåˆ—å‡ºç›®å½•ï¼‰</p></blockquote><p>åœ¨Linuxç³»ç»Ÿå½“ä¸­ï¼Œ ls å‘½ä»¤å¯èƒ½æ˜¯æœ€å¸¸è¢«è¿è¡Œçš„ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@www ~]# ls [-aAdfFhilnrRSt] ç›®å½•åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-aå‚æ•° ï¼šallï¼ŒæŸ¥çœ‹å…¨éƒ¨çš„æ–‡ä»¶ï¼Œè¿åŒéšè—æ–‡ä»¶( å¼€å¤´ä¸º . çš„æ–‡ä»¶) ä¸€èµ·åˆ—å‡ºæ¥(å¸¸ç”¨)</li><li>-l ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ï¼ŒåŒ…å«æ–‡ä»¶çš„å±æ€§ä¸æƒé™ç­‰ç­‰æ•°æ®ï¼Œæ²¡æœ‰éšè—æ–‡ä»¶ï¼›(å¸¸ç”¨)</li></ul><p><strong>æ‰€æœ‰çš„Linuxå‘½ä»¤éƒ½å¯ä»¥ç»„åˆä½¿ç”¨</strong></p><p>å°†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ—å‡ºæ¥(å«å±æ€§ä¸éšè—æ¡£)</p><pre class="line-numbers language-none"><code class="language-none">[root@www ~]# ls -al ~<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>cd ï¼ˆåˆ‡æ¢ç›®å½•ï¼‰</p></blockquote><p>cdæ˜¯Change Directoryçš„ç¼©å†™ï¼Œè¿™æ˜¯ç”¨æ¥å˜æ¢å·¥ä½œç›®å½•çš„å‘½ä»¤ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">cd ç›®å½•å[ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ‡æ¢åˆ°ç”¨æˆ·ç›®å½•ä¸‹</span><span class="token punctuation">[</span>root@kuangshen /<span class="token punctuation">]</span><span class="token comment"># cd home  </span><span class="token comment"># ä½¿ç”¨ mkdir å‘½ä»¤åˆ›å»º kuangstudy ç›®å½•</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># mkdir kuangstudy</span><span class="token comment"># è¿›å…¥ kuangstudy ç›®å½•</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cd kuangstudy</span><span class="token comment"># å›åˆ°ä¸Šä¸€çº§</span><span class="token punctuation">[</span>root@kuangshen kuangstudy<span class="token punctuation">]</span><span class="token comment"># cd ..</span><span class="token comment"># å›åˆ°æ ¹ç›®å½•</span><span class="token punctuation">[</span>root@kuangshen kuangstudy<span class="token punctuation">]</span><span class="token comment"># cd /</span><span class="token comment"># è¡¨ç¤ºå›åˆ°è‡ªå·±çš„å®¶ç›®å½•ï¼Œå³å›åˆ° /root è¿™ä¸ªç›®å½•  </span><span class="token punctuation">[</span>root@kuangshen kuangstudy<span class="token punctuation">]</span><span class="token comment"># cd ~</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>pwd ( æ˜¾ç¤ºç›®å‰æ‰€åœ¨çš„ç›®å½• )</p></blockquote><p>pwd æ˜¯ <strong>Print Working Directory</strong> çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯æ˜¾ç¤ºç›®å‰æ‰€åœ¨ç›®å½•çš„å‘½ä»¤ã€‚</p><pre class="line-numbers language-none"><code class="language-none">[root@kuangshen kuangstudy]#pwd [-P]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š**-P** ï¼šæ˜¾ç¤ºå‡ºç¡®å®çš„è·¯å¾„ï¼Œè€Œéä½¿ç”¨è¿æ¥(link) è·¯å¾„ã€‚</p><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å•çº¯æ˜¾ç¤ºå‡ºç›®å‰çš„å·¥ä½œç›®å½•</span><span class="token punctuation">[</span>root@kuangshen ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>/root<span class="token comment"># å¦‚æœæ˜¯é“¾æ¥ï¼Œè¦æ˜¾ç¤ºçœŸå®åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ -På‚æ•°</span><span class="token punctuation">[</span>root@kuangshen /<span class="token punctuation">]</span><span class="token comment"># cd bin</span><span class="token punctuation">[</span>root@kuangshen bin<span class="token punctuation">]</span><span class="token comment"># pwd -P</span>/usr/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>mkdir ï¼ˆåˆ›å»ºæ–°ç›®å½•ï¼‰</p></blockquote><p>å¦‚æœæƒ³è¦åˆ›å»ºæ–°çš„ç›®å½•çš„è¯ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨mkdir (make directory)å§ã€‚</p><pre class="line-numbers language-none"><code class="language-none">mkdir [-mp] ç›®å½•åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-m ï¼šé…ç½®æ–‡ä»¶çš„æƒé™å–”ï¼ç›´æ¥é…ç½®ï¼Œä¸éœ€è¦çœ‹é»˜è®¤æƒé™ (umask) çš„è„¸è‰²ï½</li><li>-p ï¼šå¸®åŠ©ä½ ç›´æ¥å°†æ‰€éœ€è¦çš„ç›®å½•(åŒ…å«ä¸Šä¸€çº§ç›®å½•)é€’å½’åˆ›å»ºèµ·æ¥ï¼å³ç›´æ¥åˆ›å»º<code>test1/test2/test3</code>ä¸‰å±‚æ–‡ä»¶å¤¹</li></ul><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è¿›å…¥æˆ‘ä»¬ç”¨æˆ·ç›®å½•ä¸‹</span><span class="token punctuation">[</span>root@kuangshen /<span class="token punctuation">]</span><span class="token comment"># cd /home</span><span class="token comment"># åˆ›å»ºä¸€ä¸ª test æ–‡ä»¶å¤¹</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># mkdir test</span><span class="token comment"># åˆ›å»ºå¤šå±‚çº§ç›®å½•</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># mkdir test1/test2/test3/test4</span>mkdir: cannot create directory â€˜test1/test2/test3/test4â€™:No such <span class="token function">file</span> or directory  <span class="token comment"># &lt;== æ²¡åŠæ³•ç›´æ¥åˆ›å»ºæ­¤ç›®å½•å•Šï¼</span><span class="token comment"># åŠ äº†è¿™ä¸ª -p çš„é€‰é¡¹ï¼Œå¯ä»¥è‡ªè¡Œå¸®ä½ åˆ›å»ºå¤šå±‚ç›®å½•ï¼</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># mkdir -p test1/test2/test3/test4</span><span class="token comment"># åˆ›å»ºæƒé™ä¸º rwx--x--x çš„ç›®å½•ã€‚</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># mkdir -m 711 test2</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># ls -l</span>drwxr-xr-x <span class="token number">2</span> root root  <span class="token number">4096</span> Mar <span class="token number">12</span> <span class="token number">21</span>:55 <span class="token builtin class-name">test</span>drwxr-xr-x <span class="token number">3</span> root root  <span class="token number">4096</span> Mar <span class="token number">12</span> <span class="token number">21</span>:56 test1drwx--x--x <span class="token number">2</span> root root  <span class="token number">4096</span> Mar <span class="token number">12</span> <span class="token number">21</span>:58 test2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>rmdir ( åˆ é™¤ç©ºçš„ç›®å½• )</p></blockquote><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">rmdir [-p] ç›®å½•åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š**-p ï¼š**è¿åŒä¸Šä¸€çº§ã€ç©ºçš„ã€ç›®å½•ä¹Ÿä¸€èµ·åˆ é™¤</p><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># çœ‹çœ‹æœ‰å¤šå°‘ç›®å½•å­˜åœ¨ï¼Ÿ</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># ls -l</span>drwxr-xr-x <span class="token number">2</span> root root  <span class="token number">4096</span> Mar <span class="token number">12</span> <span class="token number">21</span>:55 <span class="token builtin class-name">test</span>drwxr-xr-x <span class="token number">3</span> root root  <span class="token number">4096</span> Mar <span class="token number">12</span> <span class="token number">21</span>:56 test1drwx--x--x <span class="token number">2</span> root root  <span class="token number">4096</span> Mar <span class="token number">12</span> <span class="token number">21</span>:58 test2<span class="token comment"># å¯ç›´æ¥åˆ é™¤æ‰ï¼Œæ²¡é—®é¢˜</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># rmdir test</span><span class="token comment"># å› ä¸ºå°šæœ‰å†…å®¹ï¼Œæ‰€ä»¥æ— æ³•åˆ é™¤ï¼</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># rmdir test1</span>rmdir: failed to remove â€˜test1â€™: Directory not empty<span class="token comment"># åˆ©ç”¨ -p è¿™ä¸ªé€‰é¡¹ï¼Œç«‹åˆ»å°±å¯ä»¥å°† test1/test2/test3/test4 ä¾æ¬¡åˆ é™¤ã€‚</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># rmdir -p test1/test2/test3/test4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„ï¼šè¿™ä¸ª rmdir ä»…èƒ½åˆ é™¤ç©ºçš„ç›®å½•ï¼Œå¦‚æœä¸‹é¢å­˜åœ¨æ–‡ä»¶ï¼Œéœ€è¦å…ˆåˆ é™¤æ–‡ä»¶ï¼Œé€’å½’åˆ é™¤å¤šä¸ªç›®å½•åŠ ä¸Š -p å‚æ•°ã€‚</strong></p><p><strong>å¯ä»¥ä½¿ç”¨ rm å‘½ä»¤æ¥åˆ é™¤éç©ºç›®å½•ã€‚</strong></p><blockquote><p>cp ( å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½• )</p></blockquote><p>è¯­æ³•ï¼š     </p><p>cp åŸæ¥çš„åœ°æ–¹ æ–°çš„åœ°æ–¹ï¼ </p><pre class="line-numbers language-none"><code class="language-none">[root@www ~]# cp [-adfilprsu] æ¥æºæ¡£(source) ç›®æ ‡æ¡£(destination)[root@www ~]# cp [options] source1 source2 source3 .... directory<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li><strong>-aï¼š</strong>ç›¸å½“æ–¼ -pdr çš„æ„æ€ï¼Œè‡³æ–¼ pdr è¯·å‚è€ƒä¸‹åˆ—è¯´æ˜ï¼›(å¸¸ç”¨)</li><li><strong>-pï¼š</strong>è¿åŒæ–‡ä»¶çš„å±æ€§ä¸€èµ·å¤åˆ¶è¿‡å»ï¼Œè€Œéä½¿ç”¨é»˜è®¤å±æ€§(å¤‡ä»½å¸¸ç”¨)ï¼›</li><li><strong>-dï¼š</strong>è‹¥æ¥æºæ¡£ä¸ºè¿ç»“æ¡£çš„å±æ€§(link file)ï¼Œåˆ™å¤åˆ¶è¿ç»“æ¡£å±æ€§è€Œéæ–‡ä»¶æœ¬èº«ï¼›</li><li><strong>-rï¼š</strong>é€’å½’æŒç»­å¤åˆ¶ï¼Œç”¨æ–¼ç›®å½•çš„å¤åˆ¶è¡Œä¸ºï¼›(å¸¸ç”¨)</li><li><strong>-fï¼š</strong>ä¸ºå¼ºåˆ¶(force)çš„æ„æ€ï¼Œè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ä¸”æ— æ³•å¼€å¯ï¼Œåˆ™ç§»é™¤åå†å°è¯•ä¸€æ¬¡ï¼›</li><li><strong>-iï¼š</strong>è‹¥ç›®æ ‡æ¡£(destination)å·²ç»å­˜åœ¨æ—¶ï¼Œåœ¨è¦†ç›–æ—¶ä¼šå…ˆè¯¢é—®åŠ¨ä½œçš„è¿›è¡Œ(å¸¸ç”¨)</li><li><strong>-lï¼š</strong>è¿›è¡Œç¡¬å¼è¿ç»“(hard link)çš„è¿ç»“æ¡£åˆ›å»ºï¼Œè€Œéå¤åˆ¶æ–‡ä»¶æœ¬èº«ã€‚</li><li><strong>-sï¼š</strong>å¤åˆ¶æˆä¸ºç¬¦å·è¿ç»“æ¡£ (symbolic link)ï¼Œäº¦å³ã€æ·å¾„ã€æ–‡ä»¶ï¼›</li><li><strong>-uï¼š</strong>è‹¥ destination æ¯” source æ—§æ‰å‡çº§ destination ï¼</li></ul><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cp install.sh  kuangstudy  #æ‹·è´æ–‡ä»¶è‡³ç›®å½•  è¿™é‡Œæ˜¯å°†install.sh ç”±homeæ‹·è´åˆ°kuangstudy</span><span class="token comment">#å¦‚æœæ–‡ä»¶é‡å¤ï¼Œä¼šè¯¢é—®æ˜¯å¦è¦†ç›–</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cp install.sh  kuangstudy</span>cp: overwrite â€˜kuangstudy/install.shâ€™? y <span class="token comment"># nä¸è¦†ç›–ï¼Œyä¸ºè¦†ç›–</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>rm ( ç§»é™¤æ–‡ä»¶æˆ–ç›®å½• )</p></blockquote><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">rm [-fir] æ–‡ä»¶æˆ–ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-f ï¼šå°±æ˜¯ force çš„æ„æ€ï¼Œå¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¸ä¼šå‡ºç°è­¦å‘Šä¿¡æ¯ï¼Œå¼ºåˆ¶åˆ é™¤ï¼›</li><li>-i ï¼šäº’åŠ¨æ¨¡å¼ï¼Œåœ¨åˆ é™¤å‰ä¼šè¯¢é—®ä½¿ç”¨è€…æ˜¯å¦åŠ¨ä½œ</li><li>-r ï¼šé€’å½’åˆ é™¤å•Šï¼æœ€å¸¸ç”¨åœ¨ç›®å½•çš„åˆ é™¤äº†ï¼è¿™æ˜¯éå¸¸å±é™©çš„é€‰é¡¹ï¼ï¼ï¼</li></ul><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å°†åˆšåˆšåœ¨ cp çš„å®ä¾‹ä¸­åˆ›å»ºçš„ install.shåˆ é™¤æ‰ï¼</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># rm -i install.sh</span>rm: remove regular <span class="token function">file</span> â€˜install.shâ€™? y<span class="token comment"># å¦‚æœåŠ ä¸Š -i çš„é€‰é¡¹å°±ä¼šä¸»åŠ¨è¯¢é—®å–”ï¼Œé¿å…ä½ åˆ é™¤åˆ°é”™è¯¯çš„æ¡£åï¼</span><span class="token comment"># å°½é‡ä¸è¦åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ rm -rf /  è¿™ä¸ªå‘½ä»¤ä¼šåˆ é™¤ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆè¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ä¸œè¥¿éƒ½è¢«åˆ é™¤ï¼‰ï¼Œåˆ åº“è·‘è·¯å°±æ˜¯è¿™ä¹ˆæ“ä½œçš„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>mv  ( ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•ï¼Œæˆ–ä¿®æ”¹åç§° )</p></blockquote><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># mv [-fiu] source destination</span><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># mv [options] source1 source2 source3 .... directory</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-f ï¼šforce å¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸ä¼šè¯¢é—®è€Œç›´æ¥è¦†ç›–ï¼›</li><li>-i ï¼šè‹¥ç›®æ ‡æ–‡ä»¶ (destination) å·²ç»å­˜åœ¨æ—¶ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ï¼</li><li>-u ï¼šåªæ›´æ¢æ¯”è¾ƒæ–°çš„æ–‡ä»¶</li></ul><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¤åˆ¶ä¸€ä¸ªæ–‡ä»¶åˆ°å½“å‰ç›®å½•</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cp /root/install.sh /home</span><span class="token comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ test</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># mkdir test</span><span class="token comment"># å°†å¤åˆ¶è¿‡æ¥çš„æ–‡ä»¶ç§»åŠ¨åˆ°æˆ‘ä»¬åˆ›å»ºçš„ç›®å½•ï¼Œå¹¶æŸ¥çœ‹</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># mv install.sh test</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># ls</span><span class="token builtin class-name">test</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cd test</span><span class="token punctuation">[</span>root@kuangshen test<span class="token punctuation">]</span><span class="token comment"># ls</span>install.sh<span class="token comment"># å°†æ–‡ä»¶å¤¹é‡å‘½åï¼Œç„¶åå†æ¬¡æŸ¥çœ‹ï¼</span><span class="token punctuation">[</span>root@kuangshen test<span class="token punctuation">]</span><span class="token comment"># cd ..</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># mv test mvtest</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># ls</span>mvtest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŸºæœ¬å±æ€§"><a href="#åŸºæœ¬å±æ€§" class="headerlink" title="åŸºæœ¬å±æ€§"></a>åŸºæœ¬å±æ€§</h3><blockquote><p>çœ‹æ‡‚æ–‡ä»¶å±æ€§</p></blockquote><p>Linuxç³»ç»Ÿæ˜¯ä¸€ç§å…¸å‹çš„å¤šç”¨æˆ·ç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·å¤„äºä¸åŒçš„åœ°ä½ï¼Œæ‹¥æœ‰ä¸åŒçš„æƒé™ã€‚ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒLinuxç³»ç»Ÿå¯¹ä¸åŒçš„ç”¨æˆ·è®¿é—®åŒä¸€æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•æ–‡ä»¶ï¼‰çš„æƒé™åšäº†ä¸åŒçš„è§„å®šã€‚</p><p>åœ¨Linuxä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>ll</code>æˆ–è€…<code>ls â€“l</code>å‘½ä»¤æ¥æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ä»¥åŠæ–‡ä»¶æ‰€å±çš„ç”¨æˆ·å’Œç»„ã€‚</p><p><img src="images/blog/image-20201008202333515.png" alt="image-20201008202333515"></p><p>å®ä¾‹ä¸­ï¼Œbootæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªå±æ€§ç”¨â€dâ€è¡¨ç¤ºã€‚â€dâ€åœ¨Linuxä¸­ä»£è¡¨è¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ã€‚</p><p>åœ¨Linuxä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨è¿™ä¸ªæ–‡ä»¶æ˜¯ç›®å½•ã€æ–‡ä»¶æˆ–é“¾æ¥æ–‡ä»¶ç­‰ç­‰ï¼š</p><ul><li>==å½“ä¸º[ <strong>d</strong> ]åˆ™æ˜¯ç›®å½•==</li><li>==å½“ä¸º[ <strong>-</strong> ]åˆ™æ˜¯æ–‡ä»¶ï¼›==</li><li>==è‹¥æ˜¯[ <strong>l</strong> ]åˆ™è¡¨ç¤ºä¸ºé“¾æ¥æ–‡æ¡£ ( link file )ï¼›==</li><li>è‹¥æ˜¯[ <strong>b</strong> ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„å¯ä¾›å‚¨å­˜çš„æ¥å£è®¾å¤‡ ( å¯éšæœºå­˜å–è£…ç½® )ï¼›</li><li>è‹¥æ˜¯[ <strong>c</strong> ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ ( ä¸€æ¬¡æ€§è¯»å–è£…ç½® )ã€‚</li></ul><p>æ¥ä¸‹æ¥çš„å­—ç¬¦ä¸­ï¼Œä»¥ä¸‰ä¸ªä¸ºä¸€ç»„ï¼Œä¸”å‡ä¸ºã€rwxã€ çš„ä¸‰ä¸ªå‚æ•°çš„ç»„åˆã€‚</p><p>å…¶ä¸­ï¼Œ[ r ]ä»£è¡¨å¯è¯»(read)ã€[ w ]ä»£è¡¨å¯å†™(write)ã€[ x ]ä»£è¡¨å¯æ‰§è¡Œ(execute)ã€‚</p><p>è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸‰ä¸ªæƒé™çš„ä½ç½®ä¸ä¼šæ”¹å˜ï¼Œå¦‚æœæ²¡æœ‰æƒé™ï¼Œå°±ä¼šå‡ºç°å‡å·[ - ]è€Œå·²ã€‚</p><p>æ¯ä¸ªæ–‡ä»¶çš„å±æ€§ç”±å·¦è¾¹ç¬¬ä¸€éƒ¨åˆ†çš„10ä¸ªå­—ç¬¦æ¥ç¡®å®šï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼š</p><p><img src="images/blog/image-20201008203048944.png" alt="image-20201008203048944"></p><p>ä»å·¦è‡³å³ç”¨0-9è¿™äº›æ•°å­—æ¥è¡¨ç¤ºã€‚</p><p>ç¬¬0ä½ç¡®å®šæ–‡ä»¶ç±»å‹ï¼Œç¬¬1-3ä½ç¡®å®šå±ä¸»ï¼ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚ç¬¬4-6ä½ç¡®å®šå±ç»„ï¼ˆæ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ï¼Œç¬¬7-9ä½ç¡®å®šå…¶ä»–ç”¨æˆ·æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚</p><p>å…¶ä¸­ï¼š</p><p>ç¬¬1ã€4ã€7ä½è¡¨ç¤ºè¯»æƒé™ï¼Œå¦‚æœç”¨â€râ€å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰è¯»æƒé™ï¼Œå¦‚æœç”¨â€-â€œå­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æ²¡æœ‰è¯»æƒé™ï¼›</p><p>ç¬¬2ã€5ã€8ä½è¡¨ç¤ºå†™æƒé™ï¼Œå¦‚æœç”¨â€wâ€å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰å†™æƒé™ï¼Œå¦‚æœç”¨â€-â€œå­—ç¬¦è¡¨ç¤ºæ²¡æœ‰å†™æƒé™ï¼›</p><p>ç¬¬3ã€6ã€9ä½è¡¨ç¤ºå¯æ‰§è¡Œæƒé™ï¼Œå¦‚æœç”¨â€xâ€å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰æ‰§è¡Œæƒé™ï¼Œå¦‚æœç”¨â€-â€œå­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æ²¡æœ‰æ‰§è¡Œæƒé™ã€‚</p><p>å¯¹äºæ–‡ä»¶æ¥è¯´ï¼Œå®ƒéƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„æ‰€æœ‰è€…ï¼Œä¹Ÿå°±æ˜¯å¯¹è¯¥æ–‡ä»¶å…·æœ‰æ‰€æœ‰æƒçš„ç”¨æˆ·ã€‚</p><p>åŒæ—¶ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ˜¯æŒ‰ç»„åˆ†ç±»çš„ï¼Œä¸€ä¸ªç”¨æˆ·å±äºä¸€ä¸ªæˆ–å¤šä¸ªç»„ã€‚</p><p>æ–‡ä»¶æ‰€æœ‰è€…ä»¥å¤–çš„ç”¨æˆ·åˆå¯ä»¥åˆ†ä¸ºæ–‡ä»¶æ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·ã€‚</p><p>å› æ­¤ï¼ŒLinuxç³»ç»ŸæŒ‰æ–‡ä»¶æ‰€æœ‰è€…ã€æ–‡ä»¶æ‰€æœ‰è€…åŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·æ¥è§„å®šäº†ä¸åŒçš„æ–‡ä»¶è®¿é—®æƒé™ã€‚</p><p>åœ¨ä»¥ä¸Šå®ä¾‹ä¸­ï¼Œboot æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œå±ä¸»å’Œå±ç»„éƒ½ä¸º rootã€‚<em>ç¬¬ä¸€ä¸ªrootä½ç½®è¡¨ç¤ºå±ä¸»ï¼Œç¬¬äºŒä¸ªrootè¡¨ç¤ºå±ç»„</em></p><blockquote><p>ä¿®æ”¹æ–‡ä»¶å±æ€§</p></blockquote><p><strong>1ã€chgrpï¼šæ›´æ”¹æ–‡ä»¶å±ç»„</strong></p><pre class="line-numbers language-none"><code class="language-none">chgrp [-R] å±ç»„å æ–‡ä»¶å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>-Rï¼šé€’å½’æ›´æ”¹æ–‡ä»¶å±ç»„ï¼Œå°±æ˜¯åœ¨æ›´æ”¹æŸä¸ªç›®å½•æ–‡ä»¶çš„å±ç»„æ—¶ï¼Œå¦‚æœåŠ ä¸Š-Rçš„å‚æ•°ï¼Œé‚£ä¹ˆè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„å±ç»„éƒ½ä¼šæ›´æ”¹ã€‚</p><p>3vS_j:hG/n&lt;,</p><p><strong>2ã€chownï¼šæ›´æ”¹æ–‡ä»¶å±ä¸»ï¼Œä¹Ÿå¯ä»¥åŒæ—¶æ›´æ”¹æ–‡ä»¶å±ç»„</strong></p><pre class="line-numbers language-none"><code class="language-none">chown [â€“R] å±ä¸»å æ–‡ä»¶åchown [-R] å±ä¸»åï¼šå±ç»„å æ–‡ä»¶å<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>==<strong>3ã€chmodï¼šæ›´æ”¹æ–‡ä»¶9ä¸ªå±æ€§ï¼ˆå¿…é¡»è¦æŒæ¡ï¼‰</strong>==</p><pre class="line-numbers language-none"><code class="language-none">chmod [-R] xyz æ–‡ä»¶æˆ–ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Linuxæ–‡ä»¶å±æ€§æœ‰ä¸¤ç§è®¾ç½®æ–¹æ³•ï¼Œä¸€ç§æ˜¯æ•°å­—(å¸¸ç”¨çš„æ˜¯æ•°å­—ï¼‰ï¼Œä¸€ç§æ˜¯ç¬¦å·ã€‚</p><p>Linuxæ–‡ä»¶çš„åŸºæœ¬æƒé™å°±æœ‰ä¹ä¸ªï¼Œåˆ†åˆ«æ˜¯owner/group/othersä¸‰ç§èº«ä»½å„æœ‰è‡ªå·±çš„read/write/executeæƒé™ã€‚</p><p>å…ˆå¤ä¹ ä¸€ä¸‹åˆšåˆšä¸Šé¢æåˆ°çš„æ•°æ®ï¼šæ–‡ä»¶çš„æƒé™å­—ç¬¦ä¸ºï¼šã€-rwxrwxrwxã€ï¼Œ è¿™ä¹ä¸ªæƒé™æ˜¯ä¸‰ä¸ªä¸‰ä¸ªä¸€ç»„çš„ï¼å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—æ¥ä»£è¡¨å„ä¸ªæƒé™ï¼Œå„æƒé™çš„åˆ†æ•°å¯¹ç…§è¡¨å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">r:4     w:2         x:1å¯è¯»å¯å†™ä¸å¯æ‰§è¡Œ    rw- 6å¯è¯»å¯å†™å¯æ‰§è¡Œ      rwx 7chmod 777  æ–‡ä»¶èµ‹äºˆæ‰€æœ‰ç”¨æˆ·å¯è¯»å¯å†™å¯æ‰§è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¯ç§èº«ä»½(owner/group/others)å„è‡ªçš„ä¸‰ä¸ªæƒé™(r/w/x)åˆ†æ•°æ˜¯éœ€è¦ç´¯åŠ çš„ï¼Œä¾‹å¦‚å½“æƒé™ä¸ºï¼š[-rwxrwxâ€”] åˆ†æ•°åˆ™æ˜¯ï¼š</p><ul><li>owner = rwx = 4+2+1 = 7</li><li>group = rwx = 4+2+1 = 7</li><li>others= â€” = 0+0+0 = 0</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> <span class="token number">770</span> filename<span class="token comment"># æŠŠfilenameè®¾ç½®æƒé™ä¸ºrwxrwx---</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="æ–‡ä»¶å†…å®¹æŸ¥çœ‹"><a href="#æ–‡ä»¶å†…å®¹æŸ¥çœ‹" class="headerlink" title="æ–‡ä»¶å†…å®¹æŸ¥çœ‹"></a>æ–‡ä»¶å†…å®¹æŸ¥çœ‹</h3><blockquote><p>æ¦‚è¿°</p></blockquote><p>Linuxç³»ç»Ÿä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼š</p><ul><li>==cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ ï¼Œ==</li><li>tac ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯ cat çš„å€’ç€å†™ï¼</li><li>nl  æ˜¾ç¤ºçš„æ—¶å€™ï¼Œé¡ºé“è¾“å‡ºè¡Œå·ï¼çœ‹ä»£ç çš„æ—¶å€™å¸Œæœ›æ˜¾ç¤ºè¡Œå·</li><li>more ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ ==ç©ºæ ¼è¡¨ç¤ºç¿»é¡µï¼Œenterä»£è¡¨å‘ä¸‹çœ‹ä¸€è¡Œ :få¯ä»¥çœ‹åˆ°å½“å‰çš„è¡Œå·==</li><li>less ä¸ more ç±»ä¼¼ï¼Œä½†æ˜¯æ¯” more æ›´å¥½çš„æ˜¯ï¼Œä»–å¯ä»¥å¾€å‰ç¿»é¡µï¼==ç©ºæ ¼ä¸‹ç¿»é¡µï¼Œä¸Šä¸‹é”®ä»£è¡¨ç¿»åŠ¨é¡µé¢ï¼qå‘½ä»¤é€€å‡º==</li><li>head åªçœ‹å¤´å‡ è¡Œ</li><li>tail åªçœ‹å°¾å·´å‡ è¡Œ</li></ul><p>ä½ å¯ä»¥ä½¿ç”¨ *man [å‘½ä»¤]*æ¥æŸ¥çœ‹å„ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ–‡æ¡£ï¼Œå¦‚ ï¼šman cpã€‚</p><p>ç½‘ç»œé…ç½®ç›®å½•ï¼š<code>cd /etc/sysconfig/network-scripts</code></p><p><img src="images/blog/image-20201008210213118.png" alt="image-20201008210213118"></p><p><strong>ä½¿ç”¨ifconfigæ¥æŸ¥çœ‹ç½‘ç»œé…ç½®</strong></p><blockquote><p>cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</p></blockquote><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">cat [-AbEnTv]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-A ï¼šç›¸å½“æ–¼ -vET çš„æ•´åˆé€‰é¡¹ï¼Œå¯åˆ—å‡ºä¸€äº›ç‰¹æ®Šå­—ç¬¦è€Œä¸æ˜¯ç©ºç™½è€Œå·²ï¼›</li><li>-b ï¼šåˆ—å‡ºè¡Œå·ï¼Œä»…é’ˆå¯¹éç©ºç™½è¡Œåšè¡Œå·æ˜¾ç¤ºï¼Œç©ºç™½è¡Œä¸æ ‡è¡Œå·ï¼</li><li>-E ï¼šå°†ç»“å°¾çš„æ–­è¡Œå­—èŠ‚ $ æ˜¾ç¤ºå‡ºæ¥ï¼›</li><li>-n ï¼šåˆ—å°å‡ºè¡Œå·ï¼Œè¿åŒç©ºç™½è¡Œä¹Ÿä¼šæœ‰è¡Œå·ï¼Œä¸ -b çš„é€‰é¡¹ä¸åŒï¼›</li><li>-T ï¼šå°† [tab] æŒ‰é”®ä»¥ ^I æ˜¾ç¤ºå‡ºæ¥ï¼›</li><li>-v ï¼šåˆ—å‡ºä¸€äº›çœ‹ä¸å‡ºæ¥çš„ç‰¹æ®Šå­—ç¬¦</li></ul><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹ç½‘ç»œé…ç½®: æ–‡ä»¶åœ°å€ /etc/sysconfig/network-scripts/</span><span class="token punctuation">[</span>root@kuangshen ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/sysconfig/network-scripts/ifcfg-eth0</span><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eth0<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>dhcp<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>tac</p></blockquote><p>tacä¸catå‘½ä»¤åˆšå¥½ç›¸åï¼Œæ–‡ä»¶å†…å®¹ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯ cat çš„å€’ç€å†™ï¼å¦‚ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@kuangshen ~<span class="token punctuation">]</span><span class="token comment"># tac /etc/sysconfig/network-scripts/ifcfg-eth0</span><span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>dhcp<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eth0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>nl  æ˜¾ç¤ºè¡Œå·</p></blockquote><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">nl [-bnw] æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-b ï¼šæŒ‡å®šè¡Œå·æŒ‡å®šçš„æ–¹å¼ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š-b a ï¼šè¡¨ç¤ºä¸è®ºæ˜¯å¦ä¸ºç©ºè¡Œï¼Œä¹ŸåŒæ ·åˆ—å‡ºè¡Œå·(ç±»ä¼¼ cat -n)ï¼›-b t ï¼šå¦‚æœæœ‰ç©ºè¡Œï¼Œç©ºçš„é‚£ä¸€è¡Œä¸è¦åˆ—å‡ºè¡Œå·(é»˜è®¤å€¼)ï¼›</li><li>-n ï¼šåˆ—å‡ºè¡Œå·è¡¨ç¤ºçš„æ–¹æ³•ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š-n ln ï¼šè¡Œå·åœ¨è§å¹•çš„æœ€å·¦æ–¹æ˜¾ç¤ºï¼›-n rn ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ  0 ï¼›-n rz ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ  0 ï¼›</li><li>-w ï¼šè¡Œå·æ ä½çš„å ç”¨çš„ä½æ•°ã€‚</li></ul><p>æµ‹è¯•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@kuangshen ~<span class="token punctuation">]</span><span class="token comment"># nl /etc/sysconfig/network-scripts/ifcfg-eth0</span><span class="token assign-left variable">1DEVICE</span><span class="token operator">=</span>eth0<span class="token assign-left variable">2BOOTPROTO</span><span class="token operator">=</span>dhcp<span class="token assign-left variable">3ONBOOT</span><span class="token operator">=</span>yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>more  ä¸€é¡µä¸€é¡µç¿»åŠ¨</p></blockquote><p>åœ¨ more è¿™ä¸ªç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä½ æœ‰å‡ ä¸ªæŒ‰é”®å¯ä»¥æŒ‰çš„ï¼š</p><ul><li>ç©ºç™½é”® (space)ï¼šä»£è¡¨å‘ä¸‹ç¿»ä¸€é¡µï¼›</li><li>Enter   ï¼šä»£è¡¨å‘ä¸‹ç¿»ã€ä¸€è¡Œã€ï¼›</li><li>/å­—ä¸²   ï¼šä»£è¡¨åœ¨è¿™ä¸ªæ˜¾ç¤ºçš„å†…å®¹å½“ä¸­ï¼Œå‘ä¸‹æœå¯»ã€å­—ä¸²ã€è¿™ä¸ªå…³é”®å­—ï¼›</li><li>:f    ï¼šç«‹åˆ»æ˜¾ç¤ºå‡ºæ¡£åä»¥åŠç›®å‰æ˜¾ç¤ºçš„è¡Œæ•°ï¼›</li><li>q    ï¼šä»£è¡¨ç«‹åˆ»ç¦»å¼€ more ï¼Œä¸å†æ˜¾ç¤ºè¯¥æ–‡ä»¶å†…å®¹ã€‚</li><li>b æˆ– [ctrl]-b ï¼šä»£è¡¨å¾€å›ç¿»é¡µï¼Œä¸è¿‡è¿™åŠ¨ä½œåªå¯¹æ–‡ä»¶æœ‰ç”¨ï¼Œå¯¹ç®¡çº¿æ— ç”¨ã€‚</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@kuangshen etc<span class="token punctuation">]</span><span class="token comment"># more /etc/csh.login</span><span class="token punctuation">[</span>root@iZ2ze1m5qjg1tjthcel6gcZ etc<span class="token punctuation">]</span><span class="token comment"># more csh.login</span><span class="token comment"># /etc/csh.login</span><span class="token comment"># System wide environment and startup programs, for login setup</span><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token variable">$&#123;?PATH&#125;</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$uid</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>setenv <span class="token environment constant">PATH</span> <span class="token string">"/usr/local/sbin:/usr/sbin:/usr/local/bin:/usr/bin"</span>        <span class="token keyword">else</span>setenv <span class="token environment constant">PATH</span> <span class="token string">"/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin"</span>        endif<span class="token keyword">else</span><span class="token comment">#add sbin directories to the path</span>foreach p <span class="token punctuation">(</span> /usr/local/sbin /usr/sbin <span class="token punctuation">)</span>switch <span class="token punctuation">(</span><span class="token string">":<span class="token variable">$&#123;<span class="token environment constant">PATH</span>&#125;</span>:"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">"*:<span class="token variable">$&#123;p&#125;</span>:*"</span><span class="token builtin class-name">:</span>breakswdefault:<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$uid</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>                        <span class="token builtin class-name">set</span> path <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token variable">$&#123;p&#125;</span> <span class="token variable">$&#123;path<span class="token operator">:</span>q&#125;</span> <span class="token punctuation">)</span><span class="token keyword">else</span>--More--<span class="token punctuation">(</span><span class="token number">47</span>%<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>less  ä¸€é¡µä¸€é¡µç¿»åŠ¨ï¼Œä»¥ä¸‹å®ä¾‹è¾“å‡º/etc/man.configæ–‡ä»¶çš„å†…å®¹ï¼š</p></blockquote><p>lessè¿è¡Œæ—¶å¯ä»¥è¾“å…¥çš„å‘½ä»¤æœ‰ï¼š</p><ul><li>ç©ºç™½é”®  ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›</li><li>[pagedown]ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›</li><li>[pageup] ï¼šå‘ä¸Šç¿»åŠ¨ä¸€é¡µï¼›</li><li>/å­—ä¸²  ï¼šå‘ä¸‹æœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›</li><li>?å­—ä¸²  ï¼šå‘ä¸Šæœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›</li><li>n   ï¼šé‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)</li><li>N   ï¼šåå‘çš„é‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)</li><li>q   ï¼šç¦»å¼€ less è¿™ä¸ªç¨‹åºï¼›</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@iZ2ze1m5qjg1tjthcel6gcZ etc<span class="token punctuation">]</span><span class="token comment"># less csh.login</span><span class="token comment"># /etc/csh.login</span><span class="token comment"># System wide environment and startup programs, for login setup</span><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token variable">$&#123;?PATH&#125;</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$uid</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>                setenv <span class="token environment constant">PATH</span> <span class="token string">"/usr/local/sbin:/usr/sbin:/usr/local/bin:/usr/bin"</span>        <span class="token keyword">else</span>                setenv <span class="token environment constant">PATH</span> <span class="token string">"/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin"</span>        endif<span class="token keyword">else</span>        <span class="token comment">#add sbin directories to the path</span>        foreach p <span class="token punctuation">(</span> /usr/local/sbin /usr/sbin <span class="token punctuation">)</span>                switch <span class="token punctuation">(</span><span class="token string">":<span class="token variable">$&#123;<span class="token environment constant">PATH</span>&#125;</span>:"</span><span class="token punctuation">)</span>                <span class="token keyword">case</span> <span class="token string">"*:<span class="token variable">$&#123;p&#125;</span>:*"</span><span class="token builtin class-name">:</span>                        breaksw                default:                        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$uid</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>                                <span class="token builtin class-name">set</span> path <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token variable">$&#123;p&#125;</span> <span class="token variable">$&#123;path<span class="token operator">:</span>q&#125;</span> <span class="token punctuation">)</span>                        <span class="token keyword">else</span>csh.login<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>head  å–å‡ºæ–‡ä»¶å‰é¢å‡ è¡Œ</p></blockquote><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">head [-n number] æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š**-n** åé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€ï¼</p><p>é»˜è®¤çš„æƒ…å†µä¸­ï¼Œæ˜¾ç¤ºå‰é¢ 10 è¡Œï¼è‹¥è¦æ˜¾ç¤ºå‰ 20 è¡Œï¼Œå°±å¾—è¦è¿™æ ·ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@kuangshen etc]# head -n 20 &#x2F;etc&#x2F;csh.login<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>tail  å–å‡ºæ–‡ä»¶åé¢å‡ è¡Œ</p></blockquote><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">tail [-n number] æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-n ï¼šåé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€</li></ul><p>é»˜è®¤çš„æƒ…å†µä¸­ï¼Œæ˜¾ç¤ºæœ€å 10 è¡Œï¼è‹¥è¦æ˜¾ç¤ºæœ€å 20 è¡Œï¼Œå°±å¾—è¦è¿™æ ·ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@kuangshen etc<span class="token punctuation">]</span><span class="token comment"># tail -n 20 /etc/csh.login</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ‹“å±•ï¼šLinux é“¾æ¥æ¦‚å¿µ</p></blockquote><p>Linux é“¾æ¥åˆ†ä¸¤ç§ï¼Œä¸€ç§è¢«ç§°ä¸ºç¡¬é“¾æ¥ï¼ˆHard Linkï¼‰ï¼Œå¦ä¸€ç§è¢«ç§°ä¸ºè½¯é“¾æ¥ï¼ˆSymbolic Linkï¼‰ã€‚</p><p>æƒ…å†µä¸‹ï¼Œ<strong>ln</strong> å‘½ä»¤äº§ç”Ÿç¡¬é“¾æ¥ã€‚</p><p><strong>ç¡¬è¿æ¥</strong></p><p>ç¡¬è¿æ¥æŒ‡é€šè¿‡ç´¢å¼•èŠ‚ç‚¹æ¥è¿›è¡Œè¿æ¥ã€‚åœ¨ Linux çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¿å­˜åœ¨ç£ç›˜åˆ†åŒºä¸­çš„æ–‡ä»¶ä¸ç®¡æ˜¯ä»€ä¹ˆç±»å‹éƒ½ç»™å®ƒåˆ†é…ä¸€ä¸ªç¼–å·ï¼Œç§°ä¸ºç´¢å¼•èŠ‚ç‚¹å·(Inode Index)ã€‚åœ¨ Linux ä¸­ï¼Œå¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ç´¢å¼•èŠ‚ç‚¹æ˜¯å­˜åœ¨çš„ã€‚æ¯”å¦‚ï¼šA æ˜¯ B çš„ç¡¬é“¾æ¥ï¼ˆA å’Œ B éƒ½æ˜¯æ–‡ä»¶åï¼‰ï¼Œåˆ™ A çš„ç›®å½•é¡¹ä¸­çš„ inode èŠ‚ç‚¹å·ä¸ B çš„ç›®å½•é¡¹ä¸­çš„ inode èŠ‚ç‚¹å·ç›¸åŒï¼Œ<strong>å³ä¸€ä¸ª inode èŠ‚ç‚¹å¯¹åº”ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶åï¼Œä¸¤ä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ï¼ŒA å’Œ B å¯¹æ–‡ä»¶ç³»ç»Ÿæ¥è¯´æ˜¯å®Œå…¨å¹³ç­‰çš„ã€‚åˆ é™¤å…¶ä¸­ä»»ä½•ä¸€ä¸ªéƒ½ä¸ä¼šå½±å“å¦å¤–ä¸€ä¸ªçš„è®¿é—®</strong>ã€‚</p><p>ç¡¬è¿æ¥çš„ä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªæœ‰æ•ˆè·¯å¾„åï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥å»ºç«‹ç¡¬è¿æ¥åˆ°é‡è¦æ–‡ä»¶ï¼Œä»¥é˜²æ­¢â€œè¯¯åˆ â€çš„åŠŸèƒ½ã€‚å…¶åŸå› å¦‚ä¸Šæ‰€è¿°ï¼Œå› ä¸ºå¯¹åº”è¯¥ç›®å½•çš„ç´¢å¼•èŠ‚ç‚¹æœ‰ä¸€ä¸ªä»¥ä¸Šçš„è¿æ¥ã€‚åªåˆ é™¤ä¸€ä¸ªè¿æ¥å¹¶ä¸å½±å“ç´¢å¼•èŠ‚ç‚¹æœ¬èº«å’Œå…¶å®ƒçš„è¿æ¥ï¼Œåªæœ‰å½“æœ€åä¸€ä¸ªè¿æ¥è¢«åˆ é™¤åï¼Œæ–‡ä»¶çš„æ•°æ®å—åŠç›®å½•çš„è¿æ¥æ‰ä¼šè¢«é‡Šæ”¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–‡ä»¶çœŸæ­£åˆ é™¤çš„æ¡ä»¶æ˜¯ä¸ä¹‹ç›¸å…³çš„æ‰€æœ‰ç¡¬è¿æ¥æ–‡ä»¶å‡è¢«åˆ é™¤ã€‚</p><p><strong>è½¯è¿æ¥</strong> </p><p>å¦å¤–ä¸€ç§è¿æ¥ç§°ä¹‹ä¸ºç¬¦å·è¿æ¥ï¼ˆSymbolic Linkï¼‰ï¼Œä¹Ÿå«è½¯è¿æ¥ã€‚<strong>è½¯é“¾æ¥æ–‡ä»¶æœ‰ç±»ä¼¼äº Windows çš„å¿«æ·æ–¹å¼ï¼Œå¦‚æœåˆ é™¤äº†åŸæ–‡ä»¶ï¼Œé‚£ä¹ˆå¿«æ·æ–¹å¼ä¹Ÿè®¿é—®ä¸äº†äº†</strong>ã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ã€‚åœ¨ç¬¦å·è¿æ¥ä¸­ï¼Œæ–‡ä»¶å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«çš„æœ‰å¦ä¸€æ–‡ä»¶çš„ä½ç½®ä¿¡æ¯ã€‚æ¯”å¦‚ï¼šA æ˜¯ B çš„è½¯é“¾æ¥ï¼ˆA å’Œ B éƒ½æ˜¯æ–‡ä»¶åï¼‰ï¼ŒA çš„ç›®å½•é¡¹ä¸­çš„ inode èŠ‚ç‚¹å·ä¸ B çš„ç›®å½•é¡¹ä¸­çš„ inode èŠ‚ç‚¹å·ä¸ç›¸åŒï¼ŒA å’Œ B æŒ‡å‘çš„æ˜¯ä¸¤ä¸ªä¸åŒçš„ inodeï¼Œç»§è€ŒæŒ‡å‘ä¸¤å—ä¸åŒçš„æ•°æ®å—ã€‚ä½†æ˜¯ A çš„æ•°æ®å—ä¸­å­˜æ”¾çš„åªæ˜¯ B çš„è·¯å¾„åï¼ˆå¯ä»¥æ ¹æ®è¿™ä¸ªæ‰¾åˆ° B çš„ç›®å½•é¡¹ï¼‰ã€‚A å’Œ B ä¹‹é—´æ˜¯â€œä¸»ä»â€å…³ç³»ï¼Œå¦‚æœ B è¢«åˆ é™¤äº†ï¼ŒA ä»ç„¶å­˜åœ¨ï¼ˆå› ä¸ºä¸¤ä¸ªæ˜¯ä¸åŒçš„æ–‡ä»¶ï¼‰ï¼Œä½†æŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ— æ•ˆçš„é“¾æ¥ã€‚</p><p><strong>æµ‹è¯•ï¼š</strong></p><ul><li>åˆ›å»ºè¿æ¥ï¼š lnå‘½ä»¤ </li><li>touch åˆ›å»ºæ–‡ä»¶</li><li>echo è¾“å…¥å­—ç¬¦ä¸²</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@kuangshen /<span class="token punctuation">]</span><span class="token comment"># cd /home</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># touch f1 # åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶f1</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># ls</span>f1<span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># ln f1 f2     # åˆ›å»ºf1çš„ä¸€ä¸ªç¡¬è¿æ¥æ–‡ä»¶f2 é»˜è®¤æ˜¯ç¡¬é“¾æ¥</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># ln -s f1 f3   # åˆ›å»ºf1çš„ä¸€ä¸ªç¬¦å·è¿æ¥æ–‡ä»¶f3 åŠ ä¸ª-så‚æ•° åˆ›å»ºçš„æ˜¯è½¯è¿æ¥</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># ls -li       # -iå‚æ•°æ˜¾ç¤ºæ–‡ä»¶çš„inodeèŠ‚ç‚¹ä¿¡æ¯</span><span class="token number">397247</span> -rw-r--r-- <span class="token number">2</span> root root     <span class="token number">0</span> Mar <span class="token number">13</span> 00:50 f1<span class="token number">397247</span> -rw-r--r-- <span class="token number">2</span> root root     <span class="token number">0</span> Mar <span class="token number">13</span> 00:50 f2<span class="token number">397248</span> lrwxrwxrwx <span class="token number">1</span> root root     <span class="token number">2</span> Mar <span class="token number">13</span> 00:50 f3 -<span class="token operator">></span> f1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="images/blog/image-20201008214542041.png" alt="image-20201008214542041"></p><p>ä»ä¸Šé¢çš„ç»“æœä¸­å¯ä»¥çœ‹å‡ºï¼Œç¡¬è¿æ¥æ–‡ä»¶ f2 ä¸åŸæ–‡ä»¶ f1 çš„ inode èŠ‚ç‚¹ç›¸åŒï¼Œå‡ä¸º 397247ï¼Œç„¶è€Œè½¯è¿æ¥æ–‡ä»¶çš„ inode èŠ‚ç‚¹ä¸åŒã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># echo å­—ç¬¦ä¸²è¾“å‡º >> f1 è¾“å‡ºåˆ° f1æ–‡ä»¶</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># echo "I am f1 file" >>f1</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cat f1</span>I am f1 <span class="token function">file</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cat f2</span>I am f1 <span class="token function">file</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cat f3</span>I am f1 <span class="token function">file</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># rm -f f1</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cat f2</span>I am f1 <span class="token function">file</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># cat f3</span>cat: f3: No such <span class="token function">file</span> or directory<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡ä¸Šé¢çš„æµ‹è¯•å¯ä»¥çœ‹å‡ºï¼šå½“åˆ é™¤åŸå§‹æ–‡ä»¶ f1 åï¼Œç¡¬è¿æ¥ f2 ä¸å—å½±å“ï¼Œä½†æ˜¯è½¯è¿æ¥ f1 æ–‡ä»¶æ— æ•ˆï¼›</p><p>ä¾æ­¤æ‚¨å¯ä»¥åšä¸€äº›ç›¸å…³çš„æµ‹è¯•ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹å…¨éƒ¨ç»“è®ºï¼š</p><ul><li>åˆ é™¤ç¬¦å·è¿æ¥f3,å¯¹f1,f2æ— å½±å“ï¼›</li><li>åˆ é™¤ç¡¬è¿æ¥f2ï¼Œå¯¹f1,f3ä¹Ÿæ— å½±å“ï¼›</li><li>åˆ é™¤åŸæ–‡ä»¶f1ï¼Œå¯¹ç¡¬è¿æ¥f2æ²¡æœ‰å½±å“ï¼Œå¯¼è‡´ç¬¦å·è¿æ¥f3å¤±æ•ˆï¼›</li><li>åŒæ—¶åˆ é™¤åŸæ–‡ä»¶f1,ç¡¬è¿æ¥f2ï¼Œæ•´ä¸ªæ–‡ä»¶ä¼šçœŸæ­£çš„è¢«åˆ é™¤ã€‚</li></ul><h3 id="vimç¼–è¯‘å™¨"><a href="#vimç¼–è¯‘å™¨" class="headerlink" title="vimç¼–è¯‘å™¨"></a>vimç¼–è¯‘å™¨</h3><blockquote><p>ä»€ä¹ˆæ˜¯Vimç¼–è¾‘å™¨</p></blockquote><p>vimé€šè¿‡ä¸€äº›æ’ä»¶å¯ä»¥å®ç°å’ŒIDEä¸€æ ·çš„æŸ¥çœ‹</p><p>Vimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚==ï¼ˆæŸ¥çœ‹å†…å®¹ï¼Œç¼–è¾‘å†…å®¹ï¼Œä¿å­˜å†…å®¹ï¼‰==</p><p>ç®€å•çš„æ¥è¯´ï¼Œ vi æ˜¯è€å¼çš„å­—å¤„ç†å™¨ï¼Œä¸è¿‡åŠŸèƒ½å·²ç»å¾ˆé½å…¨äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¯ä»¥è¿›æ­¥çš„åœ°æ–¹ã€‚</p><p>vim åˆ™å¯ä»¥è¯´æ˜¯ç¨‹åºå¼€å‘è€…çš„ä¸€é¡¹å¾ˆå¥½ç”¨çš„å·¥å…·ã€‚</p><p>æ‰€æœ‰çš„ Unix Like ç³»ç»Ÿéƒ½ä¼šå†…å»º vi æ–‡ä¹¦ç¼–è¾‘å™¨ï¼Œå…¶ä»–çš„æ–‡ä¹¦ç¼–è¾‘å™¨åˆ™ä¸ä¸€å®šä¼šå­˜åœ¨ã€‚</p><p>è¿ vim çš„å®˜æ–¹ç½‘ç«™ (<a href="http://www.vim.org/">http://www.vim.org</a>) è‡ªå·±ä¹Ÿè¯´ vim æ˜¯ä¸€ä¸ªç¨‹åºå¼€å‘å·¥å…·è€Œä¸æ˜¯æ–‡å­—å¤„ç†è½¯ä»¶ã€‚</p><p>vim é”®ç›˜å›¾ï¼š</p><p><img src="images/blog/64116-20191222111829090-17043451.gif" alt="vimé”®ç›˜å›¾"></p><blockquote><p>ä¸‰ç§ä½¿ç”¨æ¨¡å¼</p></blockquote><p>åŸºæœ¬ä¸Š vi/vim å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯<strong>å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰</strong>ï¼Œ<strong>è¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰</strong>å’Œ<strong>åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰</strong>ã€‚è¿™ä¸‰ç§æ¨¡å¼çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š</p><p><strong>å‘½ä»¤æ¨¡å¼ï¼š</strong></p><p>ç”¨æˆ·åˆšåˆšå¯åŠ¨ vi/vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚</p><p>æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢«Vimè¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè€Œéè¾“å…¥å­—ç¬¦ã€‚æ¯”å¦‚æˆ‘ä»¬æ­¤æ—¶æŒ‰ä¸‹iï¼Œå¹¶ä¸ä¼šè¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œiè¢«å½“ä½œäº†ä¸€ä¸ªå‘½ä»¤ã€‚</p><p>ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š</p><ul><li><strong>i</strong> åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ï¼Œä»¥è¾“å…¥å­—ç¬¦ã€‚</li><li><strong>x</strong> åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ã€‚</li><li><strong>:</strong> åˆ‡æ¢åˆ°åº•çº¿å‘½ä»¤æ¨¡å¼ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚å¦‚æœæ˜¯ç¼–è¾‘æ¨¡å¼ï¼Œéœ€è¦å…ˆé€€å‡ºç¼–è¾‘æ¨¡å¼ã€‚ä½¿ç”¨ESC</li></ul><p>è‹¥æƒ³è¦ç¼–è¾‘æ–‡æœ¬ï¼šå¯åŠ¨Vimï¼Œè¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹iï¼Œåˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ã€‚</p><p>å‘½ä»¤æ¨¡å¼åªæœ‰ä¸€äº›æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå› æ­¤ä»è¦ä¾é åº•çº¿å‘½ä»¤æ¨¡å¼è¾“å…¥æ›´å¤šå‘½ä»¤ã€‚</p><p><strong>è¾“å…¥æ¨¡å¼ï¼š</strong></p><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹iå°±è¿›å…¥äº†è¾“å…¥æ¨¡å¼ã€‚</p><p>åœ¨è¾“å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‰é”®ï¼š</p><ul><li><strong>å­—ç¬¦æŒ‰é”®ä»¥åŠShiftç»„åˆ</strong>ï¼Œè¾“å…¥å­—ç¬¦</li><li><strong>ENTER</strong>ï¼Œå›è½¦é”®ï¼Œæ¢è¡Œ</li><li><strong>BACK SPACE</strong>ï¼Œé€€æ ¼é”®ï¼Œåˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</li><li><strong>DEL</strong>ï¼Œåˆ é™¤é”®ï¼Œåˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</li><li><strong>æ–¹å‘é”®</strong>ï¼Œåœ¨æ–‡æœ¬ä¸­ç§»åŠ¨å…‰æ ‡</li><li><strong>HOME</strong>/<strong>END</strong>ï¼Œç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–/è¡Œå°¾</li><li><strong>Page Up</strong>/<strong>Page Down</strong>ï¼Œä¸Š/ä¸‹ç¿»é¡µ</li><li><strong>Insert</strong>ï¼Œåˆ‡æ¢å…‰æ ‡ä¸ºè¾“å…¥/æ›¿æ¢æ¨¡å¼ï¼Œå…‰æ ‡å°†å˜æˆç«–çº¿/ä¸‹åˆ’çº¿</li><li><strong>ESC</strong>ï¼Œé€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼</li></ul><p><strong>åº•çº¿å‘½ä»¤æ¨¡å¼</strong></p><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹:ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•çº¿å‘½ä»¤æ¨¡å¼ã€‚å…‰æ ‡ç§»åŠ¨åˆ°äº†æœ€åº•ä¸‹ï¼Œå°±å¯ä»¥åœ¨è¿™é‡Œè¾“å…¥ä¸€äº›åº•çº¿å‘½ä»¤äº†</p><p>åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚</p><p>åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼ˆå·²ç»çœç•¥äº†å†’å·ï¼‰ï¼š</p><ul><li>q é€€å‡ºç¨‹åº</li><li>w ä¿å­˜æ–‡ä»¶</li></ul><p>æŒ‰ESCé”®å¯éšæ—¶é€€å‡ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p><p><img src="images/blog/image-20201008220932366.png" alt="image-20201008220932366"></p><p>ç®€å•çš„è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸‰ä¸ªæ¨¡å¼æƒ³æˆåº•ä¸‹çš„å›¾æ ‡æ¥è¡¨ç¤ºï¼š</p><p><img src="images/blog/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20201008221127.jpg" alt="vimæ“ä½œæµç¨‹"></p><blockquote><p>å®Œæ•´çš„æ¼”ç¤ºè¯´æ˜</p></blockquote><ol><li>æ–°å»ºæˆ–è€…ç¼–è¾‘æ–‡ä»¶  <code>vim filename</code></li><li>æŒ‰i a o è¿›å…¥è¾“å…¥æ¨¡å¼ï¼Œç¼–å†™å†…å®¹</li><li>ç¼–å†™å®ŒæˆåæŒ‰ESCé€€å‡ºç¼–è¾‘æ¨¡å¼</li><li>æŒ‰:è¿›å…¥åº•çº¿æ¨¡å¼  è¾“å…¥<code>wq</code>ä¿å­˜é€€å‡º</li></ol><blockquote><p>Vim æŒ‰é”®è¯´æ˜</p></blockquote><p>é™¤äº†ä¸Šé¢ç®€æ˜“èŒƒä¾‹çš„ i, Esc, :wq ä¹‹å¤–ï¼Œå…¶å® vim è¿˜æœ‰éå¸¸å¤šçš„æŒ‰é”®å¯ä»¥ä½¿ç”¨ã€‚</p><p><strong>ç¬¬ä¸€éƒ¨åˆ†ï¼šä¸€èˆ¬æ¨¡å¼ï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰å¯ç”¨çš„å…‰æ ‡ç§»åŠ¨ã€å¤åˆ¶ç²˜è´´ã€æœç´¢æ›¿æ¢ç­‰</strong></p><table><thead><tr><th align="left">ç§»åŠ¨å…‰æ ‡çš„æ–¹æ³•</th><th></th></tr></thead><tbody><tr><td align="left">h æˆ– å‘å·¦ç®­å¤´é”®(â†)</td><td>å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">j æˆ– å‘ä¸‹ç®­å¤´é”®(â†“)</td><td>å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">k æˆ– å‘ä¸Šç®­å¤´é”®(â†‘)</td><td>å…‰æ ‡å‘ä¸Šç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">l æˆ– å‘å³ç®­å¤´é”®(â†’)</td><td>å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">[Ctrl] + [f]</td><td>å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Down]æŒ‰é”® (å¸¸ç”¨)</td></tr><tr><td align="left">[Ctrl] + [b]</td><td>å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Up] æŒ‰é”® (å¸¸ç”¨)</td></tr><tr><td align="left">[Ctrl] + [d]</td><td>å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨åŠé¡µ</td></tr><tr><td align="left">[Ctrl] + [u]</td><td>å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨åŠé¡µ</td></tr><tr><td align="left">+</td><td>å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸‹ä¸€è¡Œ</td></tr><tr><td align="left">-</td><td>å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸Šä¸€è¡Œ  é…ç½®æ–‡ä»¶ä¸­ç©ºæ ¼è¾ƒå¤šä½¿ç”¨è¿™ä¸ªæ–¹ä¾¿</td></tr><tr><td align="left">==n&lt; space&gt;==</td><td>é‚£ä¸ª n è¡¨ç¤ºã€æ•°å­—ã€ï¼Œä¾‹å¦‚ 20 ã€‚æŒ‰ä¸‹æ•°å­—åå†æŒ‰ç©ºæ ¼é”®ï¼Œå…‰æ ‡ä¼šå‘å³ç§»åŠ¨è¿™ä¸€è¡Œçš„ n ä¸ªå­—ç¬¦ã€‚</td></tr><tr><td align="left">0 æˆ–åŠŸèƒ½é”®[Home]</td><td>è¿™æ˜¯æ•°å­—ã€ 0 ã€ï¼šç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€å‰é¢å­—ç¬¦å¤„ (å¸¸ç”¨)</td></tr><tr><td align="left">$ æˆ–åŠŸèƒ½é”®[End]</td><td>ç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€åé¢å­—ç¬¦å¤„(å¸¸ç”¨)</td></tr><tr><td align="left">H</td><td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸Šæ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">M</td><td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„ä¸­å¤®é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">L</td><td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸‹æ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">G</td><td>ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„æœ€åä¸€è¡Œ(å¸¸ç”¨)</td></tr><tr><td align="left">nG</td><td>n ä¸ºæ•°å­—ã€‚ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ n è¡Œã€‚ä¾‹å¦‚ 20G åˆ™ä¼šç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ 20 è¡Œ(å¯é…åˆ :set nu)</td></tr><tr><td align="left">gg</td><td>ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ä¸€è¡Œï¼Œç›¸å½“äº 1G å•Šï¼(å¸¸ç”¨)</td></tr><tr><td align="left">==n&lt; Enter&gt;==</td><td>n ä¸ºæ•°å­—ã€‚å…‰æ ‡å‘ä¸‹ç§»åŠ¨ n è¡Œ(å¸¸ç”¨)</td></tr></tbody></table><table><thead><tr><th align="left">æœç´¢æ›¿æ¢</th><th></th></tr></thead><tbody><tr><td align="left">==/word==</td><td>å‘å…‰æ ‡ä¹‹ä¸‹å¯»æ‰¾ä¸€ä¸ªåç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚è¦åœ¨æ¡£æ¡ˆå†…æœå¯» vbird è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°±è¾“å…¥ /vbird å³å¯ï¼(å¸¸ç”¨)</td></tr><tr><td align="left">?word</td><td>å‘å…‰æ ‡ä¹‹ä¸Šå¯»æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²åç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left">==n==</td><td>è¿™ä¸ª n æ˜¯è‹±æ–‡æŒ‰é”®ã€‚ä»£è¡¨é‡å¤å‰ä¸€ä¸ªæœå¯»çš„åŠ¨ä½œã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ å¦‚æœåˆšåˆšæˆ‘ä»¬æ‰§è¡Œ /vbird å»å‘ä¸‹æœå¯» vbird è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰ä¸‹ n åï¼Œä¼šå‘ä¸‹ç»§ç»­æœå¯»ä¸‹ä¸€ä¸ªåç§°ä¸º vbird çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ˜¯æ‰§è¡Œ ?vbird çš„è¯ï¼Œé‚£ä¹ˆæŒ‰ä¸‹ n åˆ™ä¼šå‘ä¸Šç»§ç»­æœå¯»åç§°ä¸º vbird çš„å­—ç¬¦ä¸²ï¼</td></tr><tr><td align="left">==N==</td><td>è¿™ä¸ª N æ˜¯è‹±æ–‡æŒ‰é”®ã€‚ä¸ n åˆšå¥½ç›¸åï¼Œä¸ºã€åå‘ã€è¿›è¡Œå‰ä¸€ä¸ªæœå¯»åŠ¨ä½œã€‚ä¾‹å¦‚ /vbird åï¼ŒæŒ‰ä¸‹ N åˆ™è¡¨ç¤ºã€å‘ä¸Šã€æœå¯» vbird ã€‚</td></tr></tbody></table><table><thead><tr><th align="left">åˆ é™¤ã€å¤åˆ¶ä¸ç²˜è´´</th><th></th></tr></thead><tbody><tr><td align="left">x, X</td><td>åœ¨ä¸€è¡Œå­—å½“ä¸­ï¼Œx ä¸ºå‘ååˆ é™¤ä¸€ä¸ªå­—ç¬¦ (ç›¸å½“äº [del] æŒ‰é”®)ï¼Œ X ä¸ºå‘å‰åˆ é™¤ä¸€ä¸ªå­—ç¬¦(ç›¸å½“äº [backspace] äº¦å³æ˜¯é€€æ ¼é”®) (å¸¸ç”¨)</td></tr><tr><td align="left">nx</td><td>n ä¸ºæ•°å­—ï¼Œè¿ç»­å‘ååˆ é™¤ n ä¸ªå­—ç¬¦ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘è¦è¿ç»­åˆ é™¤ 10 ä¸ªå­—ç¬¦ï¼Œ ã€10xã€ã€‚</td></tr><tr><td align="left">dd</td><td>åˆ é™¤æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€æ•´è¡Œ(å¸¸ç”¨)</td></tr><tr><td align="left">ndd</td><td>n ä¸ºæ•°å­—ã€‚åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20dd åˆ™æ˜¯åˆ é™¤ 20 è¡Œ (å¸¸ç”¨)</td></tr><tr><td align="left">d1G</td><td>åˆ é™¤å…‰æ ‡æ‰€åœ¨åˆ°ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="left">dG</td><td>åˆ é™¤å…‰æ ‡æ‰€åœ¨åˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="left">d$</td><td>åˆ é™¤æ¸¸æ ‡æ‰€åœ¨å¤„ï¼Œåˆ°è¯¥è¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">d0</td><td>é‚£ä¸ªæ˜¯æ•°å­—çš„ 0 ï¼Œåˆ é™¤æ¸¸æ ‡æ‰€åœ¨å¤„ï¼Œåˆ°è¯¥è¡Œçš„æœ€å‰é¢ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">yy</td><td>å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€è¡Œ(å¸¸ç”¨)</td></tr><tr><td align="left">nyy</td><td>n ä¸ºæ•°å­—ã€‚å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20yy åˆ™æ˜¯å¤åˆ¶ 20 è¡Œ(å¸¸ç”¨)</td></tr><tr><td align="left">y1G</td><td>å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨è¡Œåˆ°ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="left">yG</td><td>å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨è¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="left">y0</td><td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œé¦–çš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="left">y$</td><td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œå°¾çš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="left">p, P</td><td>p ä¸ºå°†å·²å¤åˆ¶çš„æ•°æ®åœ¨å…‰æ ‡ä¸‹ä¸€è¡Œè´´ä¸Šï¼ŒP åˆ™ä¸ºè´´åœ¨æ¸¸æ ‡ä¸Šä¸€è¡Œï¼ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ç›®å‰å…‰æ ‡åœ¨ç¬¬ 20 è¡Œï¼Œä¸”å·²ç»å¤åˆ¶äº† 10 è¡Œæ•°æ®ã€‚åˆ™æŒ‰ä¸‹ p åï¼Œ é‚£ 10 è¡Œæ•°æ®ä¼šè´´åœ¨åŸæœ¬çš„ 20 è¡Œä¹‹åï¼Œäº¦å³ç”± 21 è¡Œå¼€å§‹è´´ã€‚ä½†å¦‚æœæ˜¯æŒ‰ä¸‹ P å‘¢ï¼Ÿé‚£ä¹ˆåŸæœ¬çš„ç¬¬ 20 è¡Œä¼šè¢«æ¨åˆ°å˜æˆ 30 è¡Œã€‚(å¸¸ç”¨)</td></tr><tr><td align="left">J</td><td>å°†å…‰æ ‡æ‰€åœ¨è¡Œä¸ä¸‹ä¸€è¡Œçš„æ•°æ®ç»“åˆæˆåŒä¸€è¡Œ</td></tr><tr><td align="left">c</td><td>é‡å¤åˆ é™¤å¤šä¸ªæ•°æ®ï¼Œä¾‹å¦‚å‘ä¸‹åˆ é™¤ 10 è¡Œï¼Œ[ 10cj ]</td></tr><tr><td align="left">==u==</td><td>å¤åŸå‰ä¸€ä¸ªåŠ¨ä½œã€‚(å¸¸ç”¨)</td></tr><tr><td align="left">[Ctrl]+r</td><td>é‡åšä¸Šä¸€ä¸ªåŠ¨ä½œã€‚(å¸¸ç”¨)</td></tr></tbody></table><p><strong>ç¬¬äºŒéƒ¨åˆ†ï¼šä¸€èˆ¬æ¨¡å¼åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼çš„å¯ç”¨çš„æŒ‰é’®è¯´æ˜</strong></p><table><thead><tr><th align="left">è¿›å…¥è¾“å…¥æˆ–å–ä»£çš„ç¼–è¾‘æ¨¡å¼</th><th></th></tr></thead><tbody><tr><td align="left">==i, I==</td><td>è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)ï¼ši ä¸ºã€ä»ç›®å‰å…‰æ ‡æ‰€åœ¨å¤„è¾“å…¥ã€ï¼Œ I ä¸ºã€åœ¨ç›®å‰æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºæ ¼ç¬¦å¤„å¼€å§‹è¾“å…¥ã€ã€‚(å¸¸ç”¨)</td></tr><tr><td align="left">a, A</td><td>è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)ï¼ša ä¸ºã€ä»ç›®å‰å…‰æ ‡æ‰€åœ¨çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹è¾“å…¥ã€ï¼Œ A ä¸ºã€ä»å…‰æ ‡æ‰€åœ¨è¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹è¾“å…¥ã€ã€‚(å¸¸ç”¨)</td></tr><tr><td align="left">o, O</td><td>è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)ï¼šè¿™æ˜¯è‹±æ–‡å­—æ¯ o çš„å¤§å°å†™ã€‚o ä¸ºã€åœ¨ç›®å‰å…‰æ ‡æ‰€åœ¨çš„ä¸‹ä¸€è¡Œå¤„è¾“å…¥æ–°çš„ä¸€è¡Œã€ï¼›O ä¸ºåœ¨ç›®å‰å…‰æ ‡æ‰€åœ¨å¤„çš„ä¸Šä¸€è¡Œè¾“å…¥æ–°çš„ä¸€è¡Œï¼(å¸¸ç”¨)</td></tr><tr><td align="left">r, R</td><td>è¿›å…¥å–ä»£æ¨¡å¼(Replace mode)ï¼šr åªä¼šå–ä»£å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸€ä¸ªå­—ç¬¦ä¸€æ¬¡ï¼›Rä¼šä¸€ç›´å–ä»£å…‰æ ‡æ‰€åœ¨çš„æ–‡å­—ï¼Œç›´åˆ°æŒ‰ä¸‹ ESC ä¸ºæ­¢ï¼›(å¸¸ç”¨)</td></tr><tr><td align="left">==[Esc]==</td><td>é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œå›åˆ°ä¸€èˆ¬æ¨¡å¼ä¸­(å¸¸ç”¨)</td></tr></tbody></table><p><strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼šä¸€èˆ¬æ¨¡å¼åˆ‡æ¢åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼çš„å¯ç”¨çš„æŒ‰é’®è¯´æ˜</strong></p><table><thead><tr><th align="left">æŒ‡ä»¤è¡Œçš„å‚¨å­˜ã€ç¦»å¼€ç­‰æŒ‡ä»¤</th><th></th></tr></thead><tbody><tr><td align="left">:w</td><td>å°†ç¼–è¾‘çš„æ•°æ®å†™å…¥ç¡¬ç›˜æ¡£æ¡ˆä¸­(å¸¸ç”¨)</td></tr><tr><td align="left">:w!</td><td>è‹¥æ–‡ä»¶å±æ€§ä¸ºã€åªè¯»ã€æ—¶ï¼Œå¼ºåˆ¶å†™å…¥è¯¥æ¡£æ¡ˆã€‚ä¸è¿‡ï¼Œåˆ°åº•èƒ½ä¸èƒ½å†™å…¥ï¼Œ è¿˜æ˜¯è·Ÿä½ å¯¹è¯¥æ¡£æ¡ˆçš„æ¡£æ¡ˆæƒé™æœ‰å…³å•Šï¼</td></tr><tr><td align="left">:q</td><td>ç¦»å¼€ vi (å¸¸ç”¨)</td></tr><tr><td align="left">:q!</td><td>è‹¥æ›¾ä¿®æ”¹è¿‡æ¡£æ¡ˆï¼Œåˆä¸æƒ³å‚¨å­˜ï¼Œä½¿ç”¨ ! ä¸ºå¼ºåˆ¶ç¦»å¼€ä¸å‚¨å­˜æ¡£æ¡ˆã€‚</td></tr><tr><td align="left">æ³¨æ„ä¸€ä¸‹å•Šï¼Œé‚£ä¸ªæƒŠå¹å· (!) åœ¨ vi å½“ä¸­ï¼Œå¸¸å¸¸å…·æœ‰ã€å¼ºåˆ¶ã€çš„æ„æ€ï½</td><td></td></tr><tr><td align="left">==:wq==</td><td>å‚¨å­˜åç¦»å¼€ï¼Œè‹¥ä¸º :wq! åˆ™ä¸ºå¼ºåˆ¶å‚¨å­˜åç¦»å¼€ (å¸¸ç”¨)</td></tr><tr><td align="left">ZZ</td><td>è¿™æ˜¯å¤§å†™çš„ Z å–”ï¼è‹¥æ¡£æ¡ˆæ²¡æœ‰æ›´åŠ¨ï¼Œåˆ™ä¸å‚¨å­˜ç¦»å¼€ï¼Œè‹¥æ¡£æ¡ˆå·²ç»è¢«æ›´åŠ¨è¿‡ï¼Œåˆ™å‚¨å­˜åç¦»å¼€ï¼</td></tr><tr><td align="left">:w [filename]</td><td>å°†ç¼–è¾‘çš„æ•°æ®å‚¨å­˜æˆå¦ä¸€ä¸ªæ¡£æ¡ˆï¼ˆç±»ä¼¼å¦å­˜æ–°æ¡£ï¼‰</td></tr><tr><td align="left">:r [filename]</td><td>åœ¨ç¼–è¾‘çš„æ•°æ®ä¸­ï¼Œè¯»å…¥å¦ä¸€ä¸ªæ¡£æ¡ˆçš„æ•°æ®ã€‚äº¦å³å°† ã€filenameã€ è¿™ä¸ªæ¡£æ¡ˆå†…å®¹åŠ åˆ°æ¸¸æ ‡æ‰€åœ¨è¡Œåé¢</td></tr><tr><td align="left">:n1,n2 w [filename]</td><td>å°† n1 åˆ° n2 çš„å†…å®¹å‚¨å­˜æˆ filename è¿™ä¸ªæ¡£æ¡ˆã€‚</td></tr><tr><td align="left">:! command</td><td>æš‚æ—¶ç¦»å¼€ vi åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œ command çš„æ˜¾ç¤ºç»“æœï¼ä¾‹å¦‚ ã€:! ls /homeã€å³å¯åœ¨ vi å½“ä¸­çœ‹ /home åº•ä¸‹ä»¥ ls è¾“å‡ºçš„æ¡£æ¡ˆä¿¡æ¯ï¼</td></tr><tr><td align="left">==:set nu==</td><td>æ˜¾ç¤ºè¡Œå·ï¼Œè®¾å®šä¹‹åï¼Œä¼šåœ¨æ¯ä¸€è¡Œçš„å‰ç¼€æ˜¾ç¤ºè¯¥è¡Œçš„è¡Œå·</td></tr><tr><td align="left">:set nonu</td><td>ä¸ set nu ç›¸åï¼Œä¸ºå–æ¶ˆè¡Œå·ï¼</td></tr></tbody></table><p>ä»¥ä¸Šæ ‡çº¢çš„æŒæ¡ç†Ÿç»ƒå³å¯ï¼Œå…¶ä½™çš„äº†è§£ï¼Œæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨VIMæœ€å¤šçš„å°±æ˜¯ä¿®æ”¹ä¸‹æ–‡ä»¶å†…å®¹è€Œå·²ï¼</p><h3 id="è´¦å·ç®¡ç†"><a href="#è´¦å·ç®¡ç†" class="headerlink" title="è´¦å·ç®¡ç†"></a>è´¦å·ç®¡ç†</h3><p>ä¸€èˆ¬åœ¨å…¬å¸ä¸­ï¼Œå‘˜å·¥ç”¨çš„éƒ½ä¸æ˜¯rootè´¦æˆ·</p><blockquote><p>ç®€ä»‹</p></blockquote><p>Linuxç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·å¤šä»»åŠ¡çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªè¦ä½¿ç”¨ç³»ç»Ÿèµ„æºçš„ç”¨æˆ·ï¼Œéƒ½å¿…é¡»é¦–å…ˆå‘ç³»ç»Ÿç®¡ç†å‘˜ç”³è¯·ä¸€ä¸ªè´¦å·ï¼Œç„¶åä»¥è¿™ä¸ªè´¦å·çš„èº«ä»½è¿›å…¥ç³»ç»Ÿã€‚</p><p>ç”¨æˆ·çš„è´¦å·ä¸€æ–¹é¢å¯ä»¥å¸®åŠ©ç³»ç»Ÿç®¡ç†å‘˜å¯¹ä½¿ç”¨ç³»ç»Ÿçš„ç”¨æˆ·è¿›è¡Œè·Ÿè¸ªï¼Œå¹¶æ§åˆ¶ä»–ä»¬å¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ï¼›å¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥å¸®åŠ©ç”¨æˆ·ç»„ç»‡æ–‡ä»¶ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›å®‰å…¨æ€§ä¿æŠ¤ã€‚</p><p>æ¯ä¸ªç”¨æˆ·è´¦å·éƒ½æ‹¥æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç”¨æˆ·åå’Œå„è‡ªçš„å£ä»¤ã€‚</p><p>ç”¨æˆ·åœ¨ç™»å½•æ—¶é”®å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå£ä»¤åï¼Œå°±èƒ½å¤Ÿè¿›å…¥ç³»ç»Ÿå’Œè‡ªå·±çš„ä¸»ç›®å½•ã€‚</p><p>å®ç°ç”¨æˆ·è´¦å·çš„ç®¡ç†ï¼Œè¦å®Œæˆçš„å·¥ä½œä¸»è¦æœ‰å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li>ç”¨æˆ·è´¦å·çš„æ·»åŠ ã€åˆ é™¤ä¸ä¿®æ”¹ã€‚</li><li>ç”¨æˆ·å£ä»¤çš„ç®¡ç†ã€‚</li><li>ç”¨æˆ·ç»„çš„ç®¡ç†ã€‚</li></ul><blockquote><p>ç”¨æˆ·è´¦å·çš„ç®¡ç†</p></blockquote><p>ç”¨æˆ·è´¦å·çš„ç®¡ç†å·¥ä½œä¸»è¦æ¶‰åŠåˆ°ç”¨æˆ·è´¦å·çš„æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤ã€‚</p><p>æ·»åŠ ç”¨æˆ·è´¦å·å°±æ˜¯åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªæ–°è´¦å·ï¼Œç„¶åä¸ºæ–°è´¦å·åˆ†é…ç”¨æˆ·å·ã€ç”¨æˆ·ç»„ã€ä¸»ç›®å½•å’Œç™»å½•Shellç­‰èµ„æºã€‚</p><blockquote><p>æ·»åŠ è´¦å· useradd</p></blockquote><pre class="line-numbers language-none"><code class="language-none">useradd é€‰é¡¹ ç”¨æˆ·å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><p>é€‰é¡¹ :</p></li><li><ul><li>-c comment æŒ‡å®šä¸€æ®µæ³¨é‡Šæ€§æè¿°ã€‚</li><li>-d ç›®å½• æŒ‡å®šç”¨æˆ·ä¸»ç›®å½•ï¼Œå¦‚æœæ­¤ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åŒæ—¶ä½¿ç”¨-mé€‰é¡¹ï¼Œå¯ä»¥åˆ›å»ºä¸»ç›®å½•ã€‚</li><li>-g ç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ã€‚</li><li>-G ç”¨æˆ·ç»„ï¼Œç»™ç”¨æˆ·æŒ‡å®šç»„ã€‚</li><li>-mã€€ä½¿ç”¨è€…ç›®å½•å¦‚ä¸å­˜åœ¨åˆ™è‡ªåŠ¨å»ºç«‹ã€‚</li><li>-s Shellæ–‡ä»¶ æŒ‡å®šç”¨æˆ·çš„ç™»å½•Shellã€‚</li><li>-u ç”¨æˆ·å· æŒ‡å®šç”¨æˆ·çš„ç”¨æˆ·å·ï¼Œå¦‚æœåŒæ—¶æœ‰-oé€‰é¡¹ï¼Œåˆ™å¯ä»¥é‡å¤ä½¿ç”¨å…¶ä»–ç”¨æˆ·çš„æ ‡è¯†å·ã€‚</li></ul></li><li><p>ç”¨æˆ·å :</p></li><li><ul><li>æŒ‡å®šæ–°è´¦å·çš„ç™»å½•åã€‚</li></ul></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ­¤å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·kuangshenï¼Œå…¶ä¸­-mé€‰é¡¹ç”¨æ¥ä¸ºç™»å½•åkuangshenäº§ç”Ÿä¸€ä¸ªä¸»ç›®å½• /home/kuangshen</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># useradd -m kuangshen</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åœ¨Linuxä¸­ä¸€åˆ‡çš†æ–‡ä»¶ï¼Œè¿™é‡Œçš„æ·»åŠ ç”¨æˆ·è¯´ç™½äº†å°±æ˜¯åœ¨<code>/etc/password</code>æ–‡ä»¶ä¸­å†™å…¥ç”¨æˆ·çš„ä¿¡æ¯  ,åŒæ—¶æ›´æ–°å…¶ä»–ç³»ç»Ÿæ–‡ä»¶å¦‚/etc/shadow,/etc/grouç­‰ã€‚</p><blockquote><p>åˆ é™¤å¸å·</p></blockquote><p>å¦‚æœä¸€ä¸ªç”¨æˆ·çš„è´¦å·ä¸å†ä½¿ç”¨ï¼Œå¯ä»¥ä»ç³»ç»Ÿä¸­åˆ é™¤ã€‚</p><p>åˆ é™¤ç”¨æˆ·è´¦å·å°±æ˜¯è¦å°†/etc/passwdç­‰ç³»ç»Ÿæ–‡ä»¶ä¸­çš„è¯¥ç”¨æˆ·è®°å½•åˆ é™¤ï¼Œå¿…è¦æ—¶è¿˜åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚</p><p>åˆ é™¤ä¸€ä¸ªå·²æœ‰çš„ç”¨æˆ·è´¦å·ä½¿ç”¨userdelå‘½ä»¤ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">userdel é€‰é¡¹ ç”¨æˆ·å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¸¸ç”¨çš„é€‰é¡¹æ˜¯ <strong>-r</strong>ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠç”¨æˆ·çš„ä¸»ç›®å½•ä¸€èµ·åˆ é™¤ã€‚</p><pre class="line-numbers language-none"><code class="language-none">[root@kuangshen home]# userdel -r kuangshen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å‘½ä»¤åˆ é™¤ç”¨æˆ·kuangshenåœ¨ç³»ç»Ÿæ–‡ä»¶ä¸­ï¼ˆä¸»è¦æ˜¯/etc/passwd, /etc/shadow, /etc/groupç­‰ï¼‰çš„è®°å½•ï¼ŒåŒæ—¶åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚</p><blockquote><p>ä¿®æ”¹ç”¨æˆ·</p></blockquote><p>ä¿®æ”¹ç”¨æˆ·è´¦å·å°±æ˜¯æ ¹æ®å®é™…æƒ…å†µæ›´æ”¹ç”¨æˆ·çš„æœ‰å…³å±æ€§ï¼Œå¦‚ç”¨æˆ·å·ã€ä¸»ç›®å½•ã€ç”¨æˆ·ç»„ã€ç™»å½•Shellç­‰ã€‚</p><p>ä¿®æ”¹å·²æœ‰ç”¨æˆ·çš„ä¿¡æ¯ä½¿ç”¨usermodå‘½ä»¤ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">usermod é€‰é¡¹ ç”¨æˆ·å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¸¸ç”¨çš„é€‰é¡¹åŒ…æ‹¬-c, -d, -m, -g, -G, -s, -uä»¥åŠ-oç­‰ï¼Œè¿™äº›é€‰é¡¹çš„æ„ä¹‰ä¸useraddå‘½ä»¤ä¸­çš„é€‰é¡¹ä¸€æ ·ï¼Œå¯ä»¥ä¸ºç”¨æˆ·æŒ‡å®šæ–°çš„èµ„æºå€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># usermod -s &#x2F;bin&#x2F;ksh -d &#x2F;home&#x2F;z â€“g developer kuangshen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å‘½ä»¤å°†ç”¨æˆ·kuangshençš„ç™»å½•Shellä¿®æ”¹ä¸ºkshï¼Œä¸»ç›®å½•æ”¹ä¸º/home/zï¼Œç”¨æˆ·ç»„æ”¹ä¸ºdeveloperã€‚</p><p>ä¿®æ”¹å®Œæ¯•ä¹‹åæŸ¥çœ‹é…ç½®æ–‡ä»¶å³å¯ã€‚</p><blockquote><p>Linuxä¸‹å¦‚ä½•åˆ‡æ¢ç”¨æˆ·</p></blockquote><p><img src="images/blog/image-20201009142632806.png" alt="image-20201009142632806"></p><p><img src="images/blog/image-20201009143240133.png" alt="image-20201009143240133"></p><p>1.åˆ‡æ¢ç”¨æˆ·çš„å‘½ä»¤ä¸ºï¼šsu username ã€usernameæ˜¯ä½ çš„ç”¨æˆ·åå“¦ã€‘</p><p>2.ä»æ™®é€šç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼šsudo su</p><p>3.åœ¨ç»ˆç«¯è¾“å…¥exitæˆ–logoutæˆ–ä½¿ç”¨å¿«æ·æ–¹å¼ctrl+dï¼Œå¯ä»¥é€€å›åˆ°åŸæ¥ç”¨æˆ·ï¼Œå…¶å®ctrl+dä¹Ÿæ˜¯æ‰§è¡Œçš„exitå‘½ä»¤</p><p>4.åœ¨åˆ‡æ¢ç”¨æˆ·æ—¶ï¼Œå¦‚æœæƒ³åœ¨åˆ‡æ¢ç”¨æˆ·ä¹‹åä½¿ç”¨æ–°ç”¨æˆ·çš„å·¥ä½œç¯å¢ƒï¼Œå¯ä»¥åœ¨suå’Œusernameä¹‹é—´åŠ -ï¼Œä¾‹å¦‚ï¼šã€su - rootã€‘</p><p>$è¡¨ç¤ºæ™®é€šç”¨æˆ·    </p><p>#è¡¨ç¤ºè¶…çº§ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯rootç”¨æˆ·</p><p><img src="images/blog/image-20201009143755163.png" alt="image-20201009143755163"></p><blockquote><p>ç”¨æˆ·çš„å¯†ç è®¾ç½®</p></blockquote><p>æˆ‘ä»¬ä¸€èˆ¬é€šè¿‡rootåˆ›å»ºç”¨æˆ·çš„æ—¶å€™ï¼Œéœ€è¦é…ç½®å¯†ç </p><p>åœ¨Linuxä¸Šè¾“å…¥å¯†ç æ˜¯ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥çš„ï¼Œæ­£å¸¸æ•°æ®å°±è¡Œäº†ï¼Œä¸æ˜¯ç”µè„‘æˆ–ç³»ç»Ÿçš„é—®é¢˜ </p><p>è¶…çº§ç”¨æˆ·è®¾ç½®å¯†ç </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span> username:new passwordre password   <span class="token comment">#ç¡®è®¤å¯†ç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="images/blog/image-20201009145025270.png" alt="image-20201009145025270"></p><p>æ™®é€šç”¨æˆ·</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Old password:New password:Re-enter new password:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="images/blog/image-20201009145220437.png" alt="image-20201009145220437"></p><blockquote><p>é”å®šè´¦æˆ·</p></blockquote><p>å†»ç»“è´¦æˆ·ä¹‹åï¼Œè¿™ä¸ªè´¦æˆ·å°±ä¸èƒ½å†ç™»å½•ï¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span> -l pty <span class="token comment">#å°†ptyè¿™ä¸ªç”¨æˆ·é”å®šï¼Œé”å®šä¹‹åè¿™ä¸ªç”¨æˆ·å°±ä¸èƒ½å†ç™»å½•</span><span class="token function">passwd</span> -d pty <span class="token comment">#æ¸…æ¥šptyè¿™ä¸ªç”¨æˆ·çš„å¯†ç ï¼Œæ²¡æœ‰å¯†ç æ— æ³•ç™»é™†</span><span class="token function">passwd</span> -u pty <span class="token comment">#å¯ç”¨å·²è¢«åœæ­¢çš„ptyè¿™ä¸ªç”¨æˆ·ï¼Œè®©ä»–èƒ½å†æ¬¡ç™»å½•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ç”¨æˆ·ç»„ç®¡ç†"><a href="#ç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç»„ç®¡ç†"></a>ç”¨æˆ·ç»„ç®¡ç†</h3><p>æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªç”¨æˆ·ç»„ï¼Œç³»ç»Ÿå¯ä»¥å¯¹ä¸€ä¸ªç”¨æˆ·ç»„ä¸­çš„æ‰€æœ‰ç”¨æˆ·è¿›è¡Œé›†ä¸­ç®¡ç†ã€‚ä¸åŒLinux ç³»ç»Ÿå¯¹ç”¨æˆ·ç»„çš„è§„å®šæœ‰æ‰€ä¸åŒï¼Œ<strong>å¦‚Linuxä¸‹çš„ç”¨æˆ·å±äºä¸å®ƒåŒåçš„ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªç”¨æˆ·ç»„åœ¨åˆ›å»ºç”¨æˆ·æ—¶åŒæ—¶åˆ›å»º</strong>ã€‚</p><p>ç”¨æˆ·ç»„çš„ç®¡ç†æ¶‰åŠç”¨æˆ·ç»„çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹ã€‚==ç»„çš„å¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹å®é™…ä¸Šå°±æ˜¯å¯¹/etc/groupæ–‡ä»¶çš„æ›´æ–°ã€‚==</p><blockquote><p>å¢åŠ ä¸€ä¸ªæ–°çš„ç”¨æˆ·ç»„ä½¿ç”¨groupaddå‘½ä»¤</p></blockquote><pre class="line-numbers language-none"><code class="language-none">groupadd é€‰é¡¹ ç”¨æˆ·ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ä»¥ä½¿ç”¨çš„é€‰é¡¹æœ‰ï¼š</p><ul><li>-g GID æŒ‡å®šæ–°ç”¨æˆ·ç»„çš„ç»„æ ‡è¯†å·ï¼ˆGIDï¼‰ã€‚</li><li>-o ä¸€èˆ¬ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºæ–°ç”¨æˆ·ç»„çš„GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚</li></ul><p>å®ä¾‹1ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># groupadd group1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å‘½ä»¤å‘ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€ä¸ªæ–°ç»„group1ï¼Œæ–°ç»„çš„ç»„æ ‡è¯†å·æ˜¯åœ¨å½“å‰å·²æœ‰çš„æœ€å¤§ç»„æ ‡è¯†å·çš„åŸºç¡€ä¸ŠåŠ 1ã€‚</p><p>å®ä¾‹2ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># groupadd -g 101 group2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å‘½ä»¤å‘ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€ä¸ªæ–°ç»„group2ï¼ŒåŒæ—¶æŒ‡å®šæ–°ç»„çš„ç»„æ ‡è¯†å·æ˜¯101ã€‚</p><p><img src="images/blog/image-20201009172752807.png" alt="image-20201009172752807"></p><blockquote><p>å¦‚æœè¦åˆ é™¤ä¸€ä¸ªå·²æœ‰çš„ç”¨æˆ·ç»„ï¼Œä½¿ç”¨groupdelå‘½ä»¤</p></blockquote><pre class="line-numbers language-none"><code class="language-none">groupdel ç”¨æˆ·ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># groupdel group1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å‘½ä»¤ä»ç³»ç»Ÿä¸­åˆ é™¤ç»„group1ã€‚</p><blockquote><p>ä¿®æ”¹ç”¨æˆ·ç»„çš„å±æ€§ä½¿ç”¨groupmodå‘½ä»¤</p></blockquote><pre class="line-numbers language-none"><code class="language-none">groupmod é€‰é¡¹ ç”¨æˆ·ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¸¸ç”¨çš„é€‰é¡¹æœ‰ï¼š</p><ul><li>-g GID ä¸ºç”¨æˆ·ç»„æŒ‡å®šæ–°çš„ç»„æ ‡è¯†å·ã€‚</li><li>-o ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œç”¨æˆ·ç»„çš„æ–°GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚</li><li>-næ–°ç”¨æˆ·ç»„ å°†ç”¨æˆ·ç»„çš„åå­—æ”¹ä¸ºæ–°åå­—</li></ul><pre class="line-numbers language-none"><code class="language-none"># æ­¤å‘½ä»¤å°†ç»„group2çš„ç»„æ ‡è¯†å·ä¿®æ”¹ä¸º102ã€‚groupmod -g 102 group2# å°†ç»„group2çš„æ ‡è¯†å·æ”¹ä¸º10000ï¼Œç»„åä¿®æ”¹ä¸ºgroup3ã€‚groupmod â€“g 10000 -n group3 group2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åˆ‡æ¢ç»„</p></blockquote><p>å¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶å±äºå¤šä¸ªç”¨æˆ·ç»„ï¼Œé‚£ä¹ˆç”¨æˆ·å¯ä»¥åœ¨ç”¨æˆ·ç»„ä¹‹é—´åˆ‡æ¢ï¼Œä»¥ä¾¿å…·æœ‰å…¶ä»–ç”¨æˆ·ç»„çš„æƒé™ã€‚</p><p>ç”¨æˆ·å¯ä»¥åœ¨ç™»å½•åï¼Œä½¿ç”¨å‘½ä»¤newgrpåˆ‡æ¢åˆ°å…¶ä»–ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªå‘½ä»¤çš„å‚æ•°å°±æ˜¯ç›®çš„ç”¨æˆ·ç»„ã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none">$ newgrp root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ¡å‘½ä»¤å°†å½“å‰ç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ·ç»„ï¼Œå‰ææ¡ä»¶æ˜¯rootç”¨æˆ·ç»„ç¡®å®æ˜¯è¯¥ç”¨æˆ·çš„ä¸»ç»„æˆ–é™„åŠ ç»„ã€‚</p><blockquote><p>/etc/passwd</p></blockquote><p>å®Œæˆç”¨æˆ·ç®¡ç†çš„å·¥ä½œæœ‰è®¸å¤šç§æ–¹æ³•ï¼Œä½†æ˜¯æ¯ä¸€ç§æ–¹æ³•å®é™…ä¸Šéƒ½æ˜¯å¯¹æœ‰å…³çš„ç³»ç»Ÿæ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚</p><p>ä¸ç”¨æˆ·å’Œç”¨æˆ·ç»„ç›¸å…³çš„ä¿¡æ¯éƒ½å­˜æ”¾åœ¨ä¸€äº›ç³»ç»Ÿæ–‡ä»¶ä¸­ï¼Œè¿™äº›æ–‡ä»¶åŒ…æ‹¬/etc/passwd, /etc/shadow, /etc/groupç­‰ã€‚</p><p>ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™äº›æ–‡ä»¶çš„å†…å®¹ã€‚</p><p><strong>/etc/passwdæ–‡ä»¶æ˜¯ç”¨æˆ·ç®¡ç†å·¥ä½œæ¶‰åŠçš„æœ€é‡è¦çš„ä¸€ä¸ªæ–‡ä»¶ã€‚</strong></p><p>Linuxç³»ç»Ÿä¸­çš„æ¯ä¸ªç”¨æˆ·éƒ½åœ¨/etc/passwdæ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªå¯¹åº”çš„è®°å½•è¡Œï¼Œå®ƒè®°å½•äº†è¿™ä¸ªç”¨æˆ·çš„ä¸€äº›åŸºæœ¬å±æ€§ã€‚</p><p>è¿™ä¸ªæ–‡ä»¶å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯å¯è¯»çš„ã€‚å®ƒçš„å†…å®¹ç±»ä¼¼ä¸‹é¢çš„ä¾‹å­ï¼š</p><pre class="line-numbers language-none"><code class="language-none">ï¼ƒ cat &#x2F;etc&#x2F;passwdroot:x:0:0:Superuser:&#x2F;:daemon:x:1:1:System daemons:&#x2F;etc:bin:x:2:2:Owner of system commands:&#x2F;bin:sys:x:3:3:Owner of system files:&#x2F;usr&#x2F;sys:adm:x:4:4:System accounting:&#x2F;usr&#x2F;adm:uucp:x:5:5:UUCP administrator:&#x2F;usr&#x2F;lib&#x2F;uucp:auth:x:7:21:Authentication administrator:&#x2F;tcb&#x2F;files&#x2F;auth:cron:x:9:16:Cron daemon:&#x2F;usr&#x2F;spool&#x2F;cron:listen:x:37:4:Network daemon:&#x2F;usr&#x2F;net&#x2F;nls:lp:x:71:18:Printer administrator:&#x2F;usr&#x2F;spool&#x2F;lp:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ/etc/passwdä¸­ä¸€è¡Œè®°å½•å¯¹åº”ç€ä¸€ä¸ªç”¨æˆ·ï¼Œæ¯è¡Œè®°å½•åˆè¢«å†’å·(:)åˆ†éš”ä¸º7ä¸ªå­—æ®µï¼Œå…¶æ ¼å¼å’Œå…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">ç”¨æˆ·å:å£ä»¤:ç”¨æˆ·æ ‡è¯†å·:ç»„æ ‡è¯†å·:æ³¨é‡Šæ€§æè¿°:ä¸»ç›®å½•:ç™»å½•Shell<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pty:x:1000:1000::/home/pty:/bin/bash<span class="token comment">#pty: ç”¨æˆ·å</span><span class="token comment">#xï¼šå£ä»¤ï¼ˆç™»å½•å¯†ç ï¼Œæˆ‘ä»¬çœ‹ä¸è§ï¼‰</span><span class="token comment">#1000ï¼šç”¨æˆ·æ ‡ç¤º</span><span class="token comment">#1000ï¼šç»„æ ‡ç¤º</span><span class="token comment">#/home/pty ä¸»ç›®å½•</span><span class="token comment">#/bin/bash ç™»å½•shell</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç™»å½•å£ä»¤æ”¾åœ¨/etc/shadowä¸­</p><p>ç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯æ”¾åœ¨/etc/groupä¸­</p><h3 id="ç£ç›˜ç®¡ç†"><a href="#ç£ç›˜ç®¡ç†" class="headerlink" title="ç£ç›˜ç®¡ç†"></a>ç£ç›˜ç®¡ç†</h3><blockquote><p>æ¦‚è¿°</p></blockquote><p>Linuxç£ç›˜ç®¡ç†å¥½åç›´æ¥å…³ç³»åˆ°æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚</p><p>Linuxç£ç›˜ç®¡ç†å¸¸ç”¨å‘½ä»¤ä¸º dfã€duã€‚</p><ul><li>df ï¼šåˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç£ç›˜ä½¿ç”¨é‡</li><li>duï¼šæ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨é‡</li></ul><blockquote><p>df</p></blockquote><p>dfå‘½ä»¤å‚æ•°åŠŸèƒ½ï¼šæ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µã€‚å¯ä»¥åˆ©ç”¨è¯¥å‘½ä»¤æ¥è·å–ç¡¬ç›˜è¢«å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œç›®å‰è¿˜å‰©ä¸‹å¤šå°‘ç©ºé—´ç­‰ä¿¡æ¯ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">df</span> <span class="token punctuation">[</span>-ahikHTm<span class="token punctuation">]</span> <span class="token punctuation">[</span>ç›®å½•æˆ–æ–‡ä»¶å<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-a ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬ç³»ç»Ÿç‰¹æœ‰çš„ /proc ç­‰æ–‡ä»¶ç³»ç»Ÿï¼›</li><li>-k ï¼šä»¥ KBytes çš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼›</li><li>-m ï¼šä»¥ MBytes çš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼›</li><li>-h ï¼šä»¥äººä»¬è¾ƒæ˜“é˜…è¯»çš„ GBytes, MBytes, KBytes ç­‰æ ¼å¼è‡ªè¡Œæ˜¾ç¤ºï¼›</li><li>-H ï¼šä»¥ M=1000K å–ä»£ M=1024K çš„è¿›ä½æ–¹å¼ï¼›</li><li>-T ï¼šæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹, è¿åŒè¯¥ partition çš„ filesystem åç§° (ä¾‹å¦‚ ext3) ä¹Ÿåˆ—å‡ºï¼›</li><li>-i ï¼šä¸ç”¨ç¡¬ç›˜å®¹é‡ï¼Œè€Œä»¥ inode çš„æ•°é‡æ¥æ˜¾ç¤º</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å°†å®¹é‡ç»“æœä»¥æ˜“è¯»çš„å®¹é‡æ ¼å¼æ˜¾ç¤ºå‡ºæ¥</span><span class="token punctuation">[</span>root@kuangshen /<span class="token punctuation">]</span><span class="token comment"># df -h</span>Filesystem     Size Used Avail Use% Mounted ondevtmpfs       869M     <span class="token number">0</span> 869M   <span class="token number">0</span>% /devtmpfs           879M 708K 878M   <span class="token number">1</span>% /dev/shmtmpfs           879M 496K 878M   <span class="token number">1</span>% /runtmpfs           879M     <span class="token number">0</span> 879M   <span class="token number">0</span>% /sys/fs/cgroup/dev/vda1       40G  <span class="token number">6</span>.3G   32G  <span class="token number">17</span>% /tmpfs           176M     <span class="token number">0</span> 176M   <span class="token number">0</span>% /run/user/0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å°† /etc åº•ä¸‹çš„å¯ç”¨çš„ç£ç›˜å®¹é‡ä»¥æ˜“è¯»çš„å®¹é‡æ ¼å¼æ˜¾ç¤º</span><span class="token punctuation">[</span>root@kuangshen /<span class="token punctuation">]</span><span class="token comment"># df -h /etc</span>Filesystem     Size Used Avail Use% Mounted on/dev/vda1       40G  <span class="token number">6</span>.3G   32G  <span class="token number">17</span>% /<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>du</p></blockquote><p>Linux duå‘½ä»¤ä¹Ÿæ˜¯æŸ¥çœ‹ä½¿ç”¨ç©ºé—´çš„ï¼Œä½†æ˜¯ä¸dfå‘½ä»¤ä¸åŒçš„æ˜¯Linux duå‘½ä»¤æ˜¯å¯¹æ–‡ä»¶å’Œç›®å½•ç£ç›˜ä½¿ç”¨çš„ç©ºé—´çš„æŸ¥çœ‹ï¼Œè¿˜æ˜¯å’Œdfå‘½ä»¤æœ‰ä¸€äº›åŒºåˆ«çš„ï¼Œè¿™é‡Œä»‹ç»Linux duå‘½ä»¤ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">du</span> <span class="token punctuation">[</span>-ahskm<span class="token punctuation">]</span> æ–‡ä»¶æˆ–ç›®å½•åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€‰é¡¹ä¸å‚æ•°ï¼š</p><ul><li>-a ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ä¸ç›®å½•å®¹é‡ï¼Œå› ä¸ºé»˜è®¤ä»…ç»Ÿè®¡ç›®å½•åº•ä¸‹çš„æ–‡ä»¶é‡è€Œå·²ã€‚</li><li>-h ï¼šä»¥äººä»¬è¾ƒæ˜“è¯»çš„å®¹é‡æ ¼å¼ (G/M) æ˜¾ç¤ºï¼›</li><li>-s ï¼šåˆ—å‡ºæ€»é‡ï¼Œè€Œä¸åˆ—å‡ºæ¯ä¸ªå„åˆ«çš„ç›®å½•å ç”¨å®¹é‡ï¼›</li><li>-S ï¼šä¸åŒ…æ‹¬å­ç›®å½•ä¸‹çš„æ€»è®¡ï¼Œä¸ -s æœ‰ç‚¹å·®åˆ«ã€‚</li><li>-k ï¼šä»¥ KBytes åˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼›</li><li>-m ï¼šä»¥ MBytes åˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼›</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åªåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹å®¹é‡ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶å¤¹ï¼‰:</span><span class="token comment"># ç›´æ¥è¾“å…¥ du æ²¡æœ‰åŠ ä»»ä½•é€‰é¡¹æ—¶ï¼Œåˆ™ du ä¼šåˆ†æå½“å‰æ‰€åœ¨ç›®å½•çš„æ–‡ä»¶ä¸ç›®å½•æ‰€å ç”¨çš„ç¡¬ç›˜ç©ºé—´ã€‚</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># du</span><span class="token number">16</span>./redis<span class="token number">8</span>./www/.oracle_jre_usage  <span class="token comment"># åŒ…æ‹¬éšè—æ–‡ä»¶çš„ç›®å½•</span><span class="token number">24</span>./www<span class="token number">48</span>.                        <span class="token comment"># è¿™ä¸ªç›®å½•(.)æ‰€å ç”¨çš„æ€»é‡</span><span class="token comment"># å°†æ–‡ä»¶çš„å®¹é‡ä¹Ÿåˆ—å‡ºæ¥</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># du -a</span><span class="token number">4</span>./redis/.bash_profile<span class="token number">4</span>./redis/.bash_logout    <span class="token punctuation">..</span><span class="token punctuation">..</span>ä¸­é—´çœç•¥<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token number">4</span>./kuangstudy.txt <span class="token comment"># æœ‰æ–‡ä»¶çš„åˆ—è¡¨äº†</span><span class="token number">48</span>.<span class="token comment"># æ£€æŸ¥æ ¹ç›®å½•åº•ä¸‹æ¯ä¸ªç›®å½•æ‰€å ç”¨çš„å®¹é‡</span><span class="token punctuation">[</span>root@kuangshen home<span class="token punctuation">]</span><span class="token comment"># du -sm /*</span><span class="token number">0</span>/bin<span class="token number">146</span>/boot<span class="token punctuation">..</span><span class="token punctuation">..</span>.ä¸­é—´çœç•¥<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token number">0</span>/proc<span class="token punctuation">..</span><span class="token punctuation">..</span>.ä¸­é—´çœç•¥<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token number">1</span>/tmp<span class="token number">3026</span>/usr  <span class="token comment"># ç³»ç»ŸåˆæœŸæœ€å¤§å°±æ˜¯ä»–äº†å•¦ï¼</span><span class="token number">513</span>/var<span class="token number">2666</span>/www<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šé…ç¬¦ * æ¥ä»£è¡¨æ¯ä¸ªç›®å½•ã€‚</p><p>ä¸ df ä¸ä¸€æ ·çš„æ˜¯ï¼Œdu è¿™ä¸ªå‘½ä»¤å…¶å®ä¼šç›´æ¥åˆ°æ–‡ä»¶ç³»ç»Ÿå†…å»æœå¯»æ‰€æœ‰çš„æ–‡ä»¶æ•°æ®ã€‚</p><h3 id="è¿›ç¨‹ç®¡ç†"><a href="#è¿›ç¨‹ç®¡ç†" class="headerlink" title="è¿›ç¨‹ç®¡ç†"></a>è¿›ç¨‹ç®¡ç†</h3><p>å¯¹äºæˆ‘ä»¬å¼€å‘äººå‘˜æ¥è¯´ï¼Œå…¶å®Linuxæ›´å¤šåå‘äºä½¿ç”¨å³å¯</p><blockquote><p>ä»€ä¹ˆæ˜¯è¿›ç¨‹</p></blockquote><ol><li>åœ¨Linuxä¸­ï¼Œæ¯ä¸€ä¸ªç¨‹åºéƒ½æ˜¯ç”±è‡ªå·±çš„ä¸€ä¸ªè¿›ç¨‹ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„idå·</li><li>æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªçˆ¶è¿›ç¨‹</li><li>è¿›ç¨‹å¯ä»¥æœ‰ä¸¤ç§å­˜åœ¨æ–¹å¼ï¼šå‰å°ï¼åå°è¿è¡Œï¼</li><li>ä¸€èˆ¬çš„è¯æœåŠ¡éƒ½æ˜¯åå°è¿è¡Œçš„ï¼ŒåŸºæœ¬çš„ç¨‹åºéƒ½æ˜¯å‰å°è¿è¡Œçš„ï¼</li></ol><blockquote><p>å‘½ä»¤</p></blockquote><p><strong>ps</strong>æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­æ­£åœ¨æ‰§è¡Œçš„å„ç§è¿›ç¨‹çš„ä¿¡æ¯ï¼</p><p>ps-xx:</p><ul><li>-a æ˜¾ç¤ºå½“å‰ç»ˆç«¯è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹çš„ä¿¡æ¯</li><li>-u ä»¥ç”¨æˆ·çš„ä¿¡æ¯æ˜¾ç¤ºè¿›ç¨‹</li><li>-x æ˜¾ç¤ºåå°è¿è¡Œè¿›ç¨‹çš„å‚æ•°</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ps -aux æŸ¥çœ‹æ‰€æœ‰çš„è¿›ç¨‹</span><span class="token function">ps</span> -aux<span class="token operator">|</span><span class="token comment"># |  åœ¨Linuxä¸­è¿™ä¸ªå«åšç®¡é“ç¬¦    A|B  æŠŠAçš„ç»“æœä½œä¸ºè¾“å‡ºæ“ä½œBå‘½ä»¤</span><span class="token comment"># grep æŸ¥æ‰¾æ–‡ä»¶ä¸­ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹æˆ‘æˆ‘ä»¬æ¥è¯´ï¼Œè¿™é‡Œç›®å‰åªéœ€è¦è®°ä½ä¸€ä¸ªå‘½ä»¤å³å¯  ps-xxx|grep è¿›ç¨‹å   æŸ¥æ‰¾è¯¥è¿›ç¨‹åçš„å…¨éƒ¨ä¿¡æ¯</p><p><strong>ps -ef:å¯ä»¥æŸ¥çœ‹åˆ°çˆ¶è¿›ç¨‹çš„ä¿¡æ¯</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> mysql   <span class="token comment">#çœ‹çˆ¶è¿›ç¨‹æˆ‘ä»¬ä¸€èˆ¬å¯ä»¥é€šè¿‡ç›®å½•æ ‘ç»“æ„æ¥æŸ¥çœ‹ï¼</span><span class="token comment">#è¿›ç¨‹æ ‘</span>pstree -pu-p  æ˜¾ç¤ºçˆ¶id-u  æ˜¾ç¤ºç”¨æˆ·ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“æŸè¿›ç¨‹ï¼šæ€æ‰è¿›ç¨‹ï¼Œç­‰ä»·äºwindowç»“æŸä»»åŠ¡</p><p>kill-9 è¿›ç¨‹çš„id è¡¨ç¤ºå¼ºåˆ¶ç»“æŸè¿›ç¨‹</p><p>ä¸€èˆ¬ä¸éœ€è¦ç»“æŸè¿›ç¨‹ï¼Œä½†æœ‰æ—¶å€™javaç¨‹åºè¿›å…¥æ­»å¾ªç¯å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ€æ­»ç¨‹åº</p><h2 id="ç¯å¢ƒå®‰è£…"><a href="#ç¯å¢ƒå®‰è£…" class="headerlink" title="ç¯å¢ƒå®‰è£…"></a>ç¯å¢ƒå®‰è£…</h2><p>å®‰è£…è½¯ä»¶ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ï¼šrpmã€è§£å‹ç¼©ã€yumåœ¨çº¿å®‰è£…ï¼</p><h3 id="jdkå®‰è£…"><a href="#jdkå®‰è£…" class="headerlink" title="jdkå®‰è£…"></a>jdkå®‰è£…</h3><ol><li>ä¸‹è½½jdk rpmã€‚å»Oracleå®˜ç½‘ä¸‹è½½</li><li>ä½¿ç”¨ftpå·¥å…·å°†æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨</li><li>å®‰è£…javaç¯å¢ƒ</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ£€æµ‹å½“å‰ç³»ç»Ÿæ˜¯å¦å­˜åœ¨javaç¯å¢ƒï¼ java -version</span><span class="token comment"># å¦‚æœæœ‰çš„è¯å°±éœ€è¦å¸è½½  </span><span class="token comment"># rpm -qa|grep jdk    #æ£€æµ‹JDKç‰ˆæœ¬ä¿¡æ¯</span><span class="token comment"># rpm -e --nodeps jdk_(jdkç‰ˆæœ¬)</span><span class="token comment">#å¸è½½å®Œæ¯•åå³å¯å®‰è£…jdk</span><span class="token comment"># rpm -ivk rpmåŒ…   å®‰è£…jdk</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="images/blog/image-20201009195244369.png" alt="image-20201009195244369"></p><p><img src="images/blog/image-20201009195752656.png" alt="image-20201009195752656"></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹firewallæœåŠ¡çŠ¶æ€</span>systemctl status firewalld<span class="token comment"># å¼€å¯ã€é‡å¯ã€å…³é—­ã€firewalld.serviceæœåŠ¡</span><span class="token comment"># å¼€å¯</span><span class="token function">service</span> firewalld start<span class="token comment"># é‡å¯</span><span class="token function">service</span> firewalld restart<span class="token comment"># å…³é—­</span><span class="token function">service</span> firewalld stop<span class="token comment"># æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™</span>firewall-cmd --list-all    <span class="token comment"># æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯</span>firewall-cmd --list-ports  <span class="token comment"># åªçœ‹ç«¯å£ä¿¡æ¯</span><span class="token comment"># å¼€å¯ç«¯å£</span>å¼€ç«¯å£å‘½ä»¤ï¼šfirewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp --permanent  <span class="token comment">#å¼€å¯80ç«¯å£ï¼Œå¦‚æœæ˜¯é˜¿é‡Œäº‘éœ€è¦é…ç½®å®‰å…¨ç»„è§„åˆ™</span>é‡å¯é˜²ç«å¢™ï¼šsystemctl restart firewalld.service  <span class="token comment">#å¼€å¯ç«¯å£åè¦é‡å¯é˜²ç«å¢™</span>å‘½ä»¤å«ä¹‰ï¼š--zone <span class="token comment">#ä½œç”¨åŸŸ</span>--add-port<span class="token operator">=</span><span class="token number">80</span>/tcp  <span class="token comment">#æ·»åŠ ç«¯å£ï¼Œæ ¼å¼ä¸ºï¼šç«¯å£/é€šè®¯åè®®</span>--permanent   <span class="token comment">#æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Tomcatå®‰è£…"><a href="#Tomcatå®‰è£…" class="headerlink" title="Tomcatå®‰è£…"></a>Tomcatå®‰è£…</h3><ol><li><p>åœ¨å®˜ç½‘ä¸‹è½½tomcatæ–‡ä»¶</p></li><li><p>è§£å‹è¿™ä¸ªæ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -zxvf apache-tomcat-9.0.22.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>å¯åŠ¨tomcatç¨‹åº  <code>./xxx.sh</code>è„šæœ¬å³å¯è¿è¡Œ</p></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ‰§è¡Œ  ./startup.sh</span><span class="token comment"># ç»“æŸ  ./shoutdown.sh</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Docker-yumå®‰è£…ï¼‰"><a href="#Docker-yumå®‰è£…ï¼‰" class="headerlink" title="Docker(yumå®‰è£…ï¼‰"></a>Docker(yumå®‰è£…ï¼‰</h3><p>æˆ‘ä»¬ç°åœ¨æ˜¯åœ¨Linuxä¸‹æ‰§è¡Œï¼Œä¸€å®šè¦è”ç½‘ï¼Œyumæ˜¯åœ¨çº¿å®‰è£…ï¼</p><blockquote><p>å®‰è£…</p></blockquote><ol><li>å®‰è£…æˆ‘ä»¬çš„å‡†å¤‡ç¯å¢ƒï¼ˆå®‰è£…gcc)</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum -y <span class="token function">install</span> åŒ…å    <span class="token comment">#yum install å®‰è£…å‘½ä»¤  -y æ‰€æœ‰çš„æç¤ºéƒ½ä¸ºy</span>yum -y <span class="token function">install</span> gccyum -y <span class="token function">install</span> gcc-c++<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å¸è½½dockeræ—§ç‰ˆæœ¬</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum remove docker <span class="token punctuation">\</span>          docker-client <span class="token punctuation">\</span>          docker-client-latest <span class="token punctuation">\</span>          docker-common <span class="token punctuation">\</span>          docker-latest <span class="token punctuation">\</span>          docker-latest-logrotate <span class="token punctuation">\</span>          docker-logrotate <span class="token punctuation">\</span>          docker-engine<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="4"><li>è®¾ç½®stableé•œåƒä»“åº“</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo  <span class="token comment">#é˜¿é‡Œäº‘é•œåƒ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="5"><li>æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•</li></ol><pre class="line-numbers language-none"><code class="language-none">yum makecache fast<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="6"><li>å®‰è£…Docker CE</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum -y <span class="token function">install</span> docker-ce docker-ce-cli containerd.io<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="7"><li>å¯åŠ¨docker</li></ol><pre class="line-numbers language-none"><code class="language-none">systemctl start docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="8"><li>æµ‹è¯•</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker version    <span class="token comment">#æŸ¥çœ‹dockerç‰ˆæœ¬å·</span> docker run hello-world  <span class="token comment"># è·‘hello-worldç¨‹åº</span> docker images   <span class="token comment">#æŸ¥çœ‹dockeré•œåƒ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;è¿æ¥æœåŠ¡å™¨&quot;&gt;&lt;a href=&quot;#è¿æ¥æœåŠ¡å™¨&quot; class=&quot;headerlink&quot; title=&quot;è¿æ¥æœåŠ¡å™¨&quot;&gt;&lt;/a&gt;è¿æ¥æœåŠ¡å™¨&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨xshellå·¥å…·åœ¨windowsç³»ç»Ÿä¸Šè¿æ¥Linuxäº‘æœåŠ¡å™¨&lt;/p&gt;</summary>
    
    
    
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
    <category term="Redis" scheme="http://example.com/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Springmvcæ–‡ä»¶ä¸Šä¼ </title>
    <link href="http://example.com/2020/09/25/SprigMVC%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    <id>http://example.com/2020/09/25/SprigMVC%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/</id>
    <published>2020-09-25T07:44:30.990Z</published>
    <updated>2020-09-25T11:29:17.404Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å•æ–‡ä»¶ä¸Šä¼ "><a href="#å•æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="å•æ–‡ä»¶ä¸Šä¼ "></a>å•æ–‡ä»¶ä¸Šä¼ </h2><h3 id="å‰ç«¯é¡µé¢çš„è¦æ±‚"><a href="#å‰ç«¯é¡µé¢çš„è¦æ±‚" class="headerlink" title="å‰ç«¯é¡µé¢çš„è¦æ±‚"></a>å‰ç«¯é¡µé¢çš„è¦æ±‚</h3><p>ä¸ºäº†ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„methodè®¾ç½®ä¸ºPOSTï¼Œå¹¶å°†enctypeè®¾ç½®ä¸ºmultipart/form-dataã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æµæ•°æ®å‘é€ç»™æœåŠ¡å™¨ã€‚</p><a id="more"></a><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>multipart/form-data<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¼•å…¥fileuploadå’Œioåæ ‡"><a href="#å¼•å…¥fileuploadå’Œioåæ ‡" class="headerlink" title="å¼•å…¥fileuploadå’Œioåæ ‡"></a>å¼•å…¥fileuploadå’Œioåæ ‡</h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>1.3.3ç‰ˆæœ¬</strong>ä¼šè‡ªåŠ¨å¼•å…¥ioåŒ…ï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨å•ç‹¬å¼•å…¥</p><h3 id="é…ç½®DispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰"><a href="#é…ç½®DispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰" class="headerlink" title="é…ç½®DispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰"></a>é…ç½®DispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰</h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>SpringMVC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--ç»‘å®šapplicationContext.xmlï¼Œé‡Œé¢ç”¨æ¥é…ç½®springmvcéœ€è¦çš„ä¸€äº›ä¸œè¥¿--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:applicationContext.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--è®¾ç½®å¯åŠ¨çº§åˆ«,1ä¸ºæœåŠ¡å™¨å·²å¯åŠ¨å°±å¯åŠ¨--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>SpringMVC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é…ç½®MultipartResolverè§£æå™¨"><a href="#é…ç½®MultipartResolverè§£æå™¨" class="headerlink" title="é…ç½®MultipartResolverè§£æå™¨"></a>é…ç½®MultipartResolverè§£æå™¨</h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/aop<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/mvc<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/p<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>c</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/c<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/context        http://www.springframework.org/schema/context/spring-context.xsd        http://www.springframework.org/schema/aop        http://www.springframework.org/schema/aop/spring-aop.xsd        http://www.springframework.org/schema/mvc        http://www.springframework.org/schema/mvc/spring-mvc.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--å¼€å¯æ³¨è§£æ‰«æ--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.pty.controller<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token comment">&lt;!--é…ç½®MultipartResoolverï¼Œç”¨äºæ–‡ä»¶ä¸Šä¼ --></span>    <span class="token comment">&lt;!--æ³¨æ„ï¼šCommonsMultipartResolverçš„idæ˜¯å›ºå®šä¸å˜çš„ï¼Œä¸€å®šæ˜¯multipartResolverï¼Œä¸èƒ½ä¿®æ”¹--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.web.multipart.commons.CommonsMultipartResolver<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>multipartResolver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--é˜ˆå€¼ï¼Œä½äºè¿™ä¸ªçš„ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œé«˜äºè¿™ä¸ªçš„ï¼Œç”Ÿæˆç¡¬ç›˜ä¸Šçš„ä¸´æ—¶æ–‡ä»¶--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>maxInMemorySize<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>40960<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚,è¿™æ˜¯æ€»çš„æ–‡ä»¶çš„å¤§å°--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>maxUploadSize<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>104857600<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--è®¾ç½®è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œè¿™é‡Œè®¾ç½®ä¸ºutf-8ï¼Œé»˜è®¤ä¸ºIOS-8859-1--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>defaultEncoding<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--å•ä¸ªæ–‡ä»¶å¤§å°ä¸Šé™--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>maxUploadSizePerFile<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10485760<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Controllerå±‚"><a href="#Controllerå±‚" class="headerlink" title="Controllerå±‚"></a>Controllerå±‚</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestParam</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Upload</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">)</span>    <span class="token comment">//@RequestParam("file)å°†å‰ç«¯è¡¨å•ä¸­name=fileçš„æ§ä»¶å¾—åˆ°çš„æ–‡ä»¶å°è£…æˆMultipartFile å¯¹è±¡</span>    <span class="token comment">//å¦‚æœä¸Šä¼ çš„æ˜¯å¤šæ–‡ä»¶ï¼Œå°†MutipartFileæ”¹æˆMutipartFile æ•°ç»„å³å¯</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//è·å–æ–‡ä»¶å</span>        <span class="token class-name">String</span> filename <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ¤æ–­æ˜¯å¦ä¸Šä¼ æ–‡ä»¶(å³æ–‡ä»¶åæ˜¯å¦ä¸ºç©º)ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿”å›ä¸Šä¼ é¡µ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token string">"ä¸Šä¼ å¤±è´¥"</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">/*        é™¤äº†é€šè¿‡åˆ¤æ–­æ–‡ä»¶åæ˜¯å¦ä¸ºç©ºæ¥åˆ¤æ–­æ˜¯å¦ä¸Šä¼ æ–‡ä»¶ï¼Œè¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥éªŒè¯        1. åˆ¤æ–­æ–‡ä»¶çš„å¤§å°æ˜¯å¦å¤§äº0ï¼šfile.getSize()å¾—åˆ°æ–‡ä»¶çš„å¤§å°ï¼Œè¿›è¡Œåˆ¤æ–­ã€‚        2.åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼š file.isEmpty()         */</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸Šä¼ æ–‡ä»¶å"</span> <span class="token operator">+</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–æ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼ˆç»å¯¹è·¯å¾„ï¼‰</span>        <span class="token comment">/*session.getServletContext()æ‹¿åˆ°äº†ä¸€ä¸ªservletçš„å®¹å™¨        è¿™ä¸ªpathçš„ä½ç½®æ˜¯        */</span>        <span class="token class-name">String</span> path <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¯ä»¥å¯¹ä¸Šä¼ çš„æ–‡ä»¶çš„ç±»å‹åšé™åˆ¶ï¼Œæ¯”å¦‚è¯´åªèƒ½å¤Ÿä¸Šä¼ jpgå’Œpngçš„å›¾ç‰‡æ–‡ä»¶</span>        <span class="token comment">//æ³¨æ„è¿™é‡Œçš„é€»è¾‘é—®é¢˜ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯ç”¨æˆ–ï¼Œä½†æ˜¯åº”è¯¥æ˜¯æ—¢ä¸æ˜¯jpgä¹Ÿä¸æ˜¯pngï¼Œåº”è¯¥ç”¨ä¸</span>        <span class="token comment">//endsWith:åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“å°¾</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>path<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"jpg"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>path<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token string">"æ ¼å¼ä¸ç¬¦åˆ"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æ–°å»ºæ–‡ä»¶å®ä¾‹</span>        <span class="token comment">/*è¿™é‡Œåº”è¯¥ä½¿ç”¨File(String parent, String child) æ„é€ æ–¹æ³•ï¼Œä»çˆ¶è·¯å¾„å’Œå­è·¯å¾„å­—ç¬¦åˆ›å»ºæ–°çš„Fileå®ä¾‹        å› ä¸ºä¸‹é¢çš„transferToï¼ˆï¼‰ä¼šå°†ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åˆ°ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­ï¼Œå³è®©è¿™ä¸ªç›®å½•æ–‡ä»¶å˜æˆä¸Šä¼ çš„æ–‡ä»¶ã€‚        æˆ‘ä¹‹å‰å°±æ˜¯ä½¿ç”¨File(String pathname)æ„é€ æ–¹æ³•ï¼Œä½¿å¾—uploadæ–‡ä»¶å¤¹å˜æˆäº†uploadæ–‡ä»¶*/</span>        <span class="token class-name">File</span> upfile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ¤æ–­æ˜¯å¦æœ‰æ­¤æ–‡ä»¶ï¼Œæ²¡æœ‰çš„è¯å°±åˆ›å»ºä¸€ä¸ªã€‚</span>        <span class="token comment">//å› ä¸ºå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä¿å­˜ï¼Œå°±æ²¡æœ‰æ–‡ä»¶ã€‚</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>upfile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">/*æ–°å»ºæ–‡ä»¶,å› ä¸ºä¸Šé¢åˆ›å»ºFileå®ä¾‹çš„æ—¶å€™ï¼Œåˆ›å»ºäº†ä¸¤å±‚è·¯å¾„ã€‚            mkdir()åˆ›å»ºç”±æ­¤æŠ½è±¡è·¯å¾„åå‘½åçš„ç›®å½•ã€‚            mkdirs() åˆ›å»ºç”±æ­¤æŠ½è±¡è·¯å¾„åå‘½åçš„ç›®å½•ï¼ŒåŒ…æ‹¬ä»»ä½•å¿…éœ€ä½†ä¸å­˜åœ¨çš„çˆ¶ç›®å½•ã€‚            å› ä¸ºåˆ›å»ºäº†ä¸¤å±‚è·¯å¾„ï¼Œç”¨å‰è€…åˆ›å»ºçš„æ—¶å€™åªä¼šåˆ›å»ºæœ€åä¸€å±‚ç›®å½•ï¼Œå¦‚æœç¬¬ä¸€å±‚è·¯å¾„æ²¡æœ‰ï¼Œåˆ™çœ‹ä¸åˆ°åˆ›å»ºå‡ºæ¥çš„ç›®å½•            è€Œåè€…åœ¨åˆ›å»ºæœ€åä¸€å±‚çš„ç›®å½•æ—¶ï¼Œè¿˜ä¼šåˆ›å»ºæœ€åä¸€å±‚ä¹‹å‰ä¸”ä¸å­˜åœ¨çš„ç›®å½•ã€‚            */</span>            upfile<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ä¸Šä¼ è·¯å¾„"</span> <span class="token operator">+</span> upfile<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//æ¥æ”¶ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶æµï¼Œè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶ä¸­</span>            file<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span>upfile<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ä¸Šä¼ å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¾—åˆ°ä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„å’Œåå­—ï¼Œå°†å…¶ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åå°†è¿™ä¸ªå€¼ä¿å­˜åˆ°æ•°æ®åº“ã€‚</span>        <span class="token comment">//æ¯”å¦‚è¯´å›¾ç‰‡ï¼Œç”¨æˆ·ä¸Šä¼ å¤´åƒï¼Œæˆ‘ä»¬å°†å›¾åƒè·¯å¾„ä¿å­˜åˆ°æ•°æ®åº“ï¼Œæ˜¾ç¤ºçš„æ—¶å€™ç›´æ¥å°†è¿™ä¸ªåœ°å€è¿”å›ç»™å‰ç«¯</span>        <span class="token comment">//ç„¶åå°±å¯ä»¥æ˜¾ç¤ºå›¾ç‰‡</span>        <span class="token class-name">String</span> filePath <span class="token operator">=</span> path<span class="token operator">+</span>filename<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‡å°‘äº†ä¸€äº›æ³¨é‡Šï¼Œä»¥åå¯ä»¥ç›´æ¥æ‹¿è¿‡æ¥ç”¨</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>pty<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PostMapping</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestParam</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@RestController</span>    <span class="token keyword">public</span> <span class="token keyword">class</span> fileupload <span class="token punctuation">&#123;</span>        <span class="token comment">//@RequestParam("file)å°†å‰ç«¯è¡¨å•ä¸­name=fileçš„æ§ä»¶å¾—åˆ°çš„æ–‡ä»¶å°è£…æˆMultipartFile å¯¹è±¡</span>        <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">)</span>        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> filename <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token string">"redirect:index.jsp"</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸Šä¼ çš„æ–‡ä»¶åï¼š"</span><span class="token operator">+</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è·å–æ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼ˆç»å¯¹è·¯å¾„ï¼‰</span>            <span class="token comment">//session.getServletContext()æ‹¿åˆ°äº†ä¸€ä¸ªservletçš„å®¹å™¨</span>            <span class="token class-name">String</span> path <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>filename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"jpg"</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>filename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token string">"redirect:index.jsp"</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">File</span> upfile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>upfile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                upfile<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ä¸Šä¼ è·¯å¾„"</span> <span class="token operator">+</span> upfile<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                file<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span>upfile<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸Šä¼ å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token string">"hahah"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¤šæ–‡ä»¶ä¸Šä¼ "><a href="#å¤šæ–‡ä»¶ä¸Šä¼ " class="headerlink" title="å¤šæ–‡ä»¶ä¸Šä¼ "></a>å¤šæ–‡ä»¶ä¸Šä¼ </h2><p>ä¸Šé¢çš„æ“ä½œæ˜¯å•æ–‡ä»¶ä¸Šä¼ ï¼Œä½†æœ‰æ—¶å€™ä¼šéœ€è¦ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬çš„æ–¹æ³•æ˜¯å°†å¤šæ–‡ä»¶ä¸Šä¼ åˆ†è§£æˆå•æ–‡ä»¶ä¸Šä¼ ã€‚</p><p>å¯ä»¥é€šè¿‡ä¸€ä¸ªæ–¹æ³•æ¥æ¥æ”¶å‰ç«¯ä¼ è¿‡æ¥çš„æ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬å°†æ–‡ä»¶éå†ï¼Œå•ä¸ªæ–‡ä»¶åœ¨è°ƒç”¨ä¿å­˜æ–¹æ³•ã€‚</p><h3 id="å‰ç«¯é¡µé¢"><a href="#å‰ç«¯é¡µé¢" class="headerlink" title="å‰ç«¯é¡µé¢"></a>å‰ç«¯é¡µé¢</h3><p>ä¸€æ¬¡æ€§é€‰æ‹©å¤šä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œåœ¨inputæ ‡ç­¾ä¸­æ·»åŠ <strong>multiple</strong>å±æ€§</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;pageContext.request.contextPath&#125;/test/upload.do<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>multipart/form-data<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   ä¸€æ¬¡é€‰æ‹©å¤šä¸ªæ–‡ä»¶çš„å¤šæ–‡ä»¶ä¸Šä¼  : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>imgs1<span class="token punctuation">"</span></span> <span class="token attr-name">multiple</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    ä¸€æ¬¡é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶çš„å¤šæ–‡ä»¶ä¸Šä¼  : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>imgs2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>imgs2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    å•æ–‡ä»¶ä¸Šä¼  : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>imgs3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æäº¤<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Controllerå±‚-1"><a href="#Controllerå±‚-1" class="headerlink" title="Controllerå±‚"></a>Controllerå±‚</h3><p>å¤šæ–‡ä»¶ä¸Šä¼ æ˜¯ï¼Œéœ€è¦ç”¨MultipartFileæ•°ç»„æ¥æ¥æ”¶è¿™äº›æ–‡ä»¶ã€‚</p><p>è™½ç„¶ä»å‰ç«¯æ¥æ”¶åˆ°äº†å¤šä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯springmvcåªä¼šå°†ä¸€ä¸ªæ–‡ä»¶å°è£…è¿›ä¸€ä¸ªMultipartFileå¯¹è±¡ï¼Œè€Œä¸ä¼šå°†å¤šä¸ªæ–‡ä»¶å°è£…è¿›ä¸€ä¸ªMutipartFileæ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨<code>@RequestParam</code>æ³¨è§£æ¥æ ¡æ­£å‚æ•°ï¼Œå¿…é¡»å†™ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/test"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/upload.do"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> imgs1<span class="token punctuation">,</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> imgs2<span class="token punctuation">,</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> imgs3<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span>      <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> path <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">"images"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> img <span class="token operator">:</span> imgs1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//éå†æ–‡ä»¶ï¼Œå•ä¸ªæ–‡ä»¶åœ¨è°ƒç”¨ä¿å­˜çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢å†™çš„controller,è¿™é‡Œå°±ä¸å†™äº†ã€‚</span>      <span class="token function">uploadFile</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> img<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> img <span class="token operator">:</span> imgs2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">uploadFile</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> img<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> img <span class="token operator">:</span> imgs3<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">uploadFile</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> img<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token string">"/success.jsp"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h2><h3 id="MultipartFileç±»å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•"><a href="#MultipartFileç±»å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•" class="headerlink" title="MultipartFileç±»å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•"></a>MultipartFileç±»å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•</h3><ul><li>String getContentType()ï¼šè·å–æ–‡ä»¶MIMEç±»å‹</li><li>InputStream getInputStream()ï¼šåå»æ–‡ä»¶æµ</li><li>String getName() ï¼šè·å–è¡¨å•ä¸­æ–‡ä»¶ç»„ä»¶çš„åå­—</li><li>String getOriginalFilename() ï¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„åŸå</li><li>long getSize() ï¼šè·å–æ–‡ä»¶çš„å­—èŠ‚å¤§å°ï¼Œå•ä½byte</li><li>boolean isEmpty() ï¼šæ˜¯å¦ä¸ºç©º</li><li>void transferTo(File dest) ï¼šä¿å­˜åˆ°ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ä¸­ã€‚</li></ul><h3 id="CommonsMultipartResolverçš„å±æ€§è§£æ"><a href="#CommonsMultipartResolverçš„å±æ€§è§£æ" class="headerlink" title="CommonsMultipartResolverçš„å±æ€§è§£æ"></a>CommonsMultipartResolverçš„å±æ€§è§£æ</h3><ul><li>defaultEncodingï¼šè¡¨ç¤ºç”¨æ¥è§£ærequestè¯·æ±‚çš„é»˜è®¤ç¼–ç æ ¼å¼ï¼Œå½“æ²¡æœ‰æŒ‡å®šçš„æ—¶å€™æ ¹æ®Servletè§„èŒƒä¼šä½¿ç”¨é»˜è®¤å€¼ISO-8859-1ã€‚å½“requestè‡ªå·±æŒ‡æ˜äº†å®ƒçš„ç¼–ç æ ¼å¼çš„æ—¶å€™å°±ä¼šå¿½ç•¥è¿™é‡ŒæŒ‡å®šçš„defaultEncodingã€‚</li><li>uploadTempDirï¼šè®¾ç½®ä¸Šä¼ æ–‡ä»¶æ—¶çš„ä¸´æ—¶ç›®å½•ï¼Œé»˜è®¤æ˜¯Servletå®¹å™¨çš„ä¸´æ—¶ç›®å½•ã€‚</li><li>maxUploadSizeï¼šè®¾ç½®å…è®¸ä¸Šä¼ çš„æ€»çš„æœ€å¤§æ–‡ä»¶å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½è®¡ç®—ã€‚å½“è®¾ä¸º-1æ—¶è¡¨ç¤ºæ— é™åˆ¶ï¼Œé»˜è®¤æ˜¯-1ã€‚</li><li>maxUploadSizePerFileï¼šè·ŸmaxUploadSizeå·®ä¸å¤šï¼Œä¸è¿‡maxUploadSizePerFileæ˜¯é™åˆ¶æ¯ä¸ªä¸Šä¼ æ–‡ä»¶çš„å¤§å°ï¼Œè€ŒmaxUploadSizeæ˜¯é™åˆ¶æ€»çš„ä¸Šä¼ æ–‡ä»¶å¤§å°ã€‚</li><li>maxInMemorySizeï¼šè®¾ç½®åœ¨æ–‡ä»¶ä¸Šä¼ æ—¶å…è®¸å†™åˆ°å†…å­˜ä¸­çš„æœ€å¤§å€¼ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½è®¡ç®—ï¼Œé»˜è®¤æ˜¯10240ã€‚</li><li>resolveLazilyï¼šä¸ºtrueæ—¶ï¼Œå¯ç”¨æ¨è¿Ÿæ–‡ä»¶è§£æï¼Œä»¥ä¾¿åœ¨UploadActionä¸­æ•è·æ–‡ä»¶å¤§å°å¼‚å¸¸ã€‚</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸Šé¢çš„å¤šæ–‡ä»¶ä¸Šä¼ æ˜¯å‚è€ƒä¸€éåšå®¢çš„ï¼Œæˆ‘è‡ªå·±æ²¡æœ‰æ‰“ä»£ç å®ç°ï¼Œå¯èƒ½ä¼šå­˜åœ¨é—®é¢˜ã€‚</p><p>ç»è¿‡è¿™æ¬¡æ“ä½œï¼Œå‘ç°äº†ä¸€äº›é—®é¢˜ã€‚</p><ol><li>è¦ä¿æŒä¸€ä¸ªå¥½çš„å¿ƒæ€ï¼Œä¸€èˆ¬é—®é¢˜çš„å‡ºç°æ˜¯ä¸€ä¸ªæ¥ç€ä¸€ä¸ªçš„ï¼Œä¸è¦å¤ªæ—©å´©æºƒã€‚</li><li>å‡ºç°é”™è¯¯çš„æ—¶å€™ï¼Œå…ˆæ£€æŸ¥ä¸‹è‡ªå·±çš„ç¯å¢ƒï¼Œå¾ˆå¤šæ—¶å€™å¹¶ä¸æ˜¯ä»£ç çš„åŸå› è€Œæ˜¯ç¯å¢ƒçš„é—®é¢˜ï¼Œæ¯”å¦‚è¯´ä¸€äº›ä¾èµ–æ²¡æœ‰å¯¼å…¥ï¼Œé¡¹ç›®ç»“æ„ä¸­çš„Artifactsä¸­æ²¡æœ‰jaråŒ…ã€‚</li><li>å°½é‡å¤šæŸ¥æ–‡æ¡£ä¹‹ç±»çš„ã€‚</li><li>æ²¡äº‹åˆ«æ‰‹è´±ä¹±åˆ ä¸œè¥¿ï¼Œè¯´çœŸçš„å¼ºè¿«ç—‡æç¨‹åºå‘˜å¤ªéš¾äº†ï¼Œçœ‹åˆ°ä¸€äº›æ²¡ç”¨çš„ä¸œè¥¿å°±æƒ³åˆ ï¼Œä½†æ˜¯é‚£ä¸ªå¯èƒ½åªæ˜¯ä½ ä»¥ä¸ºæ²¡æœ‰ç”¨ã€‚</li><li>è¦ç†Ÿæ‚‰æ–°å»ºä¸€ä¸ªæ¨¡æ¿çš„æµç¨‹ï¼Œç°åœ¨ç”¨çš„æ˜¯springmvc,éœ€è¦è‡ªå·±é…ç½®tomcatï¼Œè®©é¡¹ç›®å˜æˆwebé¡¹ç›®ã€‚è™½ç„¶springbootåœ¨è¿™äº›æ–¹é¢æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†æ˜¯è¿˜æ˜¯è¦å¤šåŠ ç»ƒä¹ ã€‚</li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å•æ–‡ä»¶ä¸Šä¼ &quot;&gt;&lt;a href=&quot;#å•æ–‡ä»¶ä¸Šä¼ &quot; class=&quot;headerlink&quot; title=&quot;å•æ–‡ä»¶ä¸Šä¼ &quot;&gt;&lt;/a&gt;å•æ–‡ä»¶ä¸Šä¼ &lt;/h2&gt;&lt;h3 id=&quot;å‰ç«¯é¡µé¢çš„è¦æ±‚&quot;&gt;&lt;a href=&quot;#å‰ç«¯é¡µé¢çš„è¦æ±‚&quot; class=&quot;headerlink&quot; title=&quot;å‰ç«¯é¡µé¢çš„è¦æ±‚&quot;&gt;&lt;/a&gt;å‰ç«¯é¡µé¢çš„è¦æ±‚&lt;/h3&gt;&lt;p&gt;ä¸ºäº†ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„methodè®¾ç½®ä¸ºPOSTï¼Œå¹¶å°†enctypeè®¾ç½®ä¸ºmultipart/form-dataã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æµæ•°æ®å‘é€ç»™æœåŠ¡å™¨ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="ç¬”è®°" scheme="http://example.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="springmvc" scheme="http://example.com/tags/springmvc/"/>
    
    <category term="æ–‡ä»¶ä¸Šä¼ " scheme="http://example.com/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
  </entry>
  
</feed>
